(window.JSON&&window.JSON["stringify"])||(function(){window.JSON||(window.JSON={});function toJSON(key){try{return this.valueOf()}catch(e){return null}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];if(value&&typeof value==="object"){value=toJSON.call(value,key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text){return eval("("+text+")")}}}());var NOW=1,READY=false,READY_BUFFER=[],PRESENCE_SUFFIX="-pnpres",DEF_WINDOWING=10,DEF_TIMEOUT=10000,DEF_SUB_TIMEOUT=310,DEF_KEEPALIVE=60,SECOND=1000,URLBIT="/",PARAMSBIT="&",REPL=/{([\w\-]+)}/g;function unique(){return"x"+ ++NOW+""+(+new Date)}function rnow(){return +new Date}var nextorigin=(function(){var a=20,b=Math.floor(Math.random()*a);return function(d,c){return d.indexOf("pubsub.")>0&&d.replace("pubsub","ps"+(c?uuid().split("-")[0]:(++b<a?b:b=1)))||d}})();function build_url(c,d){var b=c.join(URLBIT),a=[];if(!d){return b}each(d,function(e,f){a.push(e+"="+encode(f))});b+="?"+a.join(PARAMSBIT);return b}function updater(a,c){var e,b=0,d=function(){if(b+c>rnow()){clearTimeout(e);e=setTimeout(d,c)}else{b=rnow();a()}};return d}function grep(c,b){var a=[];each(c||[],function(d){b(d)&&a.push(d)});return a}function supplant(a,b){return a.replace(REPL,function(c,d){return b[d]||c})}function timeout(a,b){return setTimeout(a,b)}function uuid(a){var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var e=Math.random()*16|0,f=d=="x"?e:(e&3|8);return f.toString(16)});if(a){a(b)}return b}function each(d,a){if(!d||!a){return}if(typeof d[0]!="undefined"){for(var b=0,c=d.length;b<c;){a.call(d[b],d[b],b++)}}else{for(var b in d){d.hasOwnProperty&&d.hasOwnProperty(b)&&a.call(d[b],b,d[b])}}}function map(c,b){var a=[];each(c||[],function(d,e){a.push(b(d,e))});return a}function encode(a){return map((encodeURIComponent(a)).split(""),function(b){return"-_.!~*'()".indexOf(b)<0?b:"%"+b.charCodeAt(0).toString(16).toUpperCase()}).join("")}function generate_channel_list(a){var b=[];each(a,function(c,d){if(d.subscribed){b.push(c)}});return b.sort()}function ready(){timeout(function(){if(READY){return}READY=1;each(READY_BUFFER,function(a){a()})},SECOND)}function PN_API(t){var E=+t.windowing||DEF_WINDOWING,D=(+t.timeout||DEF_SUB_TIMEOUT)*SECOND,n=(+t.keepalive||DEF_KEEPALIVE)*SECOND,r=t.publish_key||"",F=t.subscribe_key||"",e=t.auth_key||"",u=t.ssl?"s":"",o="http"+u+"://"+(t.origin||"pubsub.pubnub.com"),v=nextorigin(o),A=nextorigin(o),g=function(){},p=[],y=0,z=0,B=0,C=0,w=0,G=0,f={},I=t.xdr,l=t.error||function(){},a=t._is_online||function(){return 1},m=t.jsonp_cb||function(){return 0},h=t.db||{get:function(){},set:function(){}},H=t.uuid||(h&&h.get(F+"uuid")||"");function q(J){if(J){p.sending=0}if(p.sending||!p.length){return}p.sending=1;I(p.shift())}function j(J){var K=0;each(generate_channel_list(f),function(M){var L=f[M];if(!L){return}K++;(J||function(){})(L)});return K}var s={LEAVE:function(K,J){var L={uuid:H,auth:e},N=nextorigin(o),M=m();if(K.indexOf(PRESENCE_SUFFIX)>0){return}if(M!="0"){L.callback=M}I({blocking:J||u,timeout:2000,callback:M,data:L,url:[N,"v2","presence","sub_key",F,"channel",encode(K),"leave"]})},history:function(J,K){var K=J.callback||K,M=J.count||J.limit||100,R=J.reverse||"false",O=J.error||function(){},L=J.channel,S=J.start,N=J.end,Q={},P=m();if(!L){return l("Missing Channel")}if(!K){return l("Missing Callback")}if(!F){return l("Missing Subscribe Key")}Q.stringtoken="true";Q.count=M;Q.reverse=R;Q.auth=e;if(P){Q.callback=P}if(S){Q.start=S}if(N){Q.end=N}I({callback:P,data:Q,success:function(T){K(T)},fail:O,url:[v,"v2","history","sub-key",F,"channel",encode(L)]})},replay:function(J){var K=K||J.callback||function(){},R=J.source,M=J.destination,T=J.stop,S=J.start,N=J.end,Q=J.reverse,P=J.limit,O=m(),L={},U;if(!R){return l("Missing Source Channel")}if(!M){return l("Missing Destination Channel")}if(!r){return l("Missing Publish Key")}if(!F){return l("Missing Subscribe Key")}if(O!="0"){L.callback=O}if(T){L.stop="all"}if(Q){L.reverse="true"}if(S){L.start=S}if(N){L.end=N}if(P){L.count=P}L.auth=e;U=[v,"v1","replay",r,F,R,M];I({callback:O,success:function(V){K(V)},fail:function(){K([0,"Disconnected"])},url:U,data:L})},auth:function(J){e=J;g()},time:function(J){var K=m();I({callback:K,data:{uuid:H,auth:e},timeout:SECOND*5,url:[v,"time",K],success:function(L){J(L[0])},fail:function(){J(0)}})},publish:function(J,K){var K=K||J.callback||function(){},N=J.message,L=J.channel,M=m(),O;if(!N){return l("Missing Message")}if(!L){return l("Missing Channel")}if(!r){return l("Missing Publish Key")}if(!F){return l("Missing Subscribe Key")}N=JSON.stringify(N);O=[v,"publish",r,F,0,encode(L),M,encode(N)];p.push({callback:M,timeout:SECOND*5,url:O,data:{uuid:H,auth:e},success:function(P){K(P);q(1)},fail:function(){K([0,"Failed",N]);q(1)}});q()},unsubscribe:function(J){var K=J.channel;G=0;C=1;K=map((K.join?K.join(","):""+K).split(","),function(L){return L+","+L+PRESENCE_SUFFIX}).join(",");each(K.split(","),function(L){if(READY){s.LEAVE(L,0)}f[L]=0});g()},subscribe:function(L,N){var O=L.channel,N=N||L.callback,N=N||L.message,P=L.connect||function(){},U=L.reconnect||function(){},Q=L.disconnect||function(){},R=L.error||function(){},T=L.presence||0,S=L.noheresync||0,M=L.backfill||0,X=L.timetoken||0,W=L.timeout||D,Y=L.windowing||E,V=L.restore;C=V;G=X;if(!O){return l("Missing Channel")}if(!N){return l("Missing Callback")}if(!F){return l("Missing Subscribe Key")}each((O.join?O.join(","):""+O).split(","),function(Z){var aa=f[Z]||{};f[z=Z]={name:Z,connected:aa.connected,disconnected:aa.disconnected,subscribed:1,callback:y=N,connect:P,disconnect:Q,reconnect:U};if(!T){return}s.subscribe({channel:Z+PRESENCE_SUFFIX,callback:T});if(aa.subscribed){return}if(S){return}s.here_now({channel:Z,callback:function(ab){each("uuids" in ab?ab.uuids:[],function(ac){T({action:"join",uuid:ac,timestamp:rnow(),occupancy:ab.occupancy||1},ab,Z)})}})});function K(Z){if(Z){timeout(g,SECOND)}else{v=nextorigin(o,1);A=nextorigin(o,1);timeout(function(){s.time(K)},SECOND)}j(function(aa){if(Z&&aa.disconnected){aa.disconnected=0;return aa.reconnect(aa.name)}if(!Z&&!aa.disconnected){aa.disconnected=1;aa.disconnect(aa.name)}})}function J(){var aa=m(),Z=generate_channel_list(f).join(",");if(!Z){return}d();B=I({timeout:W,callback:aa,fail:function(){B=null;s.time(K)},data:{uuid:H,auth:e},url:[A,"subscribe",F,encode(Z),aa,G],success:function(ab){B=null;if(!ab||(typeof ab=="object"&&"error" in ab&&!ab.error)){R(ab);return timeout(g,Y)}G=!G&&C&&h.get(F)||ab[1];j(function(ad){if(ad.connected){return}ad.connected=1;ad.connect(ad.name)});if(M){G=10000;M=0}h.set(F,ab[1]);var ac=(function(){var ad=(ab.length>2?ab[2]:map(f,function(af){return map(Array(ab[0].length).join(",").split(","),function(){return af})}).join(","));var ae=ad.split(",");return function(){var af=ae.shift()||z;return[(f[af]||{}).callback||y,af.split(PRESENCE_SUFFIX)[0]]}})();each(ab[0],function(ad){var ae=ac();ae[0](ad,ab,ae[1])});timeout(J,Y)}})}g=function(){d();timeout(J,Y)};if(!READY){return READY_BUFFER.push(g)}g()},here_now:function(J,K){var K=J.callback||K,N=J.error||function(){},L=J.channel,O=m(),M={uuid:H,auth:e};if(!L){return l("Missing Channel")}if(!K){return l("Missing Callback")}if(!F){return l("Missing Subscribe Key")}if(O!="0"){M.callback=O}I({callback:O,data:M,success:function(P){K(P,L)},fail:N,url:[v,"v2","presence","sub_key",F,"channel",encode(L)]})},xdr:I,ready:ready,db:h,uuid:uuid,map:map,each:each,"each-channel":j,grep:grep,offline:function(){d(1)},supplant:supplant,now:rnow,unique:unique,updater:updater};function b(){a()||d(1);timeout(b,SECOND)}function c(){s.time(function(J){J||d(1);timeout(c,n)})}function d(J){B&&B(J);B=null}if(!H){H=s.uuid()}h.set(F+"uuid",H);timeout(b,SECOND);timeout(c,n);s.time(function(){});return s}window.PUBNUB||(function(){var w="https://pubnub.a.ssl.fastly.net/pubnub.swf",d="async",y=navigator.userAgent,t="PubNub-JS-Web/3.5.3",B=y.indexOf("MSIE 6")==-1;window.console||(window.console=window.console||{});console.log||(console.log=console.error=((window.opera||{}).postError||function(){}));var l=(function(){var C=window.localStorage;return{get:function(E){try{if(C){return C.getItem(E)}if(document.cookie.indexOf(E)==-1){return null}return((document.cookie||"").match(RegExp(E+"=([^;]+)"))||[])[1]||null}catch(D){return}},set:function(E,F){try{if(C){return C.setItem(E,F)&&0}document.cookie=E+"="+F+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(D){return}}}})();function a(C){return document.getElementById(C)}function m(C){console.error(C)}function v(C,E){var D=[];each(C.split(/\s+/),function(F){each((E||document).getElementsByTagName(F),function(G){D.push(G)})});return D}function f(E,C,D){each(E.split(","),function(F){var G=function(H){if(!H){H=window.event}if(!D(H)){H.cancelBubble=true;H.returnValue=false;H.preventDefault&&H.preventDefault();H.stopPropagation&&H.stopPropagation()}};if(C.addEventListener){C.addEventListener(F,G,false)}else{if(C.attachEvent){C.attachEvent("on"+F,G)}else{C["on"+F]=G}}})}function z(E,C,D){if(C.removeEventListener){C.removeEventListener(E,false)}else{if(C.detachEvent){C.detachEvent("on"+E,false)}else{C["on"+E]=null}}}function p(){return v("head")[0]}function e(D,C,E){if(E){D.setAttribute(C,E)}else{return D&&D.getAttribute&&D.getAttribute(C)}}function j(D,F){for(var E in F){if(F.hasOwnProperty(E)){try{D.style[E]=F[E]+("|width|height|top|left|".indexOf(E)>0&&typeof F[E]=="number"?"px":"")}catch(C){}}}}function g(C){return document.createElement(C)}function q(){return B||o()?0:unique()}var n={list:{},unbind:function(C){n.list[C]=[]},bind:function(D,C){(n.list[D]=n.list[D]||[]).push(C)},fire:function(D,C){each(n.list[D]||[],function(E){E(C)})}};function A(K){if(B||o()){return c(K)}var J=g("script"),D=K.callback,I=unique(),H=0,N=K.timeout||DEF_TIMEOUT,M=timeout(function(){F(1)},N),G=K.fail||function(){},E=K.data||{},L=K.success||function(){},C=function(){p().appendChild(J)},F=function(O,P){if(H){return}H=1;J.onerror=null;clearTimeout(M);(O||!P)||L(P);timeout(function(){O&&G();var R=a(I),Q=R&&R.parentNode;Q&&Q.removeChild(R)},SECOND)};window[D]=function(O){F(0,O)};if(!K.blocking){J[d]=d}J.onerror=function(){F(1)};E.pnsdk=t;J.src=build_url(K.url,E);e(J,"id",I);C();return F}function c(L){var P,K,I=function(){if(J){return}J=1;clearTimeout(N);try{K=JSON.parse(P.responseText)}catch(R){return F(1)}D=1;M(K)},D=0,J=0,Q=L.timeout||DEF_TIMEOUT,N=timeout(function(){F(1)},Q),H=L.fail||function(){},E=L.data||{},M=L.success||function(){},C=(typeof(L.blocking)==="undefined"),F=function(R){if(D){return}D=1;clearTimeout(N);if(P){P.onerror=P.onload=null;P.abort&&P.abort();P=null}R&&H()};try{P=o()||window.XDomainRequest&&new XDomainRequest()||new XMLHttpRequest();P.onerror=P.onabort=function(){F(1)};P.onload=P.onloadend=I;if(C){P.timeout=Q}E.pnsdk=t;var O=build_url(L.url,E);P.open("GET",O,C);P.send()}catch(G){F(0);B=0;return A(L)}return F}function b(){if(!("onLine" in navigator)){return 1}return navigator.onLine}var s=a("pubnub")||0,h=function(E){if(E.jsonp){B=0}var F=E.subscribe_key||"",C=(+E.keepalive||DEF_KEEPALIVE)*SECOND,G=E.uuid||l.get(F+"uuid")||"";E.xdr=A;E.db=l;E.error=m;E._is_online=b;E.jsonp_cb=q;var D=PN_API(E);D.css=j;D["$"]=a;D.create=g;D.bind=f;D.head=p;D.search=v;D.attr=e;D.events=n;D.init=h;if(E.notest){return D}f("offline",window,D.offline);f("offline",document,D.offline);return D};f("load",window,function(){timeout(ready,0)});var r=s||{};PUBNUB=h({notest:1,publish_key:e(r,"pub-key"),subscribe_key:e(r,"sub-key"),ssl:!document.location.href.indexOf("https")||e(r,"ssl")=="on",origin:e(r,"origin"),uuid:e(r,"uuid")});window.jQuery&&(window.jQuery["PUBNUB"]=PUBNUB);typeof(module)!=="undefined"&&(module.exports=PUBNUB)&&ready();var u=a("pubnubs")||0;if(!s){return}j(s,{position:"absolute",top:-SECOND});if("opera" in window||e(s,"flash")){s.innerHTML="<object id=pubnubs data="+w+"><param name=movie value="+w+"><param name=allowscriptaccess value=always></object>"}PUBNUB.rdx=function(D,C){if(!C){return o[D]["onerror"]()}o[D]["responseText"]=unescape(C);o[D]["onload"]()};function o(){if(!u||!u.get){return 0}var C={id:o.id++,send:function(){},abort:function(){C.id={}},open:function(D,E){o[C.id]=C;u.get(C.id,E)}};return C}o.id=SECOND})();(function(){var a=PUBNUB.ws=function(g,d){if(!(this instanceof a)){return new a(g,d)}var e=this,g=e.url=g||"",c=e.protocol=d||"Sec-WebSocket-Protocol",b=g.split("/"),f={ssl:b[0]==="wss:",origin:b[2],publish_key:b[3],subscribe_key:b[4],channel:b[5]};e.CONNECTING=0;e.OPEN=1;e.CLOSING=2;e.CLOSED=3;e.CLOSE_NORMAL=1000;e.CLOSE_GOING_AWAY=1001;e.CLOSE_PROTOCOL_ERROR=1002;e.CLOSE_UNSUPPORTED=1003;e.CLOSE_TOO_LARGE=1004;e.CLOSE_NO_STATUS=1005;e.CLOSE_ABNORMAL=1006;e.onclose=e.onerror=e.onmessage=e.onopen=e.onsend=function(){};e.binaryType="";e.extensions="";e.bufferedAmount=0;e.trasnmitting=false;e.buffer=[];e.readyState=e.CONNECTING;if(!g){e.readyState=e.CLOSED;e.onclose({code:e.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:true});return e}e.pubnub=PUBNUB.init(f);e.pubnub.setup=f;e.setup=f;e.pubnub.subscribe({restore:false,channel:f.channel,disconnect:e.onerror,reconnect:e.onopen,error:function(){e.onclose({code:e.CLOSE_ABNORMAL,reason:"Missing URL",wasClean:false})},callback:function(h){e.onmessage({data:h})},connect:function(){e.readyState=e.OPEN;e.onopen()}})};a.prototype.send=function(b){var c=this;c.pubnub.publish({channel:c.pubnub.setup.channel,message:b,callback:function(d){c.onsend({data:d})}})};a.prototype.close=function(){var b=this;b.pubnub.unsubscribe({channel:b.pubnub.setup.channel});b.readyState=b.CLOSED;b.onclose({})}})();
/* jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e){return this}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n)){for(i in n){x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])}}return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2]){return r.find(e)}this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++){if(null!=(o=arguments[l])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r))}}}return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body){return setTimeout(x.ready)}x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e)){return !1}try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf")){return !1}}catch(r){return !1}if(x.support.ownLast){for(n in e){return v.call(e,n)}}for(n in e){}return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e){return !1}return !0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null}"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break}}}}return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m){return m.call(t,e,n)}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n}}}return -1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o]}}else{while(n[o]!==t){e[i++]=n[o++]}}return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o])}return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r)}}return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r){x.access(e,n,l,r[l],!0,a,s)}}else{if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n)){for(;u>l;l++){n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)))}}}return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o]}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o]}return i}}),x.ready.promise=function(t){if(!n){if(n=x.Deferred(),"complete"===a.readyState){setTimeout(x.ready)}else{if(a.addEventListener){a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1)}else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}}}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++){if(this[t]===e){return t}}return -1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e){return n}if(1!==(l=t.nodeType)&&9!==l){return[]}if(h&&!i){if(o=Z.exec(e)){if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode){return n}if(a.id===s){return n.push(a),n}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s){return n.push(a),n}}}else{if(o[2]){return M.apply(n,t.getElementsByTagName(e)),n}if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName){return M.apply(n,t.getElementsByClassName(s)),n}}}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--){c[u]=m+yt(c[u])}y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x){try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return !!e(t)}catch(n){return !1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--){o.attrHandle[n[r]]=t}}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return -1}}}return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n)}return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0}}}return !1},A=d.compareDocumentPosition?function(e,t){if(e===t){return S=!0,0}var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return S=!0,0}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0}if(o===a){return pt(e,t)}r=e;while(r=r.parentNode){s.unshift(r)}r=t;while(r=r.parentNode){l.unshift(r)}while(s[i]===l[i]){i++}return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t))){try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType){return n}}catch(i){}}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++]){t===e[o]&&(i=n.push(o))}while(i--){e.splice(n[i],1)}}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent}for(e=e.firstChild;e;e=e.nextSibling){n+=a(e)}}else{if(3===i||4===i){return e.nodeValue}}}else{for(;t=e[r];r++){n+=a(t)}}return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return !0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1}}h=g="only"===e&&!h&&"nextSibling"}return !0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}}else{if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T){f=u[1]}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t)){break}}}}return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--){(o=a[s])&&(e[s]=!(t[s]=o))}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType);return !1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1}}return !0},parent:function(e){return !o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2){e.push(n)}return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2){e.push(n)}return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r)}return e})}},o.pseudos.nth=o.pseudos.eq;for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){o.pseudos[n]=ft(n)}for(n in {submit:!0,reset:!0}){o.pseudos[n]=dt(n)}function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c){return t?0:c.slice(0)}s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter){!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length))}if(!n){break}}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value}return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r]){if(1===t.nodeType||o){return e(t,n,i)}}}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r]){if((1===t.nodeType||o)&&e(t,n,s)){return !0}}}else{while(t=t[r]){if(1===t.nodeType||o){if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i){return l===!0}}else{if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0){return !0}}}}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1}}return !0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s))}return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--){(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}}if(o){if(i||e){if(i){u=[],c=y.length;while(c--){(p=y[c])&&u.push(m[c]=p)}i(null,y=[],u,l)}c=y.length;while(c--){(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}}else{y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)}})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return !a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++){if(n=o.relative[e[l].type]){f=[vt(bt(f),n)]}else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++){if(o.relative[e[r].type]){break}}return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||0.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,l,c)){p.push(h);break}}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++]){m(x,y,l,c)}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=q.call(p))}}y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--){o=Tt(t[n]),o[b]?r.push(o):i.push(o)}o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++){at(e,t[r],n)}return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t){return n}e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type]){break}if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e){return M.apply(n,i),n}break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++){if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1){l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return !l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return !u},fireWith:function(e,t){return !l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return !!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1){for(s=Array(r),l=Array(r),u=Array(r);r>t;t++){n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i}}return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length){return t}s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1}d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t)){break}return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n){return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--){delete r[t[i]]}if(n?!I(r):!x.isEmptyObject(r)){return}}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1}var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return !t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++){i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]))}x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else{r=t}}return r}function I(e){var t;for(t in e){if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t){return !1}}return !0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l))}return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).addClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(T)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ")}n.className=x.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))})}if(l){for(t=(e||"").match(T)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?x.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++]){o.hasClass(t)?o.removeClass(t):o.addClass(t)}}else{(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0){return !0}}return !1},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o))})}if(o){return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++){if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o){return t}a.push(t)}}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--){r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0)}return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get" in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set" in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType){while(n=o[i++]){r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)}}},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n]}},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0}function ot(){return !1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--){s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0)}e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--){if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a))}l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else{for(d in c){x.event.remove(e,d+t[u],n,r,!0)}}}x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode){h.push(u),f=u}f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault()}if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type)){for(;u!=this;u=u.parentNode||this){if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i)}o.length&&s.push({elem:u,handlers:o})}}}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando]){return e}var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--){n=r[t],e[n]=o[n]}return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus){try{return this.focus(),!1}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o)}return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot}else{if(!i){return this}}return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if("object"==typeof e){for(o in e){this.off(o,n,e[o])}return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e){return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++){if(x.contains(r[t],this)){return !0}}}))}for(t=0;i>t;t++){x.find(e,r[t],n)}return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(x.contains(this,n[t])){return !0}}})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return !!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}}}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r))){1===o.nodeType&&i.push(o),o=o[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e)}return n}});function ft(e,t,n){if(x.isFunction(t)){return x.grep(e,function(e,r){return !!t.call(e,r,e)!==n})}if(t.nodeType){return x.grep(e,function(e){return e===t!==n})}if("string"==typeof t){if(st.test(t)){return x.filter(t,e,n)}t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++){t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n))}return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild){e.removeChild(e.firstChild)}e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t}if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e)}n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h)){return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)})}if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++){i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u)}if(o){for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++){i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")))}}l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++){x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){x.event.add(t,n,s[n][r])}}}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events){x.removeEvent(t,r,i.handle)}t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get())}return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n))}}return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e))){for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a){r[a]&&Ot(i,r[a])}}if(t){if(n){for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++){Mt(i,r[a])}}else{Mt(e,o)}}return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===x.type(o)){x.merge(d,o.nodeType?[o]:o)}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild}if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--){x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild)}s=f.lastChild}else{d.push(t.createTextNode(o))}}}}s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++]){if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o)}}}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++){if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events){for(r in a.events){f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle)}}u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e)){return this.each(function(t){x(this).wrapAll(e.call(this,t))})}if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t}}return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))))}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"))}return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=x.css(e,n[s],!1,o)}return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:u[n]}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{u[n]=r}catch(c){}}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)))}return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i}r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return !x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0]}return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e)){x.each(e,function(){o(this.name,this.value)})}else{for(r in e){gn(r,e[r],n,o)}}return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t)){x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)})}else{if(n||"object"!==x.type(t)){r(e,t)}else{for(i in t){gn(e+"["+i+"]",t[i],n,r)}}}}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i])}return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments)}var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2]}}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e){if(2>b){for(t in e){m[t]=[m[t],e[t]]}}else{C.always(e[C.status])}}return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b){return C}l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers){C.setRequestHeader(i,p.headers[i])}if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b)){return C.abort()}w="abort";for(i in {success:1,error:1,complete:1}){C[i](p[i])}if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b)){throw N}k(-1,N)}}else{k(-1,"No Transport")}function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0]){u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"))}if(o){for(s in l){if(l[s]&&l[s].test(o)){u.unshift(s);break}}}if(u[0] in r){a=u[0]}else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1]){for(a in e.converters){u[a.toLowerCase()]=e.converters[a]}}o=c.shift();while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift()){if("*"===o){o=l}else{if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a){for(i in u){if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}}}if(a!==!0){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}}}}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0)}};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials" in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){l[s]=n.xhrFields[s]}}n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){l.setRequestHeader(s,i[s])}}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState)){if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i){4!==l.readyState&&l.abort()}else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,x.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++){if(r=i[o].call(n,t,e)){return r}}}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i){return !1}var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++){u.tweens[a].run(o)}return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i){return this}for(i=!0;r>n;n++){u.tweens[n].run(1)}return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++){if(r=Gn[o].call(u,e,c,u.opts)){return r}}return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e){if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand" in a){o=a.expand(o),delete e[r];for(n in o){n in e||(e[n]=o[n],t[n]=i)}}else{t[r]=i}}}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){continue}c[r]=d&&d[r]||x.style(e,r)}}if(!x.isEmptyObject(c)){d?"hidden" in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c){x.style(e,t,c[t])}});for(r in c){a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n){a[n]&&a[n].stop&&i(a[n])}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n])}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1))}(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this)}delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e}return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1)}n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)})}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o}},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using" in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position")){e=e.offsetParent}return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);jQuery.myResourceString=function(a){switch(a){case"EMPTY_FIELD":return"Please fill in all the fields.";break;case"LENGTH_LIMIT_PASSWORD":return"Password must be at least 6 characters.";break;case"RETYPE_PASSWORD_NOT_MATCHED":return"Password retyped does not match.";break;case"PHONE_NOT_EXIST":return"Your phone number does not exist in our database. Please register.";break;case"EMAIL_NOT_MATCHED":return"Your email does not match our record, please check your email.";break;case"PASSWORD_RESET_OK":return"Please check your mailbox for the new password.";break;case"LOGIN_FAIL":return"Phone number or password is not correct. Have you forgotten your password?";break;case"DUPLICATE_PHONE":return"Your phone number is in use.";break;case"WRONG_FORMAT_PHONE":return"Your phone format is not correct.";break;case"TERMS_NOT_CHECKED":return"Please read the terms and conditions first.";break;case"OTP_NOT_MATCHED":return"Your OTP value is incorrect. ";break;case"REGISTER_OK":return"Registration successful, you may now login.";break;case"CHANGE_PASSWORD_OK":return"Update Successful";break;case"WRONG_ORIGINAL_PASSWORD":return"Your original password is incorrect.";break;case"NOTIFICATION_SETTINGS_DELETING":return"Are you sure you want to delete this notification setting?";break;case"NOTIFICATION_SETTINGS_DELETED":return"Notification setting deleted.";break;case"NOTIFICATION_SETTINGS_ADDED":return"Notification setting successfully added.";break;case"CONFIRM_SEND_REPORT":return"Are you sure you want to report this comment?";break;case"CONFIRM_OVERWRITE_COMMENT":return"You have previously commented on this agent. Are you sure you want to overwrite your comment?";break;case"EMPTY_SUBMIT":return"Please write something!";break;case"CONFIRM_DELETE":return"Are you sure you want to delete this item?";break}};
/* waitForImages jQuery Plugin - v1.5.0 - 2013-07-20
* https://github.com/alexanderdickson/waitForImages
* Copyright (c) 2013 Alex Dickson; Licensed MIT */
(function(a){var b="waitForImages";a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"]};a.expr[":"].uncached=function(d){if(!a(d).is('img[src!=""]')){return false}var c=new Image();c.src=d.src;return !c.complete};a.fn.waitForImages=function(f,e,g){var c=0;var d=0;if(a.isPlainObject(arguments[0])){g=arguments[0].waitForAll;e=arguments[0].each;f=arguments[0].finished}f=f||a.noop;e=e||a.noop;g=!!g;if(!a.isFunction(f)||!a.isFunction(e)){throw new TypeError("An invalid callback was supplied.")}return this.each(function(){var m=a(this);var h=[];var j=a.waitForImages.hasImageProperties||[];var l=/url\(\s*(['"]?)(.*?)\1\s*\)/g;if(g){m.find("*").addBack().each(function(){var n=a(this);if(n.is("img:uncached")){h.push({src:n.attr("src"),element:n[0]})}a.each(j,function(o,q){var r=n.css(q);var p;if(!r){return true}while(p=l.exec(r)){h.push({src:p[2],element:n[0]})}})})}else{m.find("img:uncached").each(function(){h.push({src:this.src,element:this})})}c=h.length;d=0;if(c===0){f.call(m[0])}a.each(h,function(n,p){var o=new Image();a(o).on("load."+b+" error."+b,function(q){d++;e.call(p.element,d,c,q.type=="load");if(d==c){f.call(m[0]);return false}});o.src=p.src})})}}(jQuery));jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(h,g,a,e,f){return jQuery.easing[jQuery.easing.def](h,g,a,e,f)},easeInQuad:function(h,g,a,e,f){return e*(g/=f)*g+a},easeOutQuad:function(h,g,a,e,f){return -e*(g/=f)*(g-2)+a},easeInOutQuad:function(h,g,a,e,f){if((g/=f/2)<1){return e/2*g*g+a}return -e/2*((--g)*(g-2)-1)+a},easeInCubic:function(h,g,a,e,f){return e*(g/=f)*g*g+a},easeOutCubic:function(h,g,a,e,f){return e*((g=g/f-1)*g*g+1)+a},easeInOutCubic:function(h,g,a,e,f){if((g/=f/2)<1){return e/2*g*g*g+a}return e/2*((g-=2)*g*g+2)+a},easeInQuart:function(h,g,a,e,f){return e*(g/=f)*g*g*g+a},easeOutQuart:function(h,g,a,e,f){return -e*((g=g/f-1)*g*g*g-1)+a},easeInOutQuart:function(h,g,a,e,f){if((g/=f/2)<1){return e/2*g*g*g*g+a}return -e/2*((g-=2)*g*g*g-2)+a},easeInQuint:function(h,g,a,e,f){return e*(g/=f)*g*g*g*g+a},easeOutQuint:function(h,g,a,e,f){return e*((g=g/f-1)*g*g*g*g+1)+a},easeInOutQuint:function(h,g,a,e,f){if((g/=f/2)<1){return e/2*g*g*g*g*g+a}return e/2*((g-=2)*g*g*g*g+2)+a},easeInSine:function(h,g,a,e,f){return -e*Math.cos(g/f*(Math.PI/2))+e+a},easeOutSine:function(h,g,a,e,f){return e*Math.sin(g/f*(Math.PI/2))+a},easeInOutSine:function(h,g,a,e,f){return -e/2*(Math.cos(Math.PI*g/f)-1)+a},easeInExpo:function(h,g,a,e,f){return(g==0)?a:e*Math.pow(2,10*(g/f-1))+a},easeOutExpo:function(h,g,a,e,f){return(g==f)?a+e:e*(-Math.pow(2,-10*g/f)+1)+a},easeInOutExpo:function(h,g,a,e,f){if(g==0){return a}if(g==f){return a+e}if((g/=f/2)<1){return e/2*Math.pow(2,10*(g-1))+a}return e/2*(-Math.pow(2,-10*--g)+2)+a},easeInCirc:function(h,g,a,e,f){return -e*(Math.sqrt(1-(g/=f)*g)-1)+a},easeOutCirc:function(h,g,a,e,f){return e*Math.sqrt(1-(g=g/f-1)*g)+a},easeInOutCirc:function(h,g,a,e,f){if((g/=f/2)<1){return -e/2*(Math.sqrt(1-g*g)-1)+a}return e/2*(Math.sqrt(1-(g-=2)*g)+1)+a},easeInElastic:function(n,m,f,g,h){var l=1.70158;var j=0;var e=g;if(m==0){return f}if((m/=h)==1){return f+g}if(!j){j=h*0.3}if(e<Math.abs(g)){e=g;var l=j/4}else{var l=j/(2*Math.PI)*Math.asin(g/e)}return -(e*Math.pow(2,10*(m-=1))*Math.sin((m*h-l)*(2*Math.PI)/j))+f},easeOutElastic:function(n,m,f,g,h){var l=1.70158;var j=0;var e=g;if(m==0){return f}if((m/=h)==1){return f+g}if(!j){j=h*0.3}if(e<Math.abs(g)){e=g;var l=j/4}else{var l=j/(2*Math.PI)*Math.asin(g/e)}return e*Math.pow(2,-10*m)*Math.sin((m*h-l)*(2*Math.PI)/j)+g+f},easeInOutElastic:function(n,m,f,g,h){var l=1.70158;var j=0;var e=g;if(m==0){return f}if((m/=h/2)==2){return f+g}if(!j){j=h*(0.3*1.5)}if(e<Math.abs(g)){e=g;var l=j/4}else{var l=j/(2*Math.PI)*Math.asin(g/e)}if(m<1){return -0.5*(e*Math.pow(2,10*(m-=1))*Math.sin((m*h-l)*(2*Math.PI)/j))+f}return e*Math.pow(2,-10*(m-=1))*Math.sin((m*h-l)*(2*Math.PI)/j)*0.5+g+f},easeInBack:function(j,h,a,e,f,g){if(g==undefined){g=1.70158}return e*(h/=f)*h*((g+1)*h-g)+a},easeOutBack:function(j,h,a,e,f,g){if(g==undefined){g=1.70158}return e*((h=h/f-1)*h*((g+1)*h+g)+1)+a},easeInOutBack:function(j,h,a,e,f,g){if(g==undefined){g=1.70158}if((h/=f/2)<1){return e/2*(h*h*(((g*=(1.525))+1)*h-g))+a}return e/2*((h-=2)*h*(((g*=(1.525))+1)*h+g)+2)+a},easeInBounce:function(h,g,a,e,f){return e-jQuery.easing.easeOutBounce(h,f-g,0,e,f)+a},easeOutBounce:function(h,g,a,e,f){if((g/=f)<(1/2.75)){return e*(7.5625*g*g)+a}else{if(g<(2/2.75)){return e*(7.5625*(g-=(1.5/2.75))*g+0.75)+a}else{if(g<(2.5/2.75)){return e*(7.5625*(g-=(2.25/2.75))*g+0.9375)+a}else{return e*(7.5625*(g-=(2.625/2.75))*g+0.984375)+a}}}},easeInOutBounce:function(h,g,a,e,f){if(g<f/2){return jQuery.easing.easeInBounce(h,g*2,0,e,f)*0.5+a}return jQuery.easing.easeOutBounce(h,g*2-f,0,e,f)*0.5+e*0.5+a}});
/*
 * jQuery.ScrollTo
 * Copyright (c) 2007-2014 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 * @projectDescription Easy element scrolling using jQuery.
 * @author Ariel Flesler
 * @version 1.4.12
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){var b=a.scrollTo=function(f,d,e){return a(window).scrollTo(f,d,e)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1,limit:true};b.window=function(d){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){var e=this,f=!e.nodeName||a.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!f){return e}var d=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||d.compatMode=="BackCompat"?d.body:d.documentElement})};a.fn.scrollTo=function(f,d,e){if(typeof d=="object"){e=d;d=0}if(typeof e=="function"){e={onAfter:e}}if(f=="max"){f=9000000000}e=a.extend({},b.defaults,e);d=d||e.duration;e.queue=e.queue&&e.axis.length>1;if(e.queue){d/=2}e.offset=c(e.offset);e.over=c(e.over);return this._scrollable().each(function(){if(f==null){return}var l=this,g=a(l),n=f,o,j={},p=g.is("html,body");switch(typeof n){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(n)){n=c(n);break}n=p?a(n):a(n,this);if(!n.length){return}case"object":if(n.is||n.style){o=(n=a(n)).offset()}}var m=a.isFunction(e.offset)&&e.offset(l,n)||e.offset;a.each(e.axis.split(""),function(r,q){var w=q=="x"?"Left":"Top",v=w.toLowerCase(),s="scroll"+w,u=l[s],t=b.max(l,q);if(o){j[s]=o[v]+(p?0:u-g.offset()[v]);if(e.margin){j[s]-=parseInt(n.css("margin"+w))||0;j[s]-=parseInt(n.css("border"+w+"Width"))||0}j[s]+=m[v]||0;if(e.over[v]){j[s]+=n[q=="x"?"width":"height"]()*e.over[v]}}else{var y=n[v];j[s]=y.slice&&y.slice(-1)=="%"?parseFloat(y)/100*t:y}if(e.limit&&/^\d+$/.test(j[s])){j[s]=j[s]<=0?0:Math.min(j[s],t)}if(!r&&e.queue){if(u!=j[s]){h(e.onAfterFirst)}delete j[s]}});h(e.onAfter);function h(q){g.animate(j,d,e.easing,q&&function(){q.call(this,n,e)})}}).end()};b.max=function(g,d){var f=d=="x"?"Width":"Height",j="scroll"+f;if(!a(g).is("html,body")){return g[j]-a(g)[f.toLowerCase()]()}var l="client"+f,h=g.ownerDocument.documentElement,e=g.ownerDocument.body;return Math.max(h[j],e[j])-Math.min(h[l],e[l])};function c(d){return a.isFunction(d)||typeof d=="object"?d:{top:d,left:d}}return b}));var pubnub;var pubnub_connected=false;var notification_keepstack=[];var new_notification_callback=[];var notification_checked_callback=[];var new_message_callback=[];var user_typing_callback=[];var circle_state_callback=[];var contact_change_callback=[];var message_is_read_callback=[];var shortlist_changed_callback=[];var offline_notify_delay_arr=[];var pubnub_connect_callback=[];var messaging_ready_callback=[];var intermediate_messages=[];function event_subscribe(){if(!check_is_defined(MY_USERID)){return}if(isTrue(IN_PRODUCTION)){pubnub=PUBNUB.init({publish_key:"pub-c-ae60bbd0-75b2-4e40-8db5-1b810a09a19c",subscribe_key:"sub-c-07a09324-ba29-11e3-8b59-02ee2ddab7fe",secret_key:"sec-c-MzA4M2RkZmYtYTZmNi00YjZjLWIwOWUtY2EwYzhjMDBiMDhh",uuid:MY_USERID})}else{pubnub=PUBNUB.init({publish_key:"pub-c-a6ed9270-de5f-4d09-a6bf-d9e747d60c95",subscribe_key:"sub-c-ea081254-e186-11e2-ab32-02ee2ddab7fe",secret_key:"sec-c-MThkNDMwMDctMTJhZS00OTIwLWFmMjktODYyYTM4ODk0ZWRi",uuid:MY_USERID})}pubnub.subscribe({channel:[MY_USERID,"status"],message:receiver,connect:function(){pubnub_connected=true;var a;for(a=0;a<pubnub_connect_callback.length;a+=1){pubnub_connect_callback[a]()}keep_alive()}});setInterval(function(){keep_alive()},20*1000);setTimeout(function(){check_is_online()},20*1000)}$(document).ready(function(){event_subscribe()});function keep_alive(){if(isTrue(MY_USERID)){pubnub_publish("keepalive",MY_USERID)}}function check_is_online(){var a=[];$(".user-state.online").each(function(){var b=$(this).attr("userid");if($.inArray(b,a)===-1){a.push(b)}});a=removeItemFromArr(a,MY_USERID);if(a.length===0){return}$.post("user/check_for_offline",{userids:a.join()},function(c){if(isTrue(c)){var b=$.parseJSON(c);for(x in b){update_user_status(b[x].id,"off",b[x].lastseen)}}})}function receiver(e,b,a){var j=e.split("(%2)"),c=false,d,g,h;if(j[0]==="sendMessage"||j[0]==="mySentMessage"){if($(".messaging-to-store").attr("ready")!=1){messaging_ready_callback.push(function(){receiver(e,b,a)})}}if(j[0]==="logout"){pubnub.unsubscribe({channel:[MY_USERID,"status"]});MY_USERID=""}if(j[0]==="status"){presence(j[1],j[2]);return}if(j[0]==="checkNotification"){for(d=0;d<notification_checked_callback.length;d+=1){var g={};g.type=j[1];notification_checked_callback[d](g)}return}if(j[0]==="sendTyping"){for(d=0;d<user_typing_callback.length;d+=1){var g={};g.userid=j[1];user_typing_callback[d](g)}return}if(j[0]==="refreshContact"){for(d=0;d<contact_change_callback.length;d+=1){contact_change_callback[d]()}return}if(j[0]==="modifyShortlist"){for(d=0;d<shortlist_changed_callback.length;d+=1){var g={};g.number=j[1];shortlist_changed_callback[d](g)}return}if(j[0]==="sendMessage"||j[0]==="mySentMessage"){for(d=0;d<new_message_callback.length;d+=1){var g={};g.username=j[2];g.userid=j[1];g.random=j[3];g.message=j[4];g.type=j[0];new_message_callback[d](g)}return}if(j[0]==="sendMessageStart"||j[0]==="mySentMessageStart"){var g={};g.username=j[2];g.userid=j[1];g.random=j[3];g.message=j[4];if(j[0]==="sendMessageStart"){g.type="sendMessage"}else{if(j[0]==="mySentMessageStart"){g.type="mySentMessage"}}intermediate_messages.push(g)}if(j[0]==="sendMessageImt"||j[0]==="mySentMessageImt"||j[0]==="sendMessageEnd"||j[0]==="mySentMessageEnd"){var l;for(l in intermediate_messages){if(intermediate_messages[l].random===j[3]){var f=intermediate_messages[l];f.message=f.message+j[4];intermediate_messages[l]=f;if(j[0].indexOf("End")!==-1){for(d=0;d<new_message_callback.length;d+=1){new_message_callback[d](f)}intermediate_messages.splice(l,1)}break}}}if(j[0]==="circleState"){for(d=0;d<circle_state_callback.length;d+=1){var g={};g.identifier=j[1];g.type=j[0];g.state=j[2];g.userid=j[3];g.username=j[4];g.state_identifier=j[5];circle_state_callback[d](g)}return}if(j[0]==="messageIsRead"){for(d=0;d<message_is_read_callback.length;d+=1){var g={};g.userid=j[1];message_is_read_callback[d](g)}return}$(notification_keepstack).each(function(){if(this.type===j[0]&&this.targetid===j[1]){c=true;return false}});if(!c){for(d=0;d<new_notification_callback.length;d+=1){var h={};h.type=j[0];h.targetid=j[1];notification_keepstack.push(h);new_notification_callback[d](h)}}}function presence(c,d){var e;if(c==="off"){var b=setTimeout(function(){update_user_status(d,c);for(e in offline_notify_delay_arr){if(offline_notify_delay_arr[e].userid===d){offline_notify_delay_arr.splice(e,1)}}},10000);var a={};a.timer=b;a.userid=d;offline_notify_delay_arr.push(a)}else{for(e in offline_notify_delay_arr){if(offline_notify_delay_arr[e].userid===d){clearTimeout(offline_notify_delay_arr[e].timer);offline_notify_delay_arr.splice(e,1)}}update_user_status(d,c)}}function pubnub_publish(a,b){pubnub.publish({channel:a,message:b})}var page_map;var nearby_map;var rude_word_list=[];var contacts=[];var userlastseen_notification="";var WINDOW_IS_FOCUS;jQuery(window).bind("focus",function(){WINDOW_IS_FOCUS=true});jQuery(window).bind("blur",function(){WINDOW_IS_FOCUS=false});$.ajaxSetup({cache:false});$(document).ready(function(){$("body").bind("touchstart mouseenter",function(){WINDOW_IS_FOCUS=true});update_user_status(MY_USERID,"on");apply_image_enlarge();attact_username_hover_panel();attach_tooltip();attach_shortlist_tooltip();attach_clickable_userstate();attach_contact_tooltip();attach_status_tooltip();apply_overflow_title();attach_always_show_tooltip();apply_select_style();$(".number-only").autoNumeric("init",{lZero:"deny",mDec:"0"});apply_watermark();$(".switching").switchImageHover();$(".question-hover").parent("a").attr("tabindex",-1);$(".to-process").each(function(){$(this).linkify();$(this).html(emotify($(this).html()));$(this).removeClass("to-process")});if(typeof MY_USERID!=="undefined"){if(MY_USERID!=="0"){initiate_sound_manager()}else{$.cookie("circle_state","",{path:"/"})}}var c=$.cookie("session_cookie");if(!isTrue(c)){localStorage.clear();$.cookie("session_cookie","1",{path:"/"})}$(".features-list").find(".feature-item").click(function(){if($(this).parents(".features-container").hasClass("single-pick")){$(this).parents(".features-container").find(".feature-item").removeClass("selected")}toggle_selected(this);refresh_features();sync_features_list()});$(".features-list-mobile").find(".feature-item").click(function(){if($(this).parents(".features-container").hasClass("single-pick")){$(this).parents(".features-container").find(".feature-item.selected").each(function(){var e=$(this).find(".feature-item-inner").attr("value");$(".features-list").find(".feature-item.selected").each(function(){if($(this).find(".feature-item-inner").attr("value")===e){$(this).removeClass("selected");return false}})});$(this).parents(".features-container").find(".feature-item").removeClass("selected")}var d=$(this).find(".feature-item-inner").attr("value");if($(this).hasClass("selected")){$(this).removeClass("selected");$(".features-list").find(".feature-item-inner").each(function(){if($(this).attr("value")===d){$(this).parents(".feature-item").removeClass("selected");return false}})}else{$(this).addClass("selected");$(".features-list").find(".feature-item-inner").each(function(){if($(this).attr("value")===d){$(this).parents(".feature-item").addClass("selected");return false}})}refresh_features();sync_features_list()});var b={placement:"top",container:"body",html:true,selector:"[rel=popover-top]",template:'<div class="popover orange"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',content:function(){return $("#popover-content").html()}};$("body").popover(b);var a;for(a=0;a<JQUERY_CALLBACK.length;a+=1){JQUERY_CALLBACK[a]()}});function toggle_selected(b){var a=$(b);if(a.hasClass("selected")){a.removeClass("selected")}else{a.addClass("selected")}}function suggest_new_word(b,a){$.post("admin/error_learning/add_new_learning",{text:b});$(a).parent("div").next().find("img").attr("src","image/ahgong/happy.png");$(a).parent("div").html("Thanks for your suggestion, Ahgong will handle it asap.")}var msg_sound,notification_sound;function initiate_sound_manager(){soundManager.setup({url:"javascript/soundmanager/",debugMode:false,onready:function(){msg_sound=soundManager.createSound({id:"aSound",url:"audio/messaging.mp3"});notification_sound=soundManager.createSound({id:"aSound2",url:"audio/notification.mp3"})},ontimeout:function(){}})}var preFillAreas,preFillAreaIDLevel=[],preFillAreaCoordinates=[];function preFillArea(b,a,f,h){if(!isTrue(b)){b=$_GET("area");if(!isTrue(b)){return}}preFillAreas=b.split(",");if(!isTrue(a)){a=$_GET("areaidlvl")}preFillAreaIDLevel=a.split(",");if(isTrue(f)){var e=f.split(","),g=h.split(","),j;for(j in e){preFillAreaCoordinates.push(e[j]+","+g[j])}}else{var c=$_GET("areacoordinates");if(isTrue(c)){var d=c.split(",");var j;for(j in d){preFillAreaCoordinates.push(d[j].replace("@",","))}}}}function preFillFeature(a){if(!isTrue(a)){a=$_GET("feature");if(!isTrue(a)){return}}var c=a.split(","),b=[];$(c).each(function(e){var d=false;$(".features-list").find(".feature-item-inner").each(function(g,f){if(f&&$.trim($(f).attr("value").toLowerCase())===c[e].toLowerCase()){$(f).parents(".feature-item").addClass("selected");d=true;return false}});sync_features_list();if(c[e].toLowerCase()==="@loose"){$(".exact-match").removeClass("selected")}if(d===false){b.push(c[e])}});$(".otherfacilityinput").val(b.join(","))}function open_another_marker(a){page_map.openAdjacentMarkerInfo(a)}function attach_clickable_userstate(){$("body").on("mouseenter",".user-state.open-message",function(){if($(this).attr("userid")==MY_USERID){return}var a="This user is online now, click to chat with him/her.";if(!$(this).hasClass("online")){var a="This user is offline now, click to send him/her offline message."}$(this).tooltip({title:a,container:"body",placement:"top"});$(this).tooltip("show")});$("body").find(".user-state.open-message").click(function(a){if($(this).attr("userid")==MY_USERID){return}eventStopPropagation(a);a.preventDefault();open_circle(true,$(this).attr("userid"))})}function attach_status_tooltip(){$("body").on("mouseenter",".user-status",function(){var a;if(isTrue($(this).attr("title"))){a=$(this).attr("title")}else{if($(this).hasClass("online")){a="This user is online now."}else{a="This user is offline now."}}$(this).tooltip({title:a,container:"body",placement:"top"}).tooltip("show")})}function attach_contact_tooltip(a){var b="Add To Contact List";var c="Delete From Contact List";if(a==undefined){$(".add-contact").tooltip({title:b,container:"body",placement:"top"});$(".delete-contact").tooltip({title:c,container:"body",placement:"top"})}else{a.tooltip("destroy");if(a.hasClass("add-contact")){a.tooltip({title:b,container:"body",placement:"top"})}else{if(a.hasClass("delete-contact")){a.tooltip({title:c,container:"body",placement:"top"})}}}attach_overflow_hidden_tooltip()}function handle_contact(c,l,g,d,j,f){if(l==MY_USERID){return}if(!isTrue(MY_USERID)){check_is_login();return}var a=$(c);if(j){eventStopPropagation(d)}if(a.hasClass("add-contact")){$(c).removeClass("add-contact").addClass("delete-contact");if(a.parents(".contact-list-search").length>0){var b=a.parents(".contact-list");b.find(".not-your-contact").before(a.parents(".contact-container-parent"))}$.post("contact/add_contact/"+l,function(e){contact_change_publish();if(g){location.reload()}})}else{var h=confirm("Are you sure you want to delete this contact?");if(h){$(c).removeClass("delete-contact").addClass("add-contact");if(a.parents(".contact-list-search").length>0){var b=a.parents(".contact-list");b.append(a.parents(".contact-container-parent"))}$.post("contact/delete_contact/"+l,function(){contact_change_publish();if(g){location.reload()}})}else{return}}if(a.parents(".contact-list-search").length>0){var b=a.parents(".contact-list");if(b.find(".not-your-contact").prevAll(".contact-container-parent").length>0){b.find(".your-contact").show()}else{b.find(".your-contact").hide()}if(b.find(".not-your-contact").nextAll(".contact-container-parent").length>0){b.find(".not-your-contact").show()}else{b.find(".not-your-contact").hide()}}else{if(a.parents(".contact-list-self").length>0){a.tooltip("destroy");a.parents(".contact-container-parent").remove();a.remove();a=""}}if(!f){if(isTrue(a)){attach_contact_tooltip(a);a.tooltip("show")}}else{a.hide()}}function attach_shortlist_tooltip(a){var c="Remove From Shortlist";var b="Add To Shortlist";if(a==undefined){$(".shortlisted").tooltip({title:c,container:"body"});$(".not-shortlisted").tooltip({title:b,container:"body"})}else{a.tooltip("destroy");if(a.hasClass("shortlisted")){a.tooltip({title:c,container:"body"})}else{if(a.hasClass("not-shortlisted")){a.tooltip({title:b,container:"body"})}}}attach_overflow_hidden_tooltip()}function handle_shortlist(c,d,b){var f,e,a;f=MY_USERID;if(!check_is_login()){return}a=$(c);if(!a.hasClass("shortlisted")){a.addClass("shortlisted").removeClass("not-shortlisted");a.find(".shortlisted-text").show();a.find(".not-shortlisted-text").hide();attach_shortlist_tooltip(a);a.tooltip("show");$.post("shortlist/add_shortlist",{itemid:d,userid:f},function(g){$("body").append(g)});shortlist_publish(1)}else{e=confirm("Are you sure you want to delete this item from your shortlist?");if(e===true){a.addClass("not-shortlisted").removeClass("shortlisted");a.find(".shortlisted-text").hide();a.find(".not-shortlisted-text").show();attach_shortlist_tooltip(a);$.post("shortlist/delete_shortlist",{itemid:d,userid:f});shortlist_publish(-1);if(isTrue(b)){b.remove()}}}}function points_awarded(c){var b,a;a=c.split(",");switch(a[0]){case"login":b="You have been awarded "+a[1]+" points for login today.";break;case"firstlogin":b="You have been awarded "+a[1]+" points for first time login.";break;case"comment":b="You have been awarded "+a[1]+" point for leaving comment.";break;case"profile":b="You have been awarded "+a[1]+" points for complete your profile.";break}}function arrange_features(){$(".more-item").remove();var a=30;$(".features").each(function(){$(this).find(".item").show();$(this).find(".item").each(function(){if($(this).position().top>=a){var b=$("<div class='item more-item'>More...</div>");$(this).prev().prev().after(b);var c=[];$(this).prev().prev().nextAll(".item").each(function(){c.push($(this).text());$(this).hide()});b.tooltip({title:c.join(),container:"body"});return false}else{}})})}function refresh_features(){var a,b=[];$(".features-list").find(".feature-item.selected").each(function(){b.push($.trim($(this).find(".feature-item-inner").attr("value")))});$(".exact-match").each(function(){if($(this).hasClass("selected")===false){b.push("@loose")}});b.push($(".otherfacilityinput").val());$("input[name=feature]").val(b.join(","))}function refresh_features_seperate_unknown(){var a,b=[];$(".features-list").find(".feature-item.selected").each(function(){b.push($(this).find(".feature-item-inner").attr("value"))});$(".feature-restrict").each(function(){if($(this).hasClass("selected")===false){b.push("@loose")}});$("input[name=feature]").val(b.join(","));$("input[name=feature_unknown]").val($(".otherfacilityinput").val())}function sync_features_list(){$(".features-list-mobile").find(".feature-item.selected").removeClass("selected");$(".features-list-mobile").find(".selected-count").html("");$(".features-list").find(".feature-item.selected").each(function(){var a=$(this).find(".feature-item-inner").attr("value");$(".features-list-mobile").find(".feature-item-inner").each(function(){if($(this).attr("value")===a){$(this).parents(".feature-item").addClass("selected");var b=$(this).parents(".features-group").find(".feature-item.selected").length;$(this).parents(".features-group").find(".selected-count").html("("+b+" Selected)");return false}})})}function refresh_areas_seperate_unknown(){var c=[],a=[],d=[],b=[];a=$("input[name=area]").val().split(",");$(".suggest-picked-item.invalid").each(function(){c.push($(this).find("span").html())});$(a).each(function(e){if(jQuery.inArray(a[e],c)!==-1){b.push(a[e])}else{d.push(a[e])}});$("input[name=area]").val(d.join(","));$("input[name=area_unknown]").val(b.join(","))}function edit_item(a){direct_to_url("posting/edit/"+a,"_blank")}function delete_item(b){var a=confirm("You sure you want to delete this record?");if(a){$.post("posting/delete/",{itemid:b},function(c){location.reload()})}}function do_search(a){var b=get_house_kept_item(a),d=[],c;d.push("action="+b.type);d.push("areaidlvl="+b.areaidlevelstring);d.push("area="+b.areaname);d.push("itemname="+b.name);d.push("builtup="+b.builtup);d.push("pricemin="+b.price);d.push("feature="+b.feature);c=d.join("&");window.location=global_baseurl+"search/item?"+c}var kept_items=[];function house_keeping_item(b){var a=false,c={};$(kept_items).each(function(){if(this.itemid===b.id){a=true;return false}});if(a===false){c.itemid=b.id;c.item=b;kept_items.push(c)}}function get_house_kept_item(b){var a;$(kept_items).each(function(){if(this.itemid==b){a=this.item;return false}});return a}function apply_select_style(){$(".styled-select select").focusin(function(){$(this).parent(".styled-select").addClass("webkit_specific")});$(".styled-select select").focusout(function(){$(this).parent(".styled-select").removeClass("webkit_specific")})}function apply_overflow_title(){$(document).on("mouseenter",".overflow-ellipsis",function(){var a=$(this);var b=a.attr("title");if(!b){if(this.offsetWidth<this.scrollWidth){a.attr("title",$.trim(a.text()))}}else{if(this.offsetWidth>=this.scrollWidth&&b==a.text()){a.removeAttr("title")}}})}function apply_image_enlarge(){$("body").on("click",".clickable-image",function(){if($(this).parents(".messaging-list-parent").length>0){var a=$(this);image_enlarge_modal(a,function(){a.parents(".messaging-list-parent").find(".txt-message").focus()})}else{if($(this).parents(".conversation-container").length>0){}else{image_enlarge_modal($(this),function(){})}}})}function image_enlarge_modal(a,c){var d=a.attr("src"),b=[];b.push(d);a.autoResizeModalImageViewer({imglist:b,onCloseCallBack:c})}function apply_watermark(){$(".watermark").each(function(){$(this).Watermark("watermark")})}var user_panel_timer;var panel_showing_timer;function attact_username_hover_panel(){$("body").on("mouseenter","*[user-panel-id]",function(){$(this).qtip({content:{text:function(b,a){return $.ajax({url:"user/get_user_details_html",type:"POST",data:{userid:$(this).attr("user-panel-id")},loading:false,once:false}).then(function(c){return c})}},position:{viewport:true},style:{classes:"user-panel"},show:{delay:500,ready:true},hide:{fixed:true,delay:500},events:{hide:function(b,a){a.set("content.text","")},visible:function(c,b){var a=$(this);a.on("mouseenter",".contact-control",function(){attach_contact_tooltip($(this));$(this).tooltip("show")})}}})})}function eventStopPropagation(a){if(!a){a=window.event}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}}var smileylist={":)":"<img class='smiley' src='image/mysmileys/veryhappy.gif' />",":D":"<img class='smiley' src='image/mysmileys/lol.gif' />","=D":"<img class='smiley' src='image/mysmileys/grin.gif' />",":E":"<img class='smiley' src='image/mysmileys/cheese.gif' />",":|":"<img class='smiley' src='image/mysmileys/longface.gif' />",":@":"<img class='smiley' src='image/mysmileys/angry.gif' />",":-)":"<img class='smiley' src='image/mysmileys/wink.gif' />",":-P":"<img class='smiley' src='image/mysmileys/tongue_wink.gif' />","=o":"<img class='smiley' src='image/mysmileys/ohh.gif' />",":grrr:":"<img class='smiley' src='image/mysmileys/grrr.gif' />",":#:":"<img class='smiley' src='image/mysmileys/embarrassed.gif' />",":-(":"<img class='smiley' src='image/mysmileys/mad.gif' />",":?":"<img class='smiley' src='image/mysmileys/question.gif' />",":S:":"<img class='smiley' src='image/mysmileys/confused.gif' />",":o":"<img class='smiley' src='image/mysmileys/bigsurprise.gif' />",":=o":"<img class='smiley' src='image/mysmileys/blank.gif' />","-.-":"<img class='smiley' src='image/mysmileys/downer.gif' />",":!":"<img class='smiley' src='image/mysmileys/exclaim.gif' />","0.0":"<img class='smiley' src='image/mysmileys/gulp.gif' />",":x":"<img class='smiley' src='image/mysmileys/zip.gif' />"};function emotify(d){var c=[],b=/[[\]{}()*+?.\\|^$\-,&#\s]/g,a;for(a in smileylist){if(smileylist.hasOwnProperty(a)){c.push("("+a.replace(b,"\\$&")+")")}}return d.replace(new RegExp(c.join("|"),"g"),function(e){return typeof smileylist[e]!="undefined"?smileylist[e]:e})}function playSound(b){var a;if(b==="message"){notification_sound.play()}else{if(b==="notification"){}else{if(b==="admin"){msg_sound.play()}}}}function loading(b,e){if(e===undefined){e=""}if($(b).length<=0){return}var c,f,a,d;c=b[0].offsetHeight;f=b[0].offsetWidth;a=$(b);if(a.find("#loadingtable").length>0){return}a.css("overflow","hidden");a.css("position","relative");a.scrollTop(0);d="";d+='<table id="loadingtable" class="loadingtable border-radius" style="position:absolute;left:0;width:'+f+"px;height:"+c+'px;">';d+="<tr>";d+='<td align="center" valign="center">';d+='<img src="image/loading3.gif" style="height:8px;">';d+="     </td>";d+="</tr>";d+="</table>";a.append(d)}function clear_loading(c,b){var a=$(c);if($(c).length<=0){return}a.find(".loadingtable").fadeOut(function(){a.find(".loadingtable").remove();a.css("overflow","");a.css("position","");if(isTrue(b)){b()}})}function direct_to_url(b,a){if(a===undefined){window.location=global_baseurl+b}else{if(a==="_blank"){window.open(global_baseurl+b,"_blank")}}}function is_scrolled_into_view(c,f){var b,a,e,d;if(f===undefined){f=$(window);b=$(f).scrollTop();a=b+$(f).height();e=$(c).offset().top;d=e+$(c).height()}else{b=$(f).scrollTop()+$(f).position().top;a=b+$(f).height();e=$(c).position().top;d=e+$(c).height()}return((d<=a)&&(e>=b))}function insert_tooltip(a,c,b,d){a.tooltip("destroy");a.tooltip({title:c,placement:b,container:"body",html:true,trigger:"manual"});a.tooltip("show");a.data("tooltipset",true);if(isTrue(d)){setTimeout(function(){a.tooltip("destroy");a.data("tooltipset",false)},d)}}function clear_tooltip(a){a.tooltip("destroy");a.data("tooltipset",false)}function insert_alert(d,c,b){clear_alert(d);var a;a=$(d);a.addClass("alert");a.addClass("alert-"+c);a.html(b)}function clear_alert(b){var a;a=$(b);a.removeClass("alert");a.removeClass("alert-success");a.removeClass("alert-info");a.removeClass("alert-warning");a.removeClass("alert-danger");a.html("")}function attach_tooltip(){$("body").tooltip({selector:"[data-toggle=tooltip]",container:"body"})}var overflow_tooltip_timeout;function attach_overflow_hidden_tooltip(){$(".hide-overflow-tooltip").on("hidden.bs.tooltip",function(){clearTimeout(overflow_tooltip_timeout);overflow_tooltip_timeout=setTimeout(function(){$("body").css("overflow-x","auto")},500)});$(".hide-overflow-tooltip").on("show.bs.tooltip",function(){clearTimeout(overflow_tooltip_timeout);$("body").css("overflow-x","hidden")})}function attach_always_show_tooltip(){$(".always-show-tooltip").attr("data-trigger","manual");$(".always-show-tooltip").tooltip("show")}function getUrlVars(){var b={},a=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(d,c,e){b[c]=e});return b}function clearStorage(){var a=[];for(i=0;i<localStorage.length;i++){if(localStorage.key(i).indexOf("statedt:")>-1||localStorage.key(i)==="messaging"){a.push(localStorage.key(i))}}var b;for(b in a){localStorage.removeItem(a[b])}}function viewport(d){var c=window,b="inner";if(!("innerWidth" in window)){b="client";c=document.documentElement||document.body}if(d==="width"){return c[b+"Width"]}else{return c[b+"Height"]}}function getHtmlSize(b){var c={};var a=$(b);a.css("visibility","hidden");$("body").append(a);c.width=a.outerWidth();c.height=a.outerHeight();a.remove();return c}function getImageSize(c,a){var b=new Image();$(b).bind("load",function(d){var f=b.height;var g=b.width;a(g,f)});b.src=c}function $_GET(d){var c=window.location.search.substring(1),e=c.split("&"),a,b;for(a=0;a<e.length;a+=1){b=e[a].split("=");if(b[0]===d){return unescape(b[1]).replace(/\+/g," ")}}return false}function escapeRegExp(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function replaceAll(a,b,c){return c.replace(new RegExp(escapeRegExp(a),"g"),b)}function remove_number(d){if(d==""||d==undefined){return""}var f=d.split(" ");var a="";for(val in f){var b=false;for(var c=0,e=f[val].length;c<e;c++){if(isNumeric(f[val][c])){b=true;break}}if(b==false){a+=" "+f[val]}}return $.trim(a)}function randomize(){var a=Math.random().toString(36).slice(2);return a.toString()}function check_is_defined(a){if(typeof a==="undefined"||a===""||a===null){return false}else{return true}}function isTrue(a){if(typeof a==="undefined"||a===""||a===null||!a||a==="0"){return false}else{return true}}function check_is_login(){if(!isTrue(MY_USERID)){direct_to_url("user/login?&login="+URI_STRING);return false}return true}function isNumeric(a){return !isNaN(parseFloat(a))&&isFinite(a)}function validateEmail(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function preload(a){$(a).each(function(){$("<img/>")[0].src=this})}function validateJSON(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return true}else{return false}}function getDistanceFromLatLonInKm(j,m,l,n){var o=6371,g=deg2rad(l-j),h=deg2rad(n-m),b=Math.sin(g/2)*Math.sin(g/2)+Math.cos(deg2rad(j))*Math.cos(deg2rad(l))*Math.sin(h/2)*Math.sin(h/2),e=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)),f=o*e;return f}function deg2rad(a){return a*(Math.PI/180)}function nl2br(c,b){var a=(b||typeof b==="undefined")?" <br />":" <br>";return(c+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}function getCurrentDateTime(){var a;a=new Date();a=a.getUTCFullYear()+"-"+("00"+(a.getUTCMonth()+1)).slice(-2)+"-"+("00"+a.getUTCDate()).slice(-2)+" "+("00"+a.getUTCHours()).slice(-2)+":"+("00"+a.getUTCMinutes()).slice(-2)+":"+("00"+a.getUTCSeconds()).slice(-2);return a}function getCurrentDateTime12Hr(){var b=new Date,c=("0"+b.getDate()).slice(-2),f=("0"+(b.getMonth()+1)).slice(-2),h=b.getFullYear(),d=b.getHours(),e=("0"+b.getMinutes()).slice(-2),g=b.getSeconds(),a=d>=12?"PM":"AM";d=d%12;d=d?d:12;b=c+"/"+f+"/"+h+" "+d+":"+e+" "+a;return b}function ISODateString(a){function b(c){return c<10?"0"+c:c}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z"}function getDateObjectUsing12hrDateTime(d){var a=d.split(" "),c=a[0].split("/"),e=a[1].split(":"),b;if(a[2].toLowerCase()==="pm"){e[0]=parseInt(e[0],10)+12}date=new Date(parseInt(c[2],10),parseInt(c[1],10),parseInt(c[0],10),e[0],e[1],e[2],0);return date}function handlepaste(c,d){if(d.originalEvent.clipboardData||window.clipboardData){d.preventDefault();var h=window.getSelection?window.getSelection():document.selection;var g=h.getRangeAt?h.getRangeAt(0):h.createRange();var j=g.startOffset;var a=$(d.target);var b=d.originalEvent.clipboardData?d.originalEvent.clipboardData.getData("text/plain"):window.clipboardData.getData("Text");var f=a.text().substring(0,g.startOffset)+b+a.text().substring(g.endOffset,a.text().length);a.text(f);var l=d.target;if(window.getSelection){if(d.target.childNodes.length>0){l=d.target.childNodes[0]}var e=document.createRange();e.setStart(l,j+b.length);e.setEnd(l,j+b.length);if(h.rangeCount>0){h.removeAllRanges()}h.addRange(e)}else{if(d.target.childNodes.length>0){l=d.target.childNodes[0]}var e=document.selection.createRange();e.moveToElementText(d.target);e.setStart(l,j+b.length);e.setEnd(l,j+b.length);e.select()}}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,a){a=a||0;var b=this.length;while(a<b){if(this[a]===c){return a}++a}return -1}}function removeItemFromArr(c){var f,b=arguments,e=b.length,d;while(e>1&&c.length){f=b[--e];while((d=c.indexOf(f))!==-1){c.splice(d,1)}}return c}jQuery.fn.extend({select:function(){return this.each(function(){$(this).addClass("selected")})},unselect:function(){return this.each(function(){$(this).removeClass("selected")})}});if(!jQuery){throw new Error("Bootstrap requires jQuery")}+function(c){function d(){var e=document.createElement("bootstrap"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in f){if(void 0!==e.style[g]){return{end:f[g]}}}}c.fn.emulateTransitionEnd=function(a){var f=!1,g=this;c(this).one(c.support.transition.end,function(){f=!0});var h=function(){f||c(g).trigger(c.support.transition.end)};return setTimeout(h,a),this},c(function(){c.support.transition=d()})}(window.jQuery),+function(e){var f='[data-dismiss="alert"]',g=function(a){e(a).on("click",f,this.close)};g.prototype.close=function(a){function j(){n.trigger("closed.bs.alert").remove()}var l=e(this),m=l.attr("data-target");m||(m=l.attr("href"),m=m&&m.replace(/.*(?=#[^\s]*$)/,""));var n=e(m);a&&a.preventDefault(),n.length||(n=l.hasClass("alert")?l:l.parent()),n.trigger(a=e.Event("close.bs.alert")),a.isDefaultPrevented()||(n.removeClass("in"),e.support.transition&&n.hasClass("fade")?n.one(e.support.transition.end,j).emulateTransitionEnd(150):j())};var h=e.fn.alert;e.fn.alert=function(a){return this.each(function(){var b=e(this),c=b.data("bs.alert");c||b.data("bs.alert",c=new g(this)),"string"==typeof a&&c[a].call(b)})},e.fn.alert.Constructor=g,e.fn.alert.noConflict=function(){return e.fn.alert=h,this},e(document).on("click.bs.alert.data-api",f,g.prototype.close)}(window.jQuery),+function(d){var e=function(a,b){this.$element=d(a),this.options=d.extend({},e.DEFAULTS,b)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(g){var h="disabled",j=this.$element,l=j.is("input")?"val":"html",m=j.data();g+="Text",m.resetText||j.data("resetText",j[l]()),j[l](m[g]||this.options[g]),setTimeout(function(){"loadingText"==g?j.addClass(h).attr(h,h):j.removeClass(h).removeAttr(h)},0)},e.prototype.toggle=function(){var c=this.$element.closest('[data-toggle="buttons"]');if(c.length){var g=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===g.prop("type")&&c.find(".active").removeClass("active")}this.$element.toggleClass("active")};var f=d.fn.button;d.fn.button=function(a){return this.each(function(){var b=d(this),c=b.data("bs.button"),g="object"==typeof a&&a;c||b.data("bs.button",c=new e(this,g)),"toggle"==a?c.toggle():a&&c.setState(a)})},d.fn.button.Constructor=e,d.fn.button.noConflict=function(){return d.fn.button=f,this},d(document).on("click.bs.button.data-api","[data-toggle^=button]",function(a){var g=d(a.target);g.hasClass("btn")||(g=g.closest(".btn")),g.button("toggle"),a.preventDefault()})}(window.jQuery),+function(d){var e=function(a,g){this.$element=d(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=g,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};e.DEFAULTS={interval:5000,pause:"hover",wrap:!0},e.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(a){var g=this,h=this.getActiveIndex();return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid",function(){g.to(a)}):h==a?this.pause().cycle():this.slide(a>h?"next":"prev",d(this.$items[a]))},e.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition.end&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(a,l){var m=this.$element.find(".item.active"),n=l||m[a](),o=this.interval,p="next"==a?"left":"right",q="next"==a?"first":"last",r=this;if(!n.length){if(!this.options.wrap){return}n=this.$element.find(".item")[q]()}this.sliding=!0,o&&this.pause();var s=d.Event("slide.bs.carousel",{relatedTarget:n[0],direction:p});if(!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var c=d(r.$indicators.children()[r.getActiveIndex()]);c&&c.addClass("active")})),d.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(s),s.isDefaultPrevented()){return}n.addClass(a),n[0].offsetWidth,m.addClass(p),n.addClass(p),m.one(d.support.transition.end,function(){n.removeClass([a,p].join(" ")).addClass("active"),m.removeClass(["active",p].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(s),s.isDefaultPrevented()){return}m.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}};var f=d.fn.carousel;d.fn.carousel=function(a){return this.each(function(){var b=d(this),c=b.data("bs.carousel"),h=d.extend({},e.DEFAULTS,b.data(),"object"==typeof a&&a),j="string"==typeof a?a:h.slide;c||b.data("bs.carousel",c=new e(this,h)),"number"==typeof a?c.to(a):j?c[j]():h.interval&&c.pause().cycle()})},d.fn.carousel.Constructor=e,d.fn.carousel.noConflict=function(){return d.fn.carousel=f,this},d(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(a){var h,j=d(this),l=d(j.attr("data-target")||(h=j.attr("href"))&&h.replace(/.*(?=#[^\s]+$)/,"")),m=d.extend({},l.data(),j.data()),n=j.attr("data-slide-to");n&&(m.interval=!1),l.carousel(m),(n=j.attr("data-slide-to"))&&l.data("bs.carousel").to(n),a.preventDefault()}),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var a=d(this);a.carousel(a.data())})})}(window.jQuery),+function(d){var e=function(a,b){this.$element=d(a),this.options=d.extend({},e.DEFAULTS,b),this.transitioning=null,this.options.parent&&(this.$parent=d(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a=d.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var h=this.$parent&&this.$parent.find("> .panel > .in");if(h&&h.length){var j=h.data("bs.collapse");if(j&&j.transitioning){return}h.collapse("hide"),j||h.data("bs.collapse",null)}var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0),this.transitioning=1;var m=function(){this.$element.removeClass("collapsing").addClass("in")[l]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!d.support.transition){return m.call(this)}var n=d.camelCase(["scroll",l].join("-"));this.$element.one(d.support.transition.end,d.proxy(m,this)).emulateTransitionEnd(350)[l](this.$element[0][n])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=d.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var g=this.dimension();this.$element[g](this.$element[g]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var h=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return d.support.transition?(this.$element[g](0).one(d.support.transition.end,d.proxy(h,this)).emulateTransitionEnd(350),void 0):h.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var f=d.fn.collapse;d.fn.collapse=function(a){return this.each(function(){var b=d(this),c=b.data("bs.collapse"),g=d.extend({},e.DEFAULTS,b.data(),"object"==typeof a&&a);c||b.data("bs.collapse",c=new e(this,g)),"string"==typeof a&&c[a]()})},d.fn.collapse.Constructor=e,d.fn.collapse.noConflict=function(){return d.fn.collapse=f,this},d(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(a){var l,m=d(this),n=m.attr("data-target")||a.preventDefault()||(l=m.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,""),o=d(n),p=o.data("bs.collapse"),q=p?"toggle":m.data(),r=m.attr("data-parent"),s=r&&d(r);p&&p.transitioning||(s&&s.find('[data-toggle=collapse][data-parent="'+r+'"]').not(m).addClass("collapsed"),m[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(q)})}(window.jQuery),+function(h){function j(){h(m).remove(),h(n).each(function(a){var c=l(h(this));c.hasClass("open")&&(c.trigger(a=h.Event("hide.bs.dropdown")),a.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function l(a){var e=a.attr("data-target");e||(e=a.attr("href"),e=e&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var f=e&&h(e);return f&&f.length?f:a.parent()}var m=".dropdown-backdrop",n="[data-toggle=dropdown]",o=function(a){h(a).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(a){var b=h(this);if(!b.is(".disabled, :disabled")){var c=l(b),q=c.hasClass("open");if(j(),!q){if("ontouchstart" in document.documentElement&&h('<div class="dropdown-backdrop"/>').insertAfter(h(this)).on("click",j),c.trigger(a=h.Event("show.bs.dropdown")),a.isDefaultPrevented()){return}c.toggleClass("open").trigger("shown.bs.dropdown")}return b.focus(),!1}},o.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var c=h(this);if(a.preventDefault(),a.stopPropagation(),!c.is(".disabled, :disabled")){var e=l(c),q=e.hasClass("open");if(!q||q&&27==a.keyCode){return 27==a.which&&e.find(n).focus(),c.click()}var r=h("[role=menu] li:not(.divider):visible a",e);if(r.length){var s=r.index(r.filter(":focus"));38==a.keyCode&&s>0&&s--,40==a.keyCode&&s<r.length-1&&s++,~s||(s=0),r.eq(s).focus()}}}};var p=h.fn.dropdown;h.fn.dropdown=function(a){return this.each(function(){var b=h(this),e=b.data("dropdown");e||b.data("dropdown",e=new o(this)),"string"==typeof a&&e[a].call(b)})},h.fn.dropdown.Constructor=o,h.fn.dropdown.noConflict=function(){return h.fn.dropdown=p,this},h(document).on("click.bs.dropdown.data-api",j).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",n,o.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",o.prototype.keydown)}(window.jQuery),+function(d){var e=function(a,g){this.options=g,this.$element=d(a).on("click.dismiss.modal",'[data-dismiss="modal"]',d.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(b){return this[this.isShown?"hide":"show"](b)},e.prototype.show=function(a){var g=this,h=d.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(h),this.isShown||h.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var b=d.support.transition&&g.$element.hasClass("fade");g.$element.parent().length||g.$element.appendTo(document.body),g.$element.show(),b&&g.$element[0].offsetWidth,g.$element.addClass("in").attr("aria-hidden",!1),g.enforceFocus();var c=d.Event("shown.bs.modal",{relatedTarget:a});b?g.$element.one(d.support.transition.end,function(){g.$element.focus().trigger(c)}).emulateTransitionEnd(300):g.$element.focus().trigger(c)}))},e.prototype.hide=function(a){a&&a.preventDefault(),a=d.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),d(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),d.support.transition&&this.$element.hasClass("fade")?this.$element.one(d.support.transition.end,d.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",d.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.removeBackdrop(),b.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(a){var g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=d.support.transition&&g;if(this.$backdrop=d('<div class="modal-backdrop '+g+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",d.proxy(function(b){b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),h&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}h?this.$backdrop.one(d.support.transition.end,a).emulateTransitionEnd(150):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()}};var f=d.fn.modal;d.fn.modal=function(a,b){return this.each(function(){var c=d(this),h=c.data("bs.modal"),j=d.extend({},e.DEFAULTS,c.data(),"object"==typeof a&&a);h||c.data("bs.modal",h=new e(this,j)),"string"==typeof a?h[a](b):j.show&&h.show(b)})},d.fn.modal.Constructor=e,d.fn.modal.noConflict=function(){return d.fn.modal=f,this},d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var g=d(this),h=g.attr("href"),j=d(g.attr("data-target")||h&&h.replace(/.*(?=#[^\s]+$)/,"")),l=j.data("modal")?"toggle":d.extend({remote:!/#/.test(h)&&h},j.data(),g.data());a.preventDefault(),j.modal(l,this).one("hide",function(){g.is(":visible")&&g.focus()})}),d(document).on("shown.bs.modal",".modal",function(){d(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){d(document.body).removeClass("modal-open")})}(window.jQuery),+function(d){var e=function(c,g){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",c,g)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(a,j,l){this.enabled=!0,this.type=a,this.$element=d(j),this.options=this.getOptions(l);for(var m=this.options.trigger.split(" "),n=m.length;n--;){var o=m[n];if("click"==o){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if("manual"!=o){var p="hover"==o?"mouseenter":"focus",q="hover"==o?"mouseleave":"blur";this.$element.on(p+"."+this.type,this.options.selector,d.proxy(this.enter,this)),this.$element.on(q+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(a){return a=d.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},e.prototype.getDelegateOptions=function(){var a={},g=this.getDefaults();return this._options&&d.each(this._options,function(b,c){g[b]!=c&&(a[b]=c)}),a},e.prototype.enter=function(a){var g=a instanceof this.constructor?a:d(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.options.delay&&g.options.delay.show?(g.hoverState="in",g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show),void 0):g.show()},e.prototype.leave=function(a){var g=a instanceof this.constructor?a:d(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.options.delay&&g.options.delay.hide?(g.hoverState="out",g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide),void 0):g.hide()},e.prototype.show=function(){var a=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented()){return}var q=this.tip();this.setContent(),this.options.animation&&q.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,q[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,t=s.test(r);t&&(r=r.replace(s,"")||"top"),q.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?q.appendTo(this.options.container):q.insertAfter(this.$element);var u=this.getPosition(),v=q[0].offsetWidth,w=q[0].offsetHeight;if(t){var y=this.$element.parent(),z=r,A=document.documentElement.scrollTop||document.body.scrollTop,B="body"==this.options.container?window.innerWidth:y.outerWidth(),C="body"==this.options.container?window.innerHeight:y.outerHeight(),D="body"==this.options.container?0:y.offset().left;r="bottom"==r&&u.top+u.height+w-A>C?"top":"top"==r&&u.top-A-w<0?"bottom":"right"==r&&u.right+v>B?"left":"left"==r&&u.left-v<D?"right":r,q.removeClass(z).addClass(r)}var E=this.getCalculatedOffset(r,u,v,w);this.applyPlacement(E,r),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(l,m){var n,o=this.tip(),p=o[0].offsetWidth,q=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),s=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),l.top=l.top+r,l.left=l.left+s,o.offset(l).addClass("in");var t=o[0].offsetWidth,u=o[0].offsetHeight;if("top"==m&&u!=q&&(n=!0,l.top=l.top+q-u),/bottom|top/.test(m)){var v=0;l.left<0&&(v=-2*l.left,l.left=0,o.offset(l),t=o[0].offsetWidth,u=o[0].offsetHeight),this.replaceArrow(v-p+t,t,"left")}else{this.replaceArrow(u-q,u,"top")}n&&o.offset(l)},e.prototype.replaceArrow=function(g,h,j){this.arrow().css(j,g?50*(1-g/h)+"%":"")},e.prototype.setContent=function(){var c=this.tip(),g=this.getTitle();c.find(".tooltip-inner")[this.options.html?"html":"text"](g),c.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function a(){g.detach()}var g=this.tip(),h=d.Event("hide.bs."+this.type);return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(g.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?g.one(d.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var a=this.$element[0];return d.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(g,h,j,l){return"bottom"==g?{top:h.top+h.height,left:h.left+h.width/2-j/2}:"top"==g?{top:h.top-l,left:h.left+h.width/2-j/2}:"left"==g?{top:h.top+h.height/2-l/2,left:h.left-j}:{top:h.top+h.height/2-l/2,left:h.left+h.width}},e.prototype.getTitle=function(){var g,h=this.$element,j=this.options;return g=h.attr("data-original-title")||("function"==typeof j.title?j.title.call(h[0]):j.title)},e.prototype.tip=function(){return this.$tip=this.$tip||d(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(a){var g=a?d(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;g.tip().hasClass("in")?g.leave(g):g.enter(g)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=d.fn.tooltip;d.fn.tooltip=function(a){return this.each(function(){var b=d(this),c=b.data("bs.tooltip"),g="object"==typeof a&&a;c||b.data("bs.tooltip",c=new e(this,g)),"string"==typeof a&&c[a]()})},d.fn.tooltip.Constructor=e,d.fn.tooltip.noConflict=function(){return d.fn.tooltip=f,this}}(window.jQuery),+function(d){var e=function(c,g){this.init("popover",c,g)};if(!d.fn.tooltip){throw new Error("Popover requires tooltip.js")}e.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=d.extend({},d.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var g=this.tip(),h=this.getTitle(),j=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](h),g.find(".popover-content")[this.options.html?"html":"text"](j),g.removeClass("fade top bottom left right in"),g.find(".popover-title").html()||g.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var c=this.$element,g=this.options;return c.attr("data-content")||("function"==typeof g.content?g.content.call(c[0]):g.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip};var f=d.fn.popover;d.fn.popover=function(a){return this.each(function(){var b=d(this),c=b.data("bs.popover"),g="object"==typeof a&&a;c||b.data("bs.popover",c=new e(this,g)),"string"==typeof a&&c[a]()})},d.fn.popover.Constructor=e,d.fn.popover.noConflict=function(){return d.fn.popover=f,this}}(window.jQuery),+function(d){function e(a,b){var g,h=d.proxy(this.process,this);this.$element=d(a).is("body")?d(window):d(a),this.$body=d("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",h),this.options=d.extend({},e.DEFAULTS,b),this.selector=(this.options.target||(g=d(a).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=d([]),this.targets=d([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var a=this.$element[0]==window?"offset":"position";this.offsets=d([]),this.targets=d([]);var g=this;this.$body.find(this.selector).map(function(){var b=d(this),c=b.data("target")||b.attr("href"),h=/^#\w/.test(c)&&d(c);return h&&h.length&&[[h[a]().top+(!d.isWindow(g.$scrollElement.get(0))&&g.$scrollElement.scrollTop()),c]]||null}).sort(function(c,h){return c[0]-h[0]}).each(function(){g.offsets.push(this[0]),g.targets.push(this[1])})},e.prototype.process=function(){var h,j=this.$scrollElement.scrollTop()+this.options.offset,l=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,m=l-this.$scrollElement.height(),n=this.offsets,o=this.targets,p=this.activeTarget;if(j>=m){return p!=(h=o.last()[0])&&this.activate(h)}for(h=n.length;h--;){p!=o[h]&&j>=n[h]&&(!n[h+1]||j<=n[h+1])&&this.activate(o[h])}},e.prototype.activate=function(a){this.activeTarget=a,d(this.selector).parents(".active").removeClass("active");var g=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',h=d(g).parents("li").addClass("active");h.parent(".dropdown-menu").length&&(h=h.closest("li.dropdown").addClass("active")),h.trigger("activate")};var f=d.fn.scrollspy;d.fn.scrollspy=function(a){return this.each(function(){var b=d(this),c=b.data("bs.scrollspy"),g="object"==typeof a&&a;c||b.data("bs.scrollspy",c=new e(this,g)),"string"==typeof a&&c[a]()})},d.fn.scrollspy.Constructor=e,d.fn.scrollspy.noConflict=function(){return d.fn.scrollspy=f,this},d(window).on("load",function(){d('[data-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(window.jQuery),+function(d){var e=function(a){this.element=d(a)};e.prototype.show=function(){var a=this.element,h=a.closest("ul:not(.dropdown-menu)"),j=a.attr("data-target");if(j||(j=a.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var l=h.find(".active:last a")[0],m=d.Event("show.bs.tab",{relatedTarget:l});if(a.trigger(m),!m.isDefaultPrevented()){var n=d(j);this.activate(a.parent("li"),h),this.activate(n,n.parent(),function(){a.trigger({type:"shown.bs.tab",relatedTarget:l})})}}},e.prototype.activate=function(a,h,j){function l(){m.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),n?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),j&&j()}var m=h.find("> .active"),n=j&&d.support.transition&&m.hasClass("fade");n?m.one(d.support.transition.end,l).emulateTransitionEnd(150):l(),m.removeClass("in")};var f=d.fn.tab;d.fn.tab=function(a){return this.each(function(){var b=d(this),c=b.data("bs.tab");c||b.data("bs.tab",c=new e(this)),"string"==typeof a&&c[a]()})},d.fn.tab.Constructor=e,d.fn.tab.noConflict=function(){return d.fn.tab=f,this},d(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),d(this).tab("show")})}(window.jQuery),+function(d){var e=function(a,b){this.options=d.extend({},e.DEFAULTS,b),this.$window=d(window).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this)),this.$element=d(a),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=d(document).height(),b=this.$window.scrollTop(),j=this.$element.offset(),l=this.options.offset,m=l.top,n=l.bottom;"object"!=typeof l&&(n=m=l),"function"==typeof m&&(m=l.top()),"function"==typeof n&&(n=l.bottom());var o=null!=this.unpin&&b+this.unpin<=j.top?!1:null!=n&&j.top+this.$element.height()>=a-n?"bottom":null!=m&&m>=b?"top":!1;this.affixed!==o&&(this.unpin&&this.$element.css("top",""),this.affixed=o,this.unpin="bottom"==o?j.top-b:null,this.$element.removeClass(e.RESET).addClass("affix"+(o?"-"+o:"")),"bottom"==o&&this.$element.offset({top:document.body.offsetHeight-n-this.$element.height()}))}};var f=d.fn.affix;d.fn.affix=function(a){return this.each(function(){var b=d(this),c=b.data("bs.affix"),g="object"==typeof a&&a;c||b.data("bs.affix",c=new e(this,g)),"string"==typeof a&&c[a]()})},d.fn.affix.Constructor=e,d.fn.affix.noConflict=function(){return d.fn.affix=f,this},d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var a=d(this),g=a.data();g.offset=g.offset||{},g.offsetBottom&&(g.offset.bottom=g.offsetBottom),g.offsetTop&&(g.offset.top=g.offsetTop),a.affix(g)})})}(window.jQuery);(function(a){var b={init:function(){return this.each(function(){a(this).bind("mousewheel DOMMouseScroll",function(d){if(a(this).get(0).scrollHeight>a(this).height()){if(d.originalEvent){d=d.originalEvent}var c=d.wheelDelta||-d.detail;this.scrollTop+=(c<0?1:-1)*30;d.preventDefault()}})})},reset:function(){return this.each(function(){a(this).unbind("mousewheel DOMMouseScroll");if(a(this).get(0).scrollHeight>a(this).height()){a(this).bind("mousewheel DOMMouseScroll",function(d){if(d.originalEvent){d=d.originalEvent}var c=d.wheelDelta||-d.detail;this.scrollTop+=(c<0?1:-1)*30;d.preventDefault()})}})}};a.fn.mouseWheelFix=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b=[];a.Watermark={ShowAll:function(){var c;for(c=0;c<b.length;c+=1){if(b[c].obj.val()===""){b[c].obj.val(b[c].obj.attr("mark"));b[c].obj.addClass(b[c].classname)}else{b[c].obj.removeClass(b[c].classname)}}},HideAll:function(){var c;for(c=0;c<b.length;c+=1){if(b[c].obj.val()===b[c].obj.attr("mark")){b[c].obj.val("")}}},ShowOne:function(d){var c;for(c=0;c<b.length;c+=1){if(b[c].obj.attr("mark")===d.attr("mark")){break}}b[c].obj.removeClass("hide-watermark")},HideOne:function(d){var c;for(c=0;c<b.length;c+=1){if(b[c].obj.attr("mark")===d.attr("mark")){break}}if(b[c].obj.val()===b[c].obj.attr("mark")||d.val()==""){b[c].obj.val("");b[c].obj.addClass("hide-watermark")}}};a.fn.Watermark=function(c){return this.each(function(){var e=a(this);b[b.length]={obj:e,classname:c};function d(){if(e.val()==e.attr("mark")){e.val("")}e.removeClass(c)}function f(){if((e.val().length==0||e.val()==e.attr("mark"))&&!e.hasClass("hide-watermark")){e.val(e.attr("mark"));e.addClass(c)}else{e.removeClass(c)}}e.focus(d);e.blur(f);e.change(f);f()})}})(jQuery);(function(a){var b={init:function(d){var c={imglist:[],position:0,onCloseCallBack:function(){}},e=a.extend(c,d);return this.each(function(){var p=a(this),q=a("<img class='main-image'>"),n,m,f;var g=a("<img class='main-image-overlay' style='position:absolute;left:0px;top:0px;z-index:4;width:100%;height:100%;'>");q.attr("src",e.imglist[e.position]);g.attr("src",e.imglist[e.position]);n=a('<a class="left carousel-control">&lsaquo;</a>');m=a('<a class="right carousel-control">&rsaquo;</a>');f=a('<a class="carousel-control close-button2 icons"></a>');f.css("top","10");f.css("left","auto");f.css("right","0");f.css("margin","0");f.css("z-index","5");n.css("top","50%");m.css("top","50%");var s="";s+='<div id="modal-image" class="modal fade">';s+='  <div class="modal-dialog">';s+='    <div class="modal-content">';s+='      <div class="modal-body text-center">';s+="      </div>";s+="  </div>";s+="</div>";var h=a(s);a("body").append(h);var j=h.find(".modal-body");j.append(q);j.append(g);var l=h.find(".modal-dialog");l.css("width","auto");l.css("padding","0");h.on("show.bs.modal",function(u){r();a(".modal-content").click(function(v){eventStopPropagation(v)})});q.on("contextmenu",function(){g.show();return false});g.bind("mousewheel",function(u){g.hide()});h.click(function(u){eventStopPropagation(u);h.modal("hide")});h.on("hidden.bs.modal",function(u){h.remove();e.onCloseCallBack()});h.on("shown.bs.modal",function(){q.wheelzoom()});h.modal({keyboard:true,backdrop:"static"});h.css("overflow","auto");j.append(m);j.append(n);j.append(f);f.click(function(){h.modal("hide")});n.click(function(){t(0)});m.click(function(){t(1)});o();function t(u){if(u===0){e.position--}if(u===1){e.position++}o();q.attr("src",e.imglist[e.position])}function o(){if(e.position===0){n.hide()}else{n.show()}if(e.position===e.imglist.length-1){m.hide()}else{m.show()}}function r(){var E=20,D=0,G=window,z=document,A=z.documentElement,B=z.getElementsByTagName("body")[0],F=G.innerWidth||A.clientWidth||B.clientWidth,C=G.innerHeight||A.clientHeight||B.clientHeight,y;var v=h.find(".modal-content");var u=h.find(".main-image");h.css("margin","auto");h.css("left",D);h.css("top",E);h.css("width","auto");v.css("margin","0 auto");j.css("position","relative");j.css("padding",0);j.css("max-height",viewport("height"));j.css("overflow","hidden");getImageSize(j.find("img").attr("src"),function(J,H){v.css("width",J);var I=viewport("height");var w=0;if(H>I){w=I-10;u.css("height",w);h.css("top",5)}else{h.css("top",I/2-H/2)}});if(y<F){D=(F-y)/2}}})}};a.fn.autoResizeModalImageViewer=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={},e=a.extend(c,d);return this.each(function(){var f=a(this);f.attr("contentEditable","true");f.bind("drop",function(q){q.preventDefault();return false});f.blur(function(){l()}).mousedown(function(q){return g(q,f)}).click(function(q){return g(q,f)}).mouseup(function(){p()}).keyup(function(){p()}).focusin(function(){n(f)});var h=false,o,j;function m(s){var w,v;if(window.getSelection){w=window.getSelection();if(w.getRangeAt&&w.rangeCount){v=w.getRangeAt(0);v.deleteContents();var q=document.createElement("div");q.innerHTML=s;var r=document.createDocumentFragment(),u,t;while((u=q.firstChild)){t=r.appendChild(u)}v.insertNode(r);if(t){v=v.cloneRange();v.setStartAfter(t);v.collapse(true);w.removeAllRanges();w.addRange(v)}}}else{if(document.selection&&document.selection.type!="Control"){document.selection.createRange().pasteHTML(s)}}}function p(){if(window.getSelection){if(window.getSelection().rangeCount>0){o=window.getSelection().getRangeAt(0)}}else{if(document.selection){o=document.selection.createRange()}}}function n(q){if(h){return}j=true;q.get(0).focus();if(o!==null){if(window.getSelection){var r=window.getSelection();if(r.rangeCount>0){r.removeAllRanges()}r.addRange(o)}else{if(document.createRange){window.getSelection().addRange(o)}else{if(document.selection){o.select()}}}}}function l(){j=false}function g(r,q){if(j===false&&o!==null){if(r&&r.preventDefault){r.stopPropagation();r.preventDefault()}else{window.event.cancelBubble=true}n(q);return false}}f.bind("inputhtml",function(q,r){h=true;f.get(0).focus();m(r);p();setTimeout(function(){h=false},500)})})}};a.fn.contenteditableDiv=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={container_id:"container",width:1200,height:1000,fileAddedCallBack:function(f){},fileUploadedCallBack:function(f,g){}},e=a.extend(c,d);return this.each(function(){var f=a(this).attr("id");var g;a(document).ready(function(){g=new plupload.Uploader({runtimes:"gears,html5,silverlight,flash,browserplus,html4",browse_button:f,container:e.container_id,max_file_size:"10mb",chunk_size:"1mb",url:global_baseurl+"uploader/upload",flash_swf_url:"http://askahgong.com/property/javascript/plupload/plupload.flash.swf",silverlight_xap_url:"http://askahgong.com/property/javascript/plupload/plupload.silverlight.xap",filters:[{title:"Image files",extensions:"jpg,gif,png,jpeg,JPG,GIF,PNG,JPEG"}],resize:{width:e.width,height:e.height,quality:90}});g.bind("Init",function(j,h){});g.init();g.bind("FilesAdded",function(j,h){a.each(h,function(m,l){e.fileAddedCallBack(l);g.start()});j.refresh()});g.bind("Error",function(j,h){j.refresh()});g.bind("FileUploaded",function(l,h,j){e.fileUploadedCallBack(h,j)})})})}};a.fn.pluploader=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={inputName:"message-text",smileyList:[],enterSubmitForm:false,height:100,maxHeight:9999},e=a.extend(c,d);return this.each(function(){var j=a(this),l,p,o,r,q,g;j.addClass("text-alike-div");j.addClass("border-radius-lefthalf");j.attr("onpaste","handlepaste(this, event)");j.contenteditableDiv();l=a("<div class='row commentinput'></div>");j.wrap(l);j.css("min-height",e.height);j.css("max-height",e.maxHeight);j.css("overflow","auto");p=a('<input class="advanced-textarea-input" type="hidden" name="'+e.inputName+'"/>');j.keyup(function(s){n(s)});j.keydown(function(s){m(s)});j.after(p);o=(e.height/10)+1;j.after("<div class='col-xs-4 col-sm-2 text-center' style='padding-left:0px;'><div class='image-pick border-radius-righthalf' style='height:"+e.height+"px;line-height:"+o+"'><span id='container'><a class='icons' data-toggle='tooltip' title='Upload Image Files' data-container='body' id='pickfiles' href='#'></a></span></div></div>");var h=a("<div class='col-xs-12 col-sm-12 margin-bottom'></div>");j.before(h);j.before("<div class='clear'/>");j.before("<div class='col-xs-12'><div class='alert-msg'></div></div>");for(r in e.smileyList){q=a("<a class='pointer-cursor btn btn-default smiley-button left' style='padding:5px 10px;' title='"+r+"'>"+e.smileyList[r]+"</a>");h.append(q)}a("#pickfiles").tooltip({placement:"top"});a("#pickfiles").pluploader({fileAddedCallBack:function(s){j.append("<span id='"+s.id+"'><img class='uploading' src='image/loading3.gif'></img></span>")},fileUploadedCallBack:function(s,u){var t=a.parseJSON(u.response);j.find("#"+s.id).remove();j.append("<img class='img-big-maxsize clickable-image' src='upload/"+t.result+"'></img>");p.val(j.html())}});h.append("<div class='clear'/><div><span class='text-error advanced-textarea-error hidden-object'>Please wait for your pictures being uploaded..</span></div>");g=a("<div class='col-xs-8 col-sm-10' style='padding-right:0px;'></div>");j.wrap(g);h.mousedown(function(s){s.preventDefault()});h.on("click",".smiley-button",function(s){f(a(this).html())});p.val(j.html());function f(s){j.trigger("inputhtml",s);p.val(j.html())}function n(s){p.val(j.html());switch(s.keyCode){case 13:if(e.enterSubmitForm&&!s.shiftKey){s.preventDefault();j.closest("form").submit();return false}break;default:break}}function m(s){switch(s.keyCode){case 13:if(e.enterSubmitForm&&!s.shiftKey){s.preventDefault()}break;default:break}}})},canSubmit:function(){var c=true;this.each(function(){var d=a(this).parents(".row").find(".alert-msg");clear_alert(d);if(a(this).find(".uploading").length>0){insert_alert(d,"danger","Please wait your pictures being uploaded.");c=false}var e=a.trim(a(this).text());if(!isTrue(e)&&a(this).find("img").length<=0){insert_alert(d,"danger","Please write something.");c=false}});return c},inputText:function(c){a(".advanced-textarea-input").val(c);a(".text-alike-div").html(c)},clear:function(){a(".advanced-textarea-error").hide();a(".advanced-textarea-input").val("");a(".text-alike-div").html("");a(".text-alike-div").focus()}};a.fn.advancedTextArea=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={imgSrc:""},e=a.extend(c,d);return this.each(function(){var f=a(this),j,l,h,g,o,m,n,p;f.css("position","relative");j=f.outerWidth()/2;l=f.outerHeight()/2;h=f.find(".text-to-switch");g=f.find(".image-to-switch");o=j-g.outerWidth()/2;m=g.outerHeight();n=g.outerWidth();p=e.padding;g.css("height",0).css("width",0);f.hover(function(){h.hide();g.css("height",0).css("width",0).css("margin-top",j).show().animate({"margin-top":"0px",height:m,width:n},200,"easeOutBack")},function(){h.show();g.hide()})})}};a.fn.switchImageHover=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={delayCallBack:function(){}},e=a.extend(c,d);return this.each(function(){var f=a(this);var g=f.gmap3("get"),h;g.set("scrollwheel",false);f.mouseenter(function(){if(h!==null){clearTimeout(h)}h=setTimeout(function(){g.set("scrollwheel",true);e.delayCallBack()},700)});f.mouseleave(function(){if(h!==null){clearTimeout(h)}g.set("scrollwheel",false)});f.click(function(){g.set("scrollwheel",true)})})}};a.fn.gmapDelayMouseWheel=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={},e=a.extend(c,d);return this.each(function(){var f=a(this);f.keypress(function(j){j=j||window.event;var g=(typeof j.which=="undefined")?j.keyCode:j.which;var h=String.fromCharCode(g);if(/\d/.test(h)){return false}})})}};a.fn.preventNumberInput=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){a.fn.focusToEnd=function(){return this.each(function(){var b=a(this).val();a(this).focus().val("").val(b)})}})(jQuery);(function(a){function b(e,f,g){var h=e.getBounds();var j=h.getNorthEast();var l=h.getSouthWest();if(!(f<=j.lat()&&f>=l.lat()&&g<=j.lng()&&g>=l.lng())){return false}else{return true}}var c=[];var d={init:function(f){var e={centerLatitude:1.54404,centerLongitude:103.8252198,zoom:11,mapTypeControl:true,scrollWheelDelayTime:300,hidePOI:false,idleCallBack:function(){},delayCallBack:function(){},clickCallBack:function(j,h){},rightClickCallBack:function(j,h){}},g=a.extend(e,f);return this.each(function(){var h=a(this);var l=[];if(g.hidePOI){l.push({featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]});l.push({featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]})}h.gmap3({map:{options:{center:[g.centerLatitude,g.centerLongitude],zoom:g.zoom,mapTypeId:"mystyle",mapTypeControl:g.mapTypeControl,mapTypeControlOptions:{mapTypeIds:["mystyle",google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.TERRAIN],style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControl:true,scrollwheel:true,streetViewControl:true},events:{idle:function(){g.idleCallBack()},click:function(o,n){g.clickCallBack(o,n)},rightclick:function(o,n){g.rightClickCallBack(o,n)}}}});var j=h.gmap3("get"),m;j.mapTypes.set("mystyle",new google.maps.StyledMapType(l,{name:"My Style"}));j.set("scrollwheel",false);h.mouseenter(function(){if(m!==null){clearTimeout(m)}m=setTimeout(function(){j.set("scrollwheel",true);g.delayCallBack()},g.scrollWheelDelayTime)});h.mouseleave(function(){if(m!==null){clearTimeout(m)}j.set("scrollwheel",false)});h.click(function(){j.set("scrollwheel",true)})})},addMarker:function(g){var e={path:"image/map-icon.png",markersObjectArr:[],width:0,height:0,bgPositionX:0,bgPositionY:0,scaleX:0,scaleY:0,anchorPosition:"bottom",zIndex:20,alwaysTop:false,tag:"",latitude:0,longitude:0,data:"",title:"",clustering:false,draggable:false,extendBounds:true,animation:null,stopAnimation:0,clickedCallBack:function(l,j,h){},rightClickCallBack:function(l,j,h){},mouseOverCallBack:function(l,j,h){},dragStartCallBack:function(h){},mouseOutCallBack:function(){}},f=a.extend(e,g);return this.each(function(){if(!isTrue(f.latitude)&&f.markersObjectArr.length===0){return}var h=a(this),o=[],q;var j;if(f.anchorPosition==="bottom"){j=new google.maps.Point(f.width/2,f.height)}else{if(f.anchorPosition==="center"){j=new google.maps.Point(f.width/2,f.height/2)}}var p;if(f.scaleX!==0){var m=new google.maps.MarkerImage(f.path,new google.maps.Size(f.width,f.height),new google.maps.Point(f.bgPositionX,f.bgPositionY),j,new google.maps.Size(f.scaleX,f.scaleY))}else{var m=new google.maps.MarkerImage(f.path,new google.maps.Size(f.width,f.height),new google.maps.Point(f.bgPositionX,f.bgPositionY),j)}if(f.extendBounds){var l=h.data("bounds");if(!isTrue(l)){l=new google.maps.LatLngBounds()}l.extend(new google.maps.LatLng(f.latitude,f.longitude));h.data("bounds",l)}if(f.alwaysTop){f.zIndex=google.maps.Marker.MAX_ZINDEX+1}o.push({latLng:[f.latitude,f.longitude],tag:f.tag,data:f.data,options:{icon:m,optimized:false,zIndex:f.zIndex,title:f.title}});if(f.markersObjectArr.length!==0){o=f.markersObjectArr}var n={values:o,options:{draggable:f.draggable,animation:f.animation},events:{click:function(t,s,r){f.clickedCallBack(t,s,r)},rightclick:function(t,s,r){f.rightClickCallBack(t,s,r)},mouseover:function(t,s,r){f.mouseOverCallBack(t,s,r)},dragstart:function(r){f.dragStartCallBack(r)},dragend:function(r){r.setAnimation(google.maps.Animation.BOUNCE);setTimeout(function(){r.setAnimation(null)},400)},mouseout:function(){f.mouseOutCallBack()}}};if(f.clustering){cluster_option={radius:100,0:{content:"<div class='cluster cluster-1'>CLUSTER_COUNT</div>",width:53,height:52},20:{content:"<div class='cluster cluster-2'>CLUSTER_COUNT</div>",width:56,height:55},50:{content:"<div class='cluster cluster-3'>CLUSTER_COUNT</div>",width:66,height:65}};n.cluster=cluster_option}h.gmap3({marker:n});if((f.stopAnimation)>0){setTimeout(function(){h.customGmap3("getMarkerByTag",{tag:f.tag,callBack:function(r){if(isTrue(r)){r.setAnimation(null)}}})},f.stopAnimation)}})},openInfoWindow:function(g){var e={id:"",closeAll:true,html:"",disableAutoPan:false,panToZoom:0,tag:"",selector:".info-window",openedCallBack:function(){},mouseOverCallBack:function(){},mouseLeaveCallBack:function(){}},f=a.extend(e,g);return this.each(function(){var h=a(this);var l=h.gmap3("get");var j=false;var q;for(q in c){if(c[q].id===f.id){var m=c[q].ib;j=true}}if(isTrue(m)&&f.closeAll){m.hide()}if(!j){var p=getHtmlSize(f.html);var n={content:f.html,alignBottom:true,disableAutoPan:f.disableAutoPan,maxWidth:300,closeBoxURL:"",pixelOffset:new google.maps.Size(-p.width/2+5,-p.height/2-10),zIndex:9999,infoBoxClearance:new google.maps.Size(1,20),isHidden:false,pane:"floatPane",enableEventPropagation:true};m=new InfoBox(n);var o={};o.ib=m;o.id=f.id;c.push(o);google.maps.event.addListener(m,"domready",function(){f.openedCallBack();a(f.selector).mouseover(function(r){f.mouseOverCallBack();eventStopPropagation(r)});a(f.selector).mouseleave(function(){f.mouseLeaveCallBack()})})}h.customGmap3("getMarkerByTag",{tag:f.tag,callBack:function(r){var s=r;if(!isTrue(r)){return}h.customGmap3("smoothZoomIn",{finalZoom:f.panToZoom,latitude:r.getPosition().lat(),longitude:r.getPosition().lng(),panToCoord:!f.disableAutoPan,callback:function(){if(!j){m.open(l,s)}else{m.show()}}})}})})},closeAllInfoWindow:function(){return this.each(function(){var e=a(this);var f;for(f in c){c[f].ib.hide()}c=[]})},smoothZoomOut:function(e){var f={finalZoom:0,latitude:"",longitude:"",callback:function(){},panToCoord:false},g=a.extend(f,e);return this.each(function(){var h=a(this);var j=h.gmap3("get");var o;if(g.finalZoom<j.getZoom()){var l=j.getBounds();var m=l.getNorthEast();var n=l.getSouthWest();if(!b(j,g.latitude,g.longitude)){p(j,g.finalZoom,j.getZoom())}else{g.callback()}}else{g.callback()}function p(r,s,q){if(q<=s||b(r,g.latitude,g.longitude)){g.callback();google.maps.event.removeListener(o);if(g.panToCoord){r.panTo(new google.maps.LatLng(g.latitude,g.longitude))}return}else{o=google.maps.event.addListener(r,"zoom_changed",function(t){google.maps.event.removeListener(o);p(r,s,q-1)});setTimeout(function(){r.setZoom(q)},80)}}})},smoothZoomIn:function(e){var f={finalZoom:0,latitude:"",longitude:"",panToCoord:true,callback:function(){}},g=a.extend(f,e);return this.each(function(){var h=a(this);var l=h.gmap3("get");var t,s;var q;if(g.finalZoom>=l.getZoom()){var m=l.getBounds();var n=m.getNorthEast();var r=m.getSouthWest();if(!b(l,g.latitude,g.longitude)){g.callback()}else{if(g.panToCoord){google.maps.event.addListenerOnce(l,"idle",function(){u(l,g.finalZoom,l.getZoom())});var o=h.customGmap3("getCenter");l.panTo(new google.maps.LatLng(g.latitude,g.longitude));setTimeout(function(){var v=h.customGmap3("getCenter");if(o.lat()===v.lat()&&o.lng()===v.lng()){u(l,g.finalZoom,l.getZoom())}},200)}else{u(l,g.finalZoom,l.getZoom())}}}else{g.callback()}function j(y){var v=l.getBounds();var w=v.getNorthEast();var B=v.getSouthWest();var z=0;var A=0;if(g.latitude>w.lat()){z=-y}else{if(g.latitude<B.lat()){z=y}}if(g.longitude>w.lng()){A=y}else{if(g.longitude<B.lng()){A=-y}}return z+","+A}function p(v,w,y){if(b()){google.maps.event.removeListener(s);return}else{s=google.maps.event.addListener(v,"idle",function(z){google.maps.event.removeListener(s);var A=j(150);p(v,parseInt(A.split(",")[0],10),parseInt(A.split(",")[1],10))});setTimeout(function(){v.panBy(w,y)},80)}}function u(w,y,v){if(v>=y){g.callback();google.maps.event.removeListener(t);return}else{t=google.maps.event.addListener(w,"zoom_changed",function(z){google.maps.event.removeListener(t);u(w,y,v+1)});setTimeout(function(){w.setZoom(v)},80)}}})},fitBounds:function(g){var e={limitZoom:99,latitude:"",longitude:"",customBounds:""},f=a.extend(e,g);return this.each(function(){var h=a(this);var j;var l=h.gmap3("get");if(isTrue(f.customBounds)){j=f.customBounds}else{j=h.data("bounds")}var m=google.maps.event.addListenerOnce(l,"bounds_changed",function(n){if(this.getZoom()>f.limitZoom){this.setZoom(f.limitZoom)}if(isTrue(f.latitude)){h.customGmap3("setCenter",f.latitude,f.longitude)}});setTimeout(function(){google.maps.event.removeListener(m)},2000);if(isTrue(j)){l.fitBounds(j)}})},getAddressByCoord:function(g){var e={lat:"",lng:"",callBack:function(h){}},f=a.extend(e,g);return this.each(function(){var h=a(this);h.gmap3({getaddress:{latLng:[f.lat,f.lng],callback:function(j){f.callBack(j)}}})})},directionRender:function(g){var e={originLat:"",originLng:"",destLat:"",destLng:"",travelMode:google.maps.DirectionsTravelMode.DRIVING,preserveViewport:false,callBack:function(h){}},f=a.extend(e,g);return this.each(function(){var h=a(this);h.gmap3({getroute:{options:{origin:[f.originLat,f.originLng],destination:[f.destLat,f.destLng],travelMode:f.travelMode},callback:function(j){f.callBack(j);h.gmap3({directionsrenderer:{options:{directions:j,preserveViewport:f.preserveViewport,polylineOptions:{strokeColor:"#FF1400",zIndex:100},markerOptions:{visible:false}}}})}}})})},resize:function(){return this.each(function(){var e=a(this);var f=e.gmap3("get");google.maps.event.trigger(f,"resize")})},getMarkerByTag:function(g){var e={tag:"",callBack:function(h){}},f=a.extend(e,g);return this.each(function(){var h=a(this);h.gmap3({get:{name:"marker",tag:f.tag,callback:function(j){f.callBack(j)}}})})},getMarkerByID:function(g){var e={id:"",callBack:function(h){}},f=a.extend(e,g);return this.each(function(){var h=a(this);h.gmap3({get:{id:f.id,callback:function(j){f.callBack(j)}}})})},directGetMarkerByTag:function(h){var g=null;var e={tag:""},f=a.extend(e,h);this.each(function(){var j=a(this);g=j.gmap3({get:{name:"marker",tag:e.tag}})});return g},clearObject:function(e){return this.each(function(){var f=a(this);f.gmap3({clear:e})})},clearMarkerByTag:function(e){return this.each(function(){var f=a(this);f.gmap3({clear:{tag:[e]}})})},clearMarkerByID:function(e){return this.each(function(){var f=a(this);f.gmap3({clear:{id:[e]}})})},hideMarkerByID:function(e){return this.each(function(){var f=a(this);f.customGmap3("getMarkerByID",{id:e,callBack:function(g){if(isTrue(g)){g.setVisible(false)}}})})},hideMarkerByTag:function(e){return this.each(function(){var f=a(this);f.customGmap3("getMarkerByTag",{tag:e,callBack:function(g){g.setVisible(false)}})})},showAllMarkers:function(){return this.each(function(){var e=a(this);e.gmap3({get:{name:"marker",all:true,callback:function(f){for(x in f){f[x].setVisible(true)}}}})})},getZoom:function(){var e;this.each(function(){var f=a(this);var g=f.gmap3("get");e=g.getZoom()});return e},setZoom:function(e){return this.each(function(){var f=a(this);var g=f.gmap3("get");g.setZoom(e)})},setCenter:function(e,f){return this.each(function(){var g=a(this);var h=g.gmap3("get");h.setCenter(new google.maps.LatLng(e,f))})},getCenter:function(){var e;this.each(function(){var f=a(this);var g=f.gmap3("get");e=g.getCenter()});return e},getBoundary:function(){var e={};this.each(function(){var f=a(this);var g=f.gmap3("get");var h=g.getBounds();var j=h.getNorthEast();var l=h.getSouthWest();e.ne_lat=j.lat();e.ne_lng=j.lng();e.sw_lat=l.lat();e.sw_lng=l.lng()});return e}};a.fn.customGmap3=function(e){if(d[e]){return d[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return d.init.apply(this,arguments)}else{a.error("Method "+e+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={areaNotFoundHtml:"The area that you have inserted is not recognized by Ah Gong. If you feel that it is a new area we should have, please suggest to gain reputation points. <br><a href='javascript:void(0);' onclick='suggest_new_word($(&apos;.suggest-input&apos;).val(),this)'>Suggest Now</a>",areaNotSpecifyHtml:"Please input more specific area.",areaNotSupportedHtml:"The area that you have inserted is not yet covered by Askahgong.com. Currently, we only provide service for properties in Johor Bahru. We will inform you once the area is covered in the near future. Thanks.",preFill:{},preFillExtra:{},preFillCoordinates:{},minChars:3,forceLimit:1,forceLimitMessage:"For selling a property, there can only be one location.",waterMark:"",neverSubmit:false,maxAreaLevel:99,allowPureNumberOrSymbol:false,selectionClick:function(j){},selectionAdded:function(j){},selectionRemoved:function(j){},width:"",padding:"",uniqueid:"",enterSubmit:true};var g=a.extend(c,d),h=1000,f=false,e=false;return this.each(function(){var v=a(this),p,F,r,s,J,I,O,N=0,m;v.attr("autocomplete","off");v.addClass("suggest-input").addClass("noEnterSubmit");v.css("float","left");v.attr("mark",g.waterMark);v.addClass("watermark");v.wrap("<div id='suggest-container"+g.uniqueid+"' class='suggest-container customwidth position-relative'></div>");v.wrap("<div></div>");p=a("#suggest-container"+g.uniqueid);p.css("width",g.width);p.css("position","relative");F=a('<input type="hidden" class="as_values_area area_input sell buy" name="area"/>');r=a('<input type="hidden" class="as_values_area_extra area_input" name="areaidlvl"/>');s=a('<input type="hidden" class="as_values_area_coordinates area_input" name="areacoordinates"/>');J=a('<div class="suggest-list"></div>').hover(function(){},function(){});if(g.padding!==""){p.css("padding",g.padding)}p.append(J);J.wrap("<div class='suggest-list-container'></div>");I=J.jScrollPane().bind("mousewheel",function(P){P.preventDefault()}).data("jsp");p.click(function(){p.find(".suggest-picked-item.focus").removeClass("focus");v.focus();eventStopPropagation()});v.after("<div style='clear:both'></div>");v.after(F);v.after(r);v.after(s);if(g.preFill.length>0){if(g.preFill.length>g.forceLimit){a(g.preFill).slice(g.forceLimit).remove()}m=[];a(g.preFill).each(function(P){var S=parseInt(g.preFill[P].split("|")[0],10),T=parseInt(g.preFill[P].split("|")[1],10),U=g.preFillExtra[P].split("@")[0],R=g.preFillExtra[P].split("@")[1],Q={};Q.id=S;Q.arealevel=T;if(Q.arealevel>g.maxAreaLevel){return true}Q.extra=R;Q.result=U;if(g.preFillCoordinates.length>0&&S!==-1){Q.latitude=g.preFillCoordinates[P].split(",")[0];Q.longitude=g.preFillCoordinates[P].split(",")[1]}else{if(g.preFillCoordinates.length>0&&S===-1){Q.latitude=1.54404;Q.longitude=103.8252198}}m.push(Q)});m=D(m);a(m).each(function(P){j(m[P].result,m[P].id,m[P])})}function L(P){I.getContentPane().html(P);I.reinitialise()}function l(P){I.getContentPane().append(P);I.reinitialise()}function o(){I.getContentPane().html("");I.reinitialise()}function M(){J.show()}function u(){a("[rel=tooltip]").tooltip("destroy");J.hide();o()}function q(V){var P=I.getContentPane();var U,R,T;switch(V){case"notfound":U="LOCATION NOT FOUND!";R=g.areaNotFoundHtml;T="sad";break;case"notsupported":U="LOCATION NOT YET SUPPORTED!";R=g.areaNotSupportedHtml;T="sad";break;case"notspecify":U="NEED MORE SPECIFY LOCATION!";R=g.areaNotSpecifyHtml;T="thinking_half";break}var S="";S+="<div class='col-xs-12'>";S+="<div class='row'>";S+="<div class='title'>";S+=U;S+="</div>";S+="</div>";S+="<div class='row content'>";S+="<div class='col-xs-9'>";S+=R;S+="</div>";S+="<div class='col-xs-3' style='padding-left:0px;padding-right:0px;'>";S+="<img src='image/ahgong/"+T+".png' class='img-responsive full-width'>";S+="</div>";S+="</div>";S+="</div>";var Q=a(S);imagesLoaded(Q,function(X){P.html("");P.append(Q);var W=Q.outerHeight();J.css("height",W);I.reinitialise()})}u();v.keyup(function(P){z(P)});v.keydown(function(P){y(P)});a("body").click(function(){if(v.val()!==""){j(v.val(),-1)}});if(g.tooltiphtml!==""){p.attr("title",g.tooltiphtml);p.tooltip({placement:"top",html:true,trigger:"manual"});p.tooltip()}v.on("focusout focusin",function(P){if(a(".suggest-picked-item").length<=0){n()}G();if(P.type==="focusin"){p.addClass("highlight");if(g.showtooltip){p.tooltip("show")}}else{p.removeClass("highlight");p.tooltip("hide")}});v.bind("changeOptions",function(P,Q){g=a.extend(g,Q)});v.bind("addItem",function(Q,P){var R=P.split("|")[0],S=P.split("|")[1];a(m).each(function(T){if(m[T].dbid===R&&m[T].arealevel===S){j(m[T].result,m[T].id)}})});v.bind("clearAll",function(P,Q){v.val("");u()});a(document).ready(function(){G()});function G(){if(p.find(".suggest-picked-item").length>0){a.Watermark.HideOne(v)}else{a.Watermark.ShowOne(v)}}function w(){o();l("<div class='loading-container col-xs-12'><img class='img-responsive' src='image/loading.gif'></img></div>");t()}function E(R){if(R.length<g.minChars){u();return}o();M();R=R.toLowerCase();var P=true,Q=true,S=new RegExp(R,"i");w();f=true;e=false;if(check_is_defined(O)){O.abort()}O=a.post("data_controller/get_area_by_query/"+g.maxAreaLevel,{query:R},function(X){var V=X.split("||");o();if(V[1]>0){q("notsupported");e=true;f=false;return}if(V[2]>g.maxAreaLevel){q("notspecify");e=true;f=false;return}var Z=D(a.parseJSON(V[0])),W=[],U=[],aa=[],T;a(Z).each(function(ac){var ab=false;a(U).each(function(ad){if(Z[ac].arealevel<U[ad].arealevel&&U[ad].result===Z[ac].result){W.push(ac)}});U.push(Z[ac])});a.each(W,function(ac,ab){if(a.inArray(ab,aa)===-1){aa.push(ab)}});aa=aa.reverse();a.each(aa,function(ab,ac){Z.splice(ac,1)});var Y=a("<div></div>");a(Z).each(function(ac){var ab=a('<div class="suggest-result-item col-xs-12" rel="tooltip"></div>').click(function(){var ad=a(this).data("model").result;j(ad,a(this).data("model").id)}).mouseover(function(){a("div",J).removeClass("selected");a(this).addClass("selected")}).data("model",Z[ac]);if(P===true){ab.addClass("selected");P=false}T="";T+="<div class='row'>";T+="  <div class='col-xs-2 text-center'>";T+="       <div class='icons address-icon "+Z[ac].image+"'>";T+="        </div>";T+="  </div>";T+="  <div class='col-xs-10'>";T+="    <div class='main-address'>";T+=Z[ac].result;T+="    </div>";T+="    <div class='sub-address overflow-ellipsis'>";T+=Z[ac].extra.replace(", ,",",");T+="    </div>";T+="  </div>";T+="</div>";ab.append(a(T));Y.append(ab);Q=false});if(Z.length===0){q("notfound")}else{J.css("height",300)}l(Y);f=false})}function n(){if(a(".suggest-picked-item").length<=0){v.css("width",200);return}else{}var P='<span style="display:none">'+v.val()+"</span>",Q;a("body").append(P);Q=a("body").find("span:last").width();a("body").find("span:last").remove();Q+=10;if(Q<a(".suggest-container").outerWidth()-10){v.css("width",Q+10+30)}else{if(Q===0){v.css("width",20)}}}function z(P){switch(P.keyCode){case 38:break;case 40:break;case 9:case 188:case 13:case 37:case 39:if(P.keyCode===13){P.preventDefault()}break;default:n();clearTimeout(N);N=setTimeout(function(){E(v.val())},300);break}}function y(Q){switch(Q.keyCode){case 38:Q.preventDefault();C("up");break;case 40:Q.preventDefault();C("down");break;case 37:if(v.val()==""){Q.preventDefault();B("left")}break;case 8:if(v.val()==""){Q.preventDefault();B("left")}break;case 9:case 188:case 13:var P=a(".suggest-result-item.selected:first",J);if(P.length>0){Q.preventDefault();j(P.data("model").result,P.data("model").id)}else{if(v.val()!==""){Q.preventDefault();j(v.val(),-1)}else{if(Q.keyCode===188){Q.preventDefault()}else{if(Q.keyCode===13){Q.preventDefault();if(g.enterSubmit){v.closest("form").submit();return false}}}}}break;default:}}function t(){var P=I.getContentPane();imagesLoaded(P,function(R){var Q=P.outerHeight();J.css("height",Q);I.reinitialise()})}function j(W,Q,V){if(A(v.val(),W)){W=v.val()}W=a.trim(W);if(isNumeric(W)){v.val("");u();return}if(W===g.waterMark){return}if(f===true){if(J.find(".retriving").length<=0){l("<div class='retriving'>Retrieving Location Data.Please wait or type more characters.</div>");t()}return}if(e===true){if(J.find(".prohibiting").length<=0){l("<div class='prohibiting'>You are not allowed to input due to the error above. Please clear the area and insert again.</div>");t()}return}if((a(".suggest-picked-item",p).length+1>g.forceLimit)&&(g.forceLimit>0)){v.val("");u();insert_tooltip(v,g.forceLimitMessage,"top",2000);return}if(V===undefined){if(Q==-1){a(".suggest-result-item").each(function(X){if(A(a.trim(a(this).find(".main-address").html()),W)){foundMatched=true;V=a(this).data("model");Q=V.id;return false}})}else{a(".suggest-result-item").each(function(X){if(a(this).data("model").id==Q&&A(a(this).data("model").result,W)){foundMatched=true;V=a(this).data("model");Q=V.id;return false}})}}var S="",U=-1,T,P,R;if(V===null||Q==-1){V={};S="icon-problem";V.image="icon-problem";V.result=W.toLowerCase();V.id=-1;V.arealevel=-1}else{S=V.image;U=V.arealevel;Q=V.id}T=a('<div class="suggest-picked-item" tabindex="999"><span>'+W+"</span></div>").click(function(){p.find(".suggest-picked-item.focus").removeClass("focus");a(this).addClass("focus");event.stopPropagation()}).keydown(function(X){switch(X.keyCode){case 8:case 46:X.preventDefault();var Y=a(this).next(".suggest-picked-item");a(this).find(".icon-remove").trigger("click");if(Y.length>0){Y.addClass("focus");Y.focus()}break;case 39:X.preventDefault();B("right");break;case 37:X.preventDefault();B("left");break}});T.data("model",V);if(Q!==-1){T.addClass("valid")}else{T.addClass("invalid")}T.attr("arealevel",U);T.attr("id",Q);P=a('<div class="icon-remove icons"></div>').click(function(X){g.selectionRemoved.call(null,a(this).parent(".suggest-picked-item"));a(this).parent(".suggest-picked-item").remove();H()}).hover(function(){a(this).addClass("icon-white")},function(){a(this).removeClass("icon-white")});P.css("margin-left","3px");P.css("cursor","pointer");v.before(T);T.append(P);R=a('<div class="icons address-icon-small '+S+'"></div>');R.css("margin-right","7px");T.prepend(R);u();v.val("");v.css("width",30);v.focus();H();g.selectionAdded.call(this,T)}function B(P){var S,R,Q;if(a(".suggest-picked-item",p).length>0){if(a(".suggest-picked-item.focus",p).length>0){if(P==="left"){S=a(".suggest-picked-item.focus").prev(".suggest-picked-item");if(S.length>0){p.find(".suggest-picked-item.focus").removeClass("focus");S.focus();S.addClass("focus")}}else{if(P==="right"){R=a(".suggest-picked-item.focus").next(".suggest-picked-item");if(R.length>0){p.find(".suggest-picked-item.focus").removeClass("focus");R.focus();R.addClass("focus")}else{p.find(".suggest-picked-item.focus").removeClass("focus");v.focus()}}}}else{if(P==="left"){u();Q=a(".suggest-picked-item:last",p);if(Q.length>0){p.find(".suggest-picked-item.focus").removeClass("focus");Q.focus();Q.addClass("focus")}}}}}function K(S){var P,Q,R,U,V,T;T=S.position().top;R=parseInt(J.outerHeight(),10);V=I.getContentPositionY();U=R+V;Q=T;P=Q+S.outerHeight();if(P>=U){I.scrollToY(P-U+V)}else{if(Q<V){I.scrollToY(Q)}}}function C(Q){if(a(":visible",J).length>0){var S=a(".suggest-result-item",J),T,U,R,P;U=S.eq(0);R=S.filter(":last");if(Q==="down"){T=S.eq(0)}else{T=S.filter(":last")}P=a(".suggest-result-item.selected:first",J);if(P.length>0){if(Q==="down"){if(P.html()===R.html()){T=U}else{T=P.next()}}else{if(P.html()===U.html()){T=R}else{T=P.prev()}}}S.removeClass("selected");T.addClass("selected");K(T)}}function A(P,Q){var R=/\d+.*/g;if(a.trim(P.toLowerCase().replace(R,"").replace(" ",""))===a.trim(Q.toLowerCase().replace(R,"").replace(" ",""))){return true}else{return false}}function H(){var R="",Q="",P="";p.find(".suggest-picked-item").each(function(T){var V=a(this).data("model"),U=a(this).attr("arealevel"),S=a(this).attr("id");Q+=S+"|"+U+",";var W=a(this).find("span").html();if(V.extra!==undefined){R+=W+"@"+a.trim(V.extra.split(",")[0])+","}else{R+=W+","}P+=V.latitude+"@"+V.longitude+","});F.val(R.replace(/^,|,$/g,""));r.val(Q.replace(/^,|,$/g,""));s.val(P.replace(/^,|,$/g,""))}function D(P){var Q;for(Q in P){switch(parseInt(P[Q].arealevel,10)){case 0:P[Q].image="icon-residence";break;case 1:P[Q].image="icon-street";break;case 2:P[Q].image="icon-area";break;case 3:P[Q].image="icon-town";break;case 4:P[Q].image="icon-district";break;case 5:P[Q].image="icon-state";break;case 6:P[Q].image="icon-country";break;default:P[Q].image="icon-problem";break}}return P}})},clearAll:function(){return this.each(function(){if(a(this).parents(".suggest-container").find(".icon-remove").length>0){a(a(this).parents(".suggest-container").find(".icon-remove")).trigger("click")}})}};a.fn.autoSuggest2=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(){var t=0,z=[],B={},w={},o={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},A=/[<>&\"\']/g,p,q=window.setTimeout,r={},s;function v(){this.returnValue=false}function y(){this.cancelBubble=true}(function(a){var b=a.split(/,/),c,e,d;for(c=0;c<b.length;c+=2){d=b[c+1].split(/ /);for(e=0;e<d.length;e++){w[d[e]]=b[c]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var u={VERSION:"1.5.3",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:w,ua:(function(){var e=navigator,d=e.userAgent,f=e.vendor,b,a,c;b=/WebKit/.test(d);c=b&&f.indexOf("Apple")!==-1;a=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,ie:!b&&!a&&(/MSIE/gi).test(d)&&(/Explorer/gi).test(e.appName),webkit:b,gecko:!b&&/Gecko/.test(d),safari:c,opera:!!a}}()),typeOf:function(a){return({}).toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(a){u.each(arguments,function(b,c){if(c>0){u.each(b,function(e,d){a[d]=e})}});return a},cleanName:function(a){var b,c;c=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(b=0;b<c.length;b+=2){a=a.replace(c[b],c[b+1])}a=a.replace(/\s+/g,"_");a=a.replace(/[^a-z0-9_\-\.]+/gi,"");return a},addRuntime:function(a,b){b.name=a;z[a]=b;z.push(b);return b},guid:function(){var a=new Date().getTime().toString(32),b;for(b=0;b<5;b++){a+=Math.floor(Math.random()*65535).toString(32)}return(u.guidPrefix||"p")+a+(t++).toString(32)},buildUrl:function(b,a){var c="";u.each(a,function(e,d){c+=(c?"&":"")+encodeURIComponent(d)+"="+encodeURIComponent(e)});if(c){b+=(b.indexOf("?")>0?"&":"?")+c}return b},each:function(d,e){var c,b,a;if(d){c=d.length;if(c===p){for(b in d){if(d.hasOwnProperty(b)){if(e(d[b],b)===false){return}}}}else{for(a=0;a<c;a++){if(e(d[a],a)===false){return}}}}},formatSize:function(a){if(a===p||/\D/.test(a)){return u.translate("N/A")}if(a>1073741824){return Math.round(a/1073741824,1)+" GB"}if(a>1048576){return Math.round(a/1048576,1)+" MB"}if(a>1024){return Math.round(a/1024,1)+" KB"}return a+" b"},getPos:function(b,f){var g=0,e=0,j,h=document,c,d;b=b;f=f||h.body;function a(n){var l,m,F=0,E=0;if(n){m=n.getBoundingClientRect();l=h.compatMode==="CSS1Compat"?h.documentElement:h.body;F=m.left+l.scrollLeft;E=m.top+l.scrollTop}return{x:F,y:E}}if(b&&b.getBoundingClientRect&&((navigator.userAgent.indexOf("MSIE")>0)&&(h.documentMode<8))){c=a(b);d=a(f);return{x:c.x-d.x,y:c.y-d.y}}j=b;while(j&&j!=f&&j.nodeType){g+=j.offsetLeft||0;e+=j.offsetTop||0;j=j.offsetParent}j=b.parentNode;while(j&&j!=f&&j.nodeType){g-=j.scrollLeft||0;e-=j.scrollTop||0;j=j.parentNode}return{x:g,y:e}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(a){var b;if(typeof(a)=="string"){a=/^([0-9]+)([mgk]?)$/.exec(a.toLowerCase().replace(/[^0-9mkg]/g,""));b=a[2];a=+a[1];if(b=="g"){a*=1073741824}if(b=="m"){a*=1048576}if(b=="k"){a*=1024}}return a},xmlEncode:function(a){return a?(""+a).replace(A,function(b){return o[b]?"&"+o[b]+";":b}):a},toArray:function(c){var b,a=[];for(b=0;b<c.length;b++){a[b]=c[b]}return a},inArray:function(c,d){if(d){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(d,c)}for(var a=0,b=d.length;a<b;a++){if(d[a]===c){return a}}}return -1},addI18n:function(a){return u.extend(B,a)},translate:function(a){return B[a]||a},isEmptyObj:function(a){if(a===p){return true}for(var b in a){return false}return true},hasClass:function(c,b){var a;if(c.className==""){return false}a=new RegExp("(^|\\s+)"+b+"(\\s+|$)");return a.test(c.className)},addClass:function(b,a){if(!u.hasClass(b,a)){b.className=b.className==""?a:b.className.replace(/\s+$/,"")+" "+a}},removeClass:function(c,b){var a=new RegExp("(^|\\s+)"+b+"(\\s+|$)");c.className=c.className.replace(a,function(e,d,f){return d===" "&&f===" "?" ":""})},getStyle:function(b,a){if(b.currentStyle){return b.currentStyle[a]}else{if(window.getComputedStyle){return window.getComputedStyle(b,null)[a]}}},addEvent:function(f,a,g){var e,d,c,b;b=arguments[3];a=a.toLowerCase();if(s===p){s="Plupload_"+u.guid()}if(f.addEventListener){e=g;f.addEventListener(a,e,false)}else{if(f.attachEvent){e=function(){var h=window.event;if(!h.target){h.target=h.srcElement}h.preventDefault=v;h.stopPropagation=y;g(h)};f.attachEvent("on"+a,e)}}if(f[s]===p){f[s]=u.guid()}if(!r.hasOwnProperty(f[s])){r[f[s]]={}}d=r[f[s]];if(!d.hasOwnProperty(a)){d[a]=[]}d[a].push({func:e,orig:g,key:b})},removeEvent:function(f,a){var d,g,c;if(typeof(arguments[2])=="function"){g=arguments[2]}else{c=arguments[2]}a=a.toLowerCase();if(f[s]&&r[f[s]]&&r[f[s]][a]){d=r[f[s]][a]}else{return}for(var b=d.length-1;b>=0;b--){if(d[b].key===c||d[b].orig===g){if(f.removeEventListener){f.removeEventListener(a,d[b].func,false)}else{if(f.detachEvent){f.detachEvent("on"+a,d[b].func)}}d[b].orig=null;d[b].func=null;d.splice(b,1);if(g!==p){break}}}if(!d.length){delete r[f[s]][a]}if(u.isEmptyObj(r[f[s]])){delete r[f[s]];try{delete f[s]}catch(e){f[s]=p}}},removeAllEvents:function(b){var a=arguments[1];if(b[s]===p||!b[s]){return}u.each(r[b[s]],function(d,c){u.removeEvent(b,c,a)})}};u.Uploader=function(e){var b={},h,g=[],d,c=false;h=new u.QueueProgress();e=u.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},e);function f(){var l,m=0,j;if(this.state==u.STARTED){for(j=0;j<g.length;j++){if(!l&&g[j].status==u.QUEUED){l=g[j];l.status=u.UPLOADING;if(this.trigger("BeforeUpload",l)){this.trigger("UploadFile",l)}}else{m++}}if(m==g.length){this.stop();this.trigger("UploadComplete",g)}}}function a(){var l,j;h.reset();for(l=0;l<g.length;l++){j=g[l];if(j.size!==p){h.size+=j.size;h.loaded+=j.loaded}else{h.size=p}if(j.status==u.DONE){h.uploaded++}else{if(j.status==u.FAILED){h.failed++}else{h.queued++}}}if(h.size===p){h.percent=g.length>0?Math.ceil(h.uploaded/g.length*100):0}else{h.bytesPerSec=Math.ceil(h.loaded/((+new Date()-d||1)/1000));h.percent=h.size>0?Math.ceil(h.loaded/h.size*100):0}}u.extend(this,{state:u.STOPPED,runtime:"",features:{},files:g,settings:e,total:h,id:u.guid(),init:function(){var l=this,m,E,D,j=0,F;if(typeof(e.preinit)=="function"){e.preinit(l)}else{u.each(e.preinit,function(G,C){l.bind(C,G)})}e.page_url=e.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(e.url)){e.url=e.page_url+e.url}e.chunk_size=u.parseSize(e.chunk_size);e.max_file_size=u.parseSize(e.max_file_size);l.bind("FilesAdded",function(C,M){var L,K,O=0,P,N=e.filters;if(N&&N.length){P=[];u.each(N,function(G){u.each(G.extensions.split(/,/),function(H){if(/^\s*\*\s*$/.test(H)){P.push("\\.*")}else{P.push("\\."+H.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});P=new RegExp(P.join("|")+"$","i")}for(L=0;L<M.length;L++){K=M[L];K.loaded=0;K.percent=0;K.status=u.QUEUED;if(P&&!P.test(K.name)){C.trigger("Error",{code:u.FILE_EXTENSION_ERROR,message:u.translate("File extension error."),file:K});continue}if(K.size!==p&&K.size>e.max_file_size){C.trigger("Error",{code:u.FILE_SIZE_ERROR,message:u.translate("File size error."),file:K});continue}g.push(K);O++}if(O){q(function(){l.trigger("QueueChanged");l.refresh()},1)}else{return false}});if(e.unique_names){l.bind("UploadFile",function(C,H){var J=H.name.match(/\.([^.]+)$/),I="tmp";if(J){I=J[1]}H.target_name=H.id+"."+I})}l.bind("UploadProgress",function(C,G){G.percent=G.size>0?Math.ceil(G.loaded/G.size*100):100;a()});l.bind("StateChanged",function(C){if(C.state==u.STARTED){d=(+new Date())}else{if(C.state==u.STOPPED){for(m=C.files.length-1;m>=0;m--){if(C.files[m].status==u.UPLOADING){C.files[m].status=u.QUEUED;a()}}}}});l.bind("QueueChanged",a);l.bind("Error",function(C,G){if(G.file){G.file.status=u.FAILED;a();if(C.state==u.STARTED){q(function(){f.call(l)},1)}}});l.bind("FileUploaded",function(C,G){G.status=u.DONE;G.loaded=G.size;C.trigger("UploadProgress",G);q(function(){f.call(l)},1)});if(e.runtimes){E=[];F=e.runtimes.split(/\s?,\s?/);for(m=0;m<F.length;m++){if(z[F[m]]){E.push(z[F[m]])}}}else{E=z}function n(){var J=E[j++],I,C,H;if(J){I=J.getFeatures();C=l.settings.required_features;if(C){C=C.split(",");for(H=0;H<C.length;H++){if(!I[C[H]]){n();return}}}J.init(l,function(G){if(G&&G.success){l.features=I;l.runtime=J.name;l.trigger("Init",{runtime:J.name});l.trigger("PostInit");l.refresh()}else{n()}})}else{l.trigger("Error",{code:u.INIT_ERROR,message:u.translate("Init error.")})}}n();if(typeof(e.init)=="function"){e.init(l)}else{u.each(e.init,function(G,C){l.bind(C,G)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(g.length&&this.state!=u.STARTED){this.state=u.STARTED;this.trigger("StateChanged");f.call(this)}},stop:function(){if(this.state!=u.STOPPED){this.state=u.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){c=arguments[0]!==p?arguments[0]:true;this.trigger("DisableBrowse",c)},getFile:function(l){var j;for(j=g.length-1;j>=0;j--){if(g[j].id===l){return g[j]}}},removeFile:function(l){var j;for(j=g.length-1;j>=0;j--){if(g[j].id===l.id){return this.splice(j,1)[0]}}},splice:function(m,j){var l;l=g.splice(m===p?0:m,j===p?g.length:j);this.trigger("FilesRemoved",l);this.trigger("QueueChanged");return l},trigger:function(l){var n=b[l.toLowerCase()],m,j;if(n){j=Array.prototype.slice.call(arguments);j[0]=this;for(m=0;m<n.length;m++){if(n[m].func.apply(n[m].scope,j)===false){return false}}}return true},hasEventListener:function(j){return !!b[j.toLowerCase()]},bind:function(j,m,l){var n;j=j.toLowerCase();n=b[j]||[];n.push({func:m,scope:l||this});b[j]=n},unbind:function(j){j=j.toLowerCase();var n=b[j],l,m=arguments[1];if(n){if(m!==p){for(l=n.length-1;l>=0;l--){if(n[l].func===m){n.splice(l,1);break}}}else{n=[]}if(!n.length){delete b[j]}}},unbindAll:function(){var j=this;u.each(b,function(m,l){j.unbind(l)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};u.File=function(d,b,c){var a=this;a.id=d;a.name=b;a.size=c;a.loaded=0;a.percent=0;a.status=0};u.Runtime=function(){this.getFeatures=function(){};this.init=function(a,b){}};u.QueueProgress=function(){var a=this;a.size=0;a.loaded=0;a.uploaded=0;a.failed=0;a.queued=0;a.percent=0;a.bytesPerSec=0;a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}};u.runtimes={};window.plupload=u})();(function(){if(window.google&&google.gears){return}var c=null;if(typeof GearsFactory!="undefined"){c=new GearsFactory()}else{try{c=new ActiveXObject("Gears.Factory");if(c.getBuildInfo().indexOf("ie_mobile")!=-1){c.privateSetGlobalObject(this)}}catch(d){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){c=document.createElement("object");c.style.display="none";c.width=0;c.height=0;c.type="application/x-googlegears";document.documentElement.appendChild(c)}}}if(!c){return}if(!window.google){window.google={}}if(!google.gears){google.gears={factory:c}}})();(function(m,h,j,l){var n={};function g(b,d,f){var a,c,e,q;c=google.gears.factory.create("beta.canvas");try{c.decode(b);if(!d.width){d.width=c.width}if(!d.height){d.height=c.height}q=Math.min(width/c.width,height/c.height);if(q<1||(q===1&&f==="image/jpeg")){c.resize(Math.round(c.width*q),Math.round(c.height*q));if(d.quality){return c.encode(f,{quality:d.quality/100})}return c.encode(f)}}catch(p){}return b}j.runtimes.Gears=j.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(e,o){var f,b,a=false;if(!m.google||!google.gears){return o({success:false})}try{f=google.gears.factory.create("beta.desktop")}catch(d){return o({success:false})}function c(v){var u,t,w=[],y;for(t=0;t<v.length;t++){u=v[t];y=j.guid();n[y]=u.blob;w.push(new j.File(y,u.name,u.blob.length))}e.trigger("FilesAdded",w)}e.bind("PostInit",function(){var r=e.settings,q=h.getElementById(r.drop_element);if(q){j.addEvent(q,"dragover",function(p){f.setDropEffect(p,"copy");p.preventDefault()},e.id);j.addEvent(q,"drop",function(s){var p=f.getDragData(s,"application/x-gears-files");if(p){c(p.files)}s.preventDefault()},e.id);q=0}j.addEvent(h.getElementById(r.browse_button),"click",function(z){var y=[],v,p,w;z.preventDefault();if(a){return}no_type_restriction:for(v=0;v<r.filters.length;v++){w=r.filters[v].extensions.split(",");for(p=0;p<w.length;p++){if(w[p]==="*"){y=[];break no_type_restriction}y.push("."+w[p])}}f.openFiles(c,{singleFile:!r.multi_selection,filter:y})},e.id)});e.bind("CancelUpload",function(){if(b.abort){b.abort()}});e.bind("UploadFile",function(E,B){var G=0,F,C,D=0,A=E.settings.resize,y;if(A&&/\.(png|jpg|jpeg)$/i.test(B.name)){n[B.id]=g(n[B.id],A,/\.png$/i.test(B.name)?"image/png":"image/jpeg")}B.size=n[B.id].length;C=E.settings.chunk_size;y=C>0;F=Math.ceil(B.size/C);if(!y){C=B.size;F=1}function z(){var r,t=E.settings.multipart,s=0,q={name:B.target_name||B.name},u=E.settings.url;function p(w){var v,O="----pluploadboundary"+j.guid(),L="--",N="\r\n",K,M;if(t){b.setRequestHeader("Content-Type","multipart/form-data; boundary="+O);v=google.gears.factory.create("beta.blobbuilder");j.each(j.extend(q,E.settings.multipart_params),function(I,H){v.append(L+O+N+'Content-Disposition: form-data; name="'+H+'"'+N+N);v.append(I+N)});M=j.mimeTypes[B.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";v.append(L+O+N+'Content-Disposition: form-data; name="'+E.settings.file_data_name+'"; filename="'+B.name+'"'+N+"Content-Type: "+M+N+N);v.append(w);v.append(N+L+O+L+N);K=v.getAsBlob();s=K.length-w.length;w=K}b.send(w)}if(B.status==j.DONE||B.status==j.FAILED||E.state==j.STOPPED){return}if(y){q.chunk=G;q.chunks=F}r=Math.min(C,B.size-(G*C));if(!t){u=j.buildUrl(E.settings.url,q)}b=google.gears.factory.create("beta.httprequest");b.open("POST",u);if(!t){b.setRequestHeader("Content-Disposition",'attachment; filename="'+B.name+'"');b.setRequestHeader("Content-Type","application/octet-stream")}j.each(E.settings.headers,function(w,v){b.setRequestHeader(v,w)});b.upload.onprogress=function(v){B.loaded=D+v.loaded-s;E.trigger("UploadProgress",B)};b.onreadystatechange=function(){var v;if(b.readyState==4&&E.state!==j.STOPPED){if(b.status==200){v={chunk:G,chunks:F,response:b.responseText,status:b.status};E.trigger("ChunkUploaded",B,v);if(v.cancelled){B.status=j.FAILED;return}D+=r;if(++G>=F){B.status=j.DONE;E.trigger("FileUploaded",B,{response:b.responseText,status:b.status})}else{z()}}else{E.trigger("Error",{code:j.HTTP_ERROR,message:j.translate("HTTP Error."),file:B,chunk:G,chunks:F,status:b.status})}}};if(G<F){p(n[B.id].slice(G*C,r))}}z()});e.bind("DisableBrowse",function(q,r){a=r});e.bind("Destroy",function(s){var t,u,v={browseButton:s.settings.browse_button,dropElm:s.settings.drop_element};for(t in v){u=h.getElementById(v[t]);if(u){j.removeAllEvents(u,s.id)}}});o({success:true})}})})(window,document,plupload);(function(q,l,n,o){var j={},r={};function m(f){var e,d=typeof f,a,c,b;if(f===o||f===null){return"null"}if(d==="string"){e="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+f.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(s,h){var g=e.indexOf(h);if(g+1){return"\\"+e.charAt(g+1)}s=h.charCodeAt().toString(16);return"\\u"+"0000".substring(s.length)+s})+'"'}if(d=="object"){a=f.length!==o;e="";if(a){for(c=0;c<f.length;c++){if(e){e+=","}e+=m(f[c])}e="["+e+"]"}else{for(b in f){if(f.hasOwnProperty(b)){if(e){e+=","}e+=m(b)+":"+m(f[b])}}e="{"+e+"}"}return e}return""+f}function p(y){var B=false,a=null,f=null,b,c,d,A,e,h=0;try{try{f=new ActiveXObject("AgControl.AgControl");if(f.IsVersionSupported(y)){B=true}f=null}catch(w){var g=navigator.plugins["Silverlight Plug-In"];if(g){b=g.description;if(b==="1.0.30226.2"){b="2.0.30226.2"}c=b.split(".");while(c.length>3){c.pop()}while(c.length<4){c.push(0)}d=y.split(".");while(d.length>4){d.pop()}do{A=parseInt(d[h],10);e=parseInt(c[h],10);h++}while(h<d.length&&A===e);if(A<=e&&!isNaN(A)){B=true}}}}catch(z){B=false}return B}n.silverlight={trigger:function(e,b){var d=j[e],c,a;if(d){a=n.toArray(arguments).slice(1);a[0]="Silverlight:"+b;setTimeout(function(){d.trigger.apply(d,a)},0)}}};n.runtimes.Silverlight=n.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(g,h){var f,d="",e=g.settings.filters,c,b=l.body;if(!p("2.0.31005.0")||(q.opera&&q.opera.buildNumber)){h({success:false});return}r[g.id]=false;j[g.id]=g;f=l.createElement("div");f.id=g.id+"_silverlight_container";n.extend(f.style,{position:"absolute",top:"0px",background:g.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:g.settings.shim_bgcolor||l.documentMode>8?"":0.01});f.className="plupload silverlight";if(g.settings.container){b=l.getElementById(g.settings.container);if(n.getStyle(b,"position")==="static"){b.style.position="relative"}}b.appendChild(f);for(c=0;c<e.length;c++){d+=(d!=""?"|":"")+e[c].title+" | *."+e[c].extensions.replace(/,/g,";*.")}f.innerHTML='<object id="'+g.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+g.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+g.id+",filter="+d+",multiselect="+g.settings.multi_selection+'"/></object>';function a(){return l.getElementById(g.id+"_silverlight").content.Upload}g.bind("Silverlight:Init",function(){var t,u={};if(r[g.id]){return}r[g.id]=true;g.bind("Silverlight:StartSelectFiles",function(s){t=[]});g.bind("Silverlight:SelectFile",function(s,A,y,z){var B;B=n.guid();u[B]=A;u[A]=B;t.push(new n.File(B,y,z))});g.bind("Silverlight:SelectSuccessful",function(){if(t.length){g.trigger("FilesAdded",t)}});g.bind("Silverlight:UploadChunkError",function(s,A,y,B,z){g.trigger("Error",{code:n.IO_ERROR,message:"IO Error.",details:z,file:s.getFile(u[A])})});g.bind("Silverlight:UploadFileProgress",function(s,B,y,A){var z=s.getFile(u[B]);if(z.status!=n.FAILED){z.size=A;z.loaded=y;s.trigger("UploadProgress",z)}});g.bind("Refresh",function(s){var y,z,A;y=l.getElementById(s.settings.browse_button);if(y){z=n.getPos(y,l.getElementById(s.settings.container));A=n.getSize(y);n.extend(l.getElementById(s.id+"_silverlight_container").style,{top:z.y+"px",left:z.x+"px",width:A.w+"px",height:A.h+"px"})}});g.bind("Silverlight:UploadChunkSuccessful",function(s,C,A,F,E){var D,B=s.getFile(u[C]);D={chunk:A,chunks:F,response:E};s.trigger("ChunkUploaded",B,D);if(B.status!=n.FAILED&&s.state!==n.STOPPED){a().UploadNextChunk()}if(A==F-1){B.status=n.DONE;s.trigger("FileUploaded",B,{response:E})}});g.bind("Silverlight:UploadSuccessful",function(s,A,y){var z=s.getFile(u[A]);z.status=n.DONE;s.trigger("FileUploaded",z,{response:y})});g.bind("FilesRemoved",function(s,y){var w;for(w=0;w<y.length;w++){a().RemoveFile(u[y[w].id])}});g.bind("UploadFile",function(s,z){var A=s.settings,y=A.resize||{};a().UploadFile(u[z.id],s.settings.url,m({name:z.target_name||z.name,mime:n.mimeTypes[z.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:A.chunk_size,image_width:y.width,image_height:y.height,image_quality:y.quality||90,multipart:!!A.multipart,multipart_params:A.multipart_params||{},file_data_name:A.file_data_name,headers:A.headers}))});g.bind("CancelUpload",function(){a().CancelUpload()});g.bind("Silverlight:MouseEnter",function(s){var w,y;w=l.getElementById(g.settings.browse_button);y=s.settings.browse_button_hover;if(w&&y){n.addClass(w,y)}});g.bind("Silverlight:MouseLeave",function(s){var w,y;w=l.getElementById(g.settings.browse_button);y=s.settings.browse_button_hover;if(w&&y){n.removeClass(w,y)}});g.bind("Silverlight:MouseLeftButtonDown",function(s){var w,y;w=l.getElementById(g.settings.browse_button);y=s.settings.browse_button_active;if(w&&y){n.addClass(w,y);n.addEvent(l.body,"mouseup",function(){n.removeClass(w,y)})}});g.bind("Sliverlight:StartSelectFiles",function(s){var w,y;w=l.getElementById(g.settings.browse_button);y=s.settings.browse_button_active;if(w&&y){n.removeClass(w,y)}});g.bind("DisableBrowse",function(s,v){a().DisableBrowse(v)});g.bind("Destroy",function(s){var v;n.removeAllEvents(l.body,s.id);delete r[s.id];delete j[s.id];v=l.getElementById(s.id+"_silverlight_container");if(v){b.removeChild(v)}});h({success:true})})}})})(window,document,plupload);(function(o,j,m,n){var h={},p={};function l(){var a;try{a=navigator.plugins["Shockwave Flash"];a=a.description}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(b){a="0.0"}}a=a.match(/\d+/g);return parseFloat(a[0]+"."+a[1])}m.flash={trigger:function(c,a,b){setTimeout(function(){var f=h[c],e,d;if(f){f.trigger("Flash:"+a,b)}},0)}};m.runtimes.Flash=m.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(f,q){var d,e,a=0,b=j.body;if(l()<10){q({success:false});return}p[f.id]=false;h[f.id]=f;d=j.getElementById(f.settings.browse_button);e=j.createElement("div");e.id=f.id+"_flash_container";m.extend(e.style,{position:"absolute",top:"0px",background:f.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});e.className="plupload flash";if(f.settings.container){b=j.getElementById(f.settings.container);if(m.getStyle(b,"position")==="static"){b.style.position="relative"}}b.appendChild(e);(function(){var s,t;s='<object id="'+f.id+'_flash" type="application/x-shockwave-flash" data="'+f.settings.flash_swf_url+'" ';if(m.ua.ie){s+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}s+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+f.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(f.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(m.ua.ie){t=j.createElement("div");e.appendChild(t);t.outerHTML=s;t=null}else{e.innerHTML=s}}());function g(){return j.getElementById(f.id+"_flash")}function c(){if(a++>5000){q({success:false});return}if(p[f.id]===false){setTimeout(c,1)}}c();d=e=null;f.bind("Destroy",function(s){var t;m.removeAllEvents(j.body,s.id);delete p[s.id];delete h[s.id];t=j.getElementById(s.id+"_flash_container");if(t){b.removeChild(t)}});f.bind("Flash:Init",function(){var t={},s;g().setFileFilters(f.settings.filters,f.settings.multi_selection);if(p[f.id]){return}p[f.id]=true;f.bind("UploadFile",function(r,y){var z=r.settings,w=f.settings.resize||{};g().uploadFile(t[y.id],z.url,{name:y.target_name||y.name,mime:m.mimeTypes[y.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:z.chunk_size,width:w.width,height:w.height,quality:w.quality,multipart:z.multipart,multipart_params:z.multipart_params||{},file_data_name:z.file_data_name,format:/\.(jpg|jpeg)$/i.test(y.name)?"jpg":"png",headers:z.headers,urlstream_upload:z.urlstream_upload})});f.bind("CancelUpload",function(){g().cancelUpload()});f.bind("Flash:UploadProcess",function(v,r){var w=v.getFile(t[r.id]);if(w.status!=m.FAILED){w.loaded=r.loaded;w.size=r.size;v.trigger("UploadProgress",w)}});f.bind("Flash:UploadChunkComplete",function(r,y){var z,w=r.getFile(t[y.id]);z={chunk:y.chunk,chunks:y.chunks,response:y.text};r.trigger("ChunkUploaded",w,z);if(w.status!==m.FAILED&&r.state!==m.STOPPED){g().uploadNextChunk()}if(y.chunk==y.chunks-1){w.status=m.DONE;r.trigger("FileUploaded",w,{response:y.text})}});f.bind("Flash:SelectFiles",function(r,A){var z,y,B=[],C;for(y=0;y<A.length;y++){z=A[y];C=m.guid();t[C]=z.id;t[z.id]=C;B.push(new m.File(C,z.name,z.size))}if(B.length){f.trigger("FilesAdded",B)}});f.bind("Flash:SecurityError",function(r,u){f.trigger("Error",{code:m.SECURITY_ERROR,message:m.translate("Security error."),details:u.message,file:f.getFile(t[u.id])})});f.bind("Flash:GenericError",function(r,u){f.trigger("Error",{code:m.GENERIC_ERROR,message:m.translate("Generic error."),details:u.message,file:f.getFile(t[u.id])})});f.bind("Flash:IOError",function(r,u){f.trigger("Error",{code:m.IO_ERROR,message:m.translate("IO error."),details:u.message,file:f.getFile(t[u.id])})});f.bind("Flash:ImageError",function(r,u){f.trigger("Error",{code:parseInt(u.code,10),message:m.translate("Image error."),file:f.getFile(t[u.id])})});f.bind("Flash:StageEvent:rollOver",function(r){var v,w;v=j.getElementById(f.settings.browse_button);w=r.settings.browse_button_hover;if(v&&w){m.addClass(v,w)}});f.bind("Flash:StageEvent:rollOut",function(r){var v,w;v=j.getElementById(f.settings.browse_button);w=r.settings.browse_button_hover;if(v&&w){m.removeClass(v,w)}});f.bind("Flash:StageEvent:mouseDown",function(r){var v,w;v=j.getElementById(f.settings.browse_button);w=r.settings.browse_button_active;if(v&&w){m.addClass(v,w);m.addEvent(j.body,"mouseup",function(){m.removeClass(v,w)},r.id)}});f.bind("Flash:StageEvent:mouseUp",function(r){var v,w;v=j.getElementById(f.settings.browse_button);w=r.settings.browse_button_active;if(v&&w){m.removeClass(v,w)}});f.bind("Flash:ExifData",function(r,u){f.trigger("ExifData",f.getFile(t[u.id]),u.data)});f.bind("Flash:GpsData",function(r,u){f.trigger("GpsData",f.getFile(t[u.id]),u.data)});f.bind("QueueChanged",function(r){f.refresh()});f.bind("FilesRemoved",function(r,w){var v;for(v=0;v<w.length;v++){g().removeFile(t[w[v].id])}});f.bind("StateChanged",function(r){f.refresh()});f.bind("Refresh",function(r){var w,y,z;g().setFileFilters(f.settings.filters,f.settings.multi_selection);w=j.getElementById(r.settings.browse_button);if(w){y=m.getPos(w,j.getElementById(r.settings.container));z=m.getSize(w);m.extend(j.getElementById(r.id+"_flash_container").style,{top:y.y+"px",left:y.x+"px",width:z.w+"px",height:z.h+"px"})}});f.bind("DisableBrowse",function(r,u){g().disableBrowse(u)});q({success:true})})}})})(window,document,plupload);(function(b){b.runtimes.BrowserPlus=b.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(p,r){var n=window.BrowserPlus,q={},m=p.settings,l=m.resize;function o(g){var f,e,c=[],d,h;for(e=0;e<g.length;e++){d=g[e];h=b.guid();q[h]=d;c.push(new b.File(h,d.name,d.size))}if(e){p.trigger("FilesAdded",c)}}function a(){var c=false;p.bind("PostInit",function(){var g,e=m.drop_element,j=p.id+"_droptarget",d=document.getElementById(e),f;function s(v,u){n.DragAndDrop.AddDropTarget({id:v},function(t){n.DragAndDrop.AttachCallbacks({id:v,hover:function(w){if(!w&&u){u()}},drop:function(w){if(u){u()}o(w)}},function(){})})}function h(){document.getElementById(j).style.top="-1000px"}if(d){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){g=document.createElement("div");g.setAttribute("id",j);b.extend(g.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(g);b.addEvent(d,"dragenter",function(w){var v,y;v=document.getElementById(e);y=b.getPos(v);b.extend(document.getElementById(j).style,{top:y.y+"px",left:y.x+"px",width:v.offsetWidth+"px",height:v.offsetHeight+"px"})});s(j,h)}else{s(e)}}b.addEvent(document.getElementById(m.browse_button),"click",function(F){var z=[],B,A,E=m.filters,D,C;F.preventDefault();if(c){return}no_type_restriction:for(B=0;B<E.length;B++){D=E[B].extensions.split(",");for(A=0;A<D.length;A++){if(D[A]==="*"){z=[];break no_type_restriction}C=b.mimeTypes[D[A]];if(C&&b.inArray(C,z)===-1){z.push(b.mimeTypes[D[A]])}}}n.FileBrowse.OpenBrowseDialog({mimeTypes:z},function(t){if(t.success){o(t.value)}})});d=g=null});p.bind("CancelUpload",function(){n.Uploader.cancel({},function(){})});p.bind("DisableBrowse",function(d,e){c=e});p.bind("UploadFile",function(g,d){var f=q[d.id],w={},e=g.settings.chunk_size,h,j=[];function v(s,y){var t;if(d.status==b.FAILED){return}w.name=d.target_name||d.name;if(e){w.chunk=""+s;w.chunks=""+y}t=j.shift();n.Uploader.upload({url:g.settings.url,files:{file:t},cookies:document.cookies,postvars:b.extend(w,g.settings.multipart_params),progressCallback:function(C){var B,A=0;h[s]=parseInt(C.filePercent*t.size/100,10);for(B=0;B<h.length;B++){A+=h[B]}d.loaded=A;g.trigger("UploadProgress",d)}},function(B){var A,C;if(B.success){A=B.value.statusCode;if(e){g.trigger("ChunkUploaded",d,{chunk:s,chunks:y,response:B.value.body,status:A})}if(j.length>0){v(++s,y)}else{d.status=b.DONE;g.trigger("FileUploaded",d,{response:B.value.body,status:A});if(A>=400){g.trigger("Error",{code:b.HTTP_ERROR,message:b.translate("HTTP Error."),file:d,status:A})}}}else{g.trigger("Error",{code:b.GENERIC_ERROR,message:b.translate("Generic Error."),file:d,details:B.error})}})}function u(s){d.size=s.size;if(e){n.FileAccess.chunk({file:s,chunkSize:e},function(A){if(A.success){var B=A.value,t=B.length;h=Array(t);for(var z=0;z<t;z++){h[z]=0;j.push(B[z])}v(0,t)}})}else{h=Array(1);j.push(s);v(0,1)}}if(l&&/\.(png|jpg|jpeg)$/i.test(d.name)){BrowserPlus.ImageAlter.transform({file:f,quality:l.quality||90,actions:[{scale:{maxwidth:l.width,maxheight:l.height}}]},function(s){if(s.success){u(s.value.file)}})}else{u(f)}});r({success:true})}if(n){n.init(function(d){var c=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(l){c.push({service:"ImageAlter",version:"4"})}if(d.success){n.require({services:c},function(e){if(e.success){a()}else{r()}})}else{r()}})}else{r()}}})})(plupload);(function(u,w,v,r){var p={},t;function z(b,c){var a;if("FileReader" in u){a=new FileReader();a.readAsDataURL(b);a.onload=function(){c(a.result)}}else{return c(b.getAsDataURL())}}function y(b,c){var a;if("FileReader" in u){a=new FileReader();a.readAsBinaryString(b);a.onload=function(){c(a.result)}}else{return c(b.getAsBinary())}}function q(e,c,a,j){var d,b,h,f,g=this;z(p[e.id],function(l){d=w.createElement("canvas");d.style.display="none";w.body.appendChild(d);b=d.getContext("2d");h=new Image();h.onerror=h.onabort=function(){j({success:false})};h.onload=function(){var D,F,H,G,m;if(!c.width){c.width=h.width}if(!c.height){c.height=h.height}f=Math.min(c.width/h.width,c.height/h.height);if(f<1||(f===1&&a==="image/jpeg")){D=Math.round(h.width*f);F=Math.round(h.height*f);d.width=D;d.height=F;b.drawImage(h,0,0,D,F);if(a==="image/jpeg"){G=new s(atob(l.substring(l.indexOf("base64,")+7)));if(G.headers&&G.headers.length){m=new n();if(m.init(G.get("exif")[0])){m.setExif("PixelXDimension",D);m.setExif("PixelYDimension",F);G.set("exif",m.getBinary());if(g.hasEventListener("ExifData")){g.trigger("ExifData",e,m.EXIF())}if(g.hasEventListener("GpsData")){g.trigger("GpsData",e,m.GPS())}}}if(c.quality){try{l=d.toDataURL(a,c.quality/100)}catch(E){l=d.toDataURL(a)}}}else{l=d.toDataURL(a)}l=l.substring(l.indexOf("base64,")+7);l=atob(l);if(G&&G.headers&&G.headers.length){l=G.restore(l);G.purge()}d.parentNode.removeChild(d);j({success:true,data:l})}else{j({success:false})}};h.src=l})}v.runtimes.Html5=v.addRuntime("html5",{getFeatures:function(){var f,b,e,d,c,a;b=e=c=a=false;if(u.XMLHttpRequest){f=new XMLHttpRequest();e=!!f.upload;b=!!(f.sendAsBinary||f.upload)}if(b){d=!!(f.sendAsBinary||(u.Uint8Array&&u.ArrayBuffer));c=!!(File&&(File.prototype.getAsDataURL||u.FileReader)&&d);a=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}t=v.ua.safari&&v.ua.windows;return{html5:b,dragdrop:(function(){var g=w.createElement("div");return("draggable" in g)||("ondragstart" in g&&"ondrop" in g)}()),jpgresize:c,pngresize:c,multipart:c||!!u.FileReader||!!u.FormData,canSendBinary:d,cantSendBlobInFormData:!!(v.ua.gecko&&u.FormData&&u.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:e,chunks:a,multi_selection:!(v.ua.safari&&v.ua.windows),triggerDialog:(v.ua.gecko&&u.FormData||v.ua.webkit)}},init:function(c,e){var a,d;function b(l){var h,g,j=[],m,f={};for(g=0;g<l.length;g++){h=l[g];if(f[h.name]){continue}f[h.name]=true;m=v.guid();p[m]=h;j.push(new v.File(m,h.fileName||h.name,h.fileSize||h.size))}if(j.length){c.trigger("FilesAdded",j)}}a=this.getFeatures();if(!a.html5){e({success:false});return}c.bind("Init",function(M){var H,m,h=[],L,j,J=M.settings.filters,K,g,I=w.body,l;H=w.createElement("div");H.id=M.id+"_html5_container";v.extend(H.style,{position:"absolute",background:c.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:c.settings.shim_bgcolor?"":0});H.className="plupload html5";if(c.settings.container){I=w.getElementById(c.settings.container);if(v.getStyle(I,"position")==="static"){I.style.position="relative"}}I.appendChild(H);no_type_restriction:for(L=0;L<J.length;L++){K=J[L].extensions.split(/,/);for(j=0;j<K.length;j++){if(K[j]==="*"){h=[];break no_type_restriction}g=v.mimeTypes[K[j]];if(g&&v.inArray(g,h)===-1){h.push(g)}}}H.innerHTML='<input id="'+c.id+'_html5"  style="font-size:999px" type="file" accept="'+h.join(",")+'" '+(c.settings.multi_selection&&c.features.multi_selection?'multiple="multiple"':"")+" />";H.scrollTop=100;l=w.getElementById(c.id+"_html5");if(M.features.triggerDialog){v.extend(l.style,{position:"absolute",width:"100%",height:"100%"})}else{v.extend(l.style,{cssFloat:"right",styleFloat:"right"})}l.onchange=function(){b(this.files);this.value=""};m=w.getElementById(M.settings.browse_button);if(m){var O=M.settings.browse_button_hover,f=M.settings.browse_button_active,N=M.features.triggerDialog?m:H;if(O){v.addEvent(N,"mouseover",function(){v.addClass(m,O)},M.id);v.addEvent(N,"mouseout",function(){v.removeClass(m,O)},M.id)}if(f){v.addEvent(N,"mousedown",function(){v.addClass(m,f)},M.id);v.addEvent(w.body,"mouseup",function(){v.removeClass(m,f)},M.id)}if(M.features.triggerDialog){v.addEvent(m,"click",function(A){var B=w.getElementById(M.id+"_html5");if(B&&!B.disabled){B.click()}A.preventDefault()},M.id)}}});c.bind("PostInit",function(){var f=w.getElementById(c.settings.drop_element);if(f){if(t){v.addEvent(f,"dragenter",function(l){var j,g,h;j=w.getElementById(c.id+"_drop");if(!j){j=w.createElement("input");j.setAttribute("type","file");j.setAttribute("id",c.id+"_drop");j.setAttribute("multiple","multiple");v.addEvent(j,"change",function(){b(this.files);v.removeEvent(j,"change",c.id);j.parentNode.removeChild(j)},c.id);f.appendChild(j)}g=v.getPos(f,w.getElementById(c.settings.container));h=v.getSize(f);if(v.getStyle(f,"position")==="static"){v.extend(f.style,{position:"relative"})}v.extend(j.style,{position:"absolute",display:"block",top:0,left:0,width:h.w+"px",height:h.h+"px",opacity:0})},c.id);return}v.addEvent(f,"dragover",function(g){g.preventDefault()},c.id);v.addEvent(f,"drop",function(h){var g=h.dataTransfer;if(g&&g.files){b(g.files)}h.preventDefault()},c.id)}});c.bind("Refresh",function(f){var g,h,j,m,l;g=w.getElementById(c.settings.browse_button);if(g){h=v.getPos(g,w.getElementById(f.settings.container));j=v.getSize(g);m=w.getElementById(c.id+"_html5_container");v.extend(m.style,{top:h.y+"px",left:h.x+"px",width:j.w+"px",height:j.h+"px"});if(c.features.triggerDialog){if(v.getStyle(g,"position")==="static"){v.extend(g.style,{position:"relative"})}l=parseInt(v.getStyle(g,"z-index"),10);if(isNaN(l)){l=0}v.extend(g.style,{zIndex:l});v.extend(m.style,{zIndex:l-1})}}});c.bind("DisableBrowse",function(f,h){var g=w.getElementById(f.id+"_html5");if(g){g.disabled=h}});c.bind("CancelUpload",function(){if(d&&d.abort){d.abort()}});c.bind("UploadFile",function(f,h){var j=f.settings,A,g;function m(E,H,I){var F;if(File.prototype.slice){try{E.slice();return E.slice(H,I)}catch(G){return E.slice(H,I-H)}}else{if(F=File.prototype.webkitSlice||File.prototype.mozSlice){return F.call(E,H,I)}else{return null}}}function l(E){var H=0,G=0,I=("FileReader" in u)?new FileReader:null;function F(){var O,S,Q,R,N,P,C,B=f.settings.url;function D(aa){var Y=0,J="----pluploadboundary"+v.guid(),K,L="--",Z="\r\n",W="";d=new XMLHttpRequest;if(d.upload){d.upload.onprogress=function(T){h.loaded=Math.min(h.size,G+T.loaded-Y);f.trigger("UploadProgress",h)}}d.onreadystatechange=function(){var T,V;if(d.readyState==4&&f.state!==v.STOPPED){try{T=d.status}catch(U){T=0}if(T>=400){f.trigger("Error",{code:v.HTTP_ERROR,message:v.translate("HTTP Error."),file:h,status:T})}else{if(Q){V={chunk:H,chunks:Q,response:d.responseText,status:T};f.trigger("ChunkUploaded",h,V);G+=P;if(V.cancelled){h.status=v.FAILED;return}h.loaded=Math.min(h.size,(H+1)*N)}else{h.loaded=h.size}f.trigger("UploadProgress",h);aa=O=K=W=null;if(!Q||++H>=Q){h.status=v.DONE;f.trigger("FileUploaded",h,{response:d.responseText,status:T})}else{F()}}}};if(f.settings.multipart&&a.multipart){R.name=h.target_name||h.name;d.open("post",B,true);v.each(f.settings.headers,function(U,T){d.setRequestHeader(T,U)});if(typeof(aa)!=="string"&&!!u.FormData){K=new FormData();v.each(v.extend(R,f.settings.multipart_params),function(U,T){K.append(T,U)});K.append(f.settings.file_data_name,aa);d.send(K);return}if(typeof(aa)==="string"){d.setRequestHeader("Content-Type","multipart/form-data; boundary="+J);v.each(v.extend(R,f.settings.multipart_params),function(U,T){W+=L+J+Z+'Content-Disposition: form-data; name="'+T+'"'+Z+Z;W+=unescape(encodeURIComponent(U))+Z});C=v.mimeTypes[h.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";W+=L+J+Z+'Content-Disposition: form-data; name="'+f.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(h.name))+'"'+Z+"Content-Type: "+C+Z+Z+aa+Z+L+J+L+Z;Y=W.length-aa.length;aa=W;if(d.sendAsBinary){d.sendAsBinary(aa)}else{if(a.canSendBinary){var X=new Uint8Array(aa.length);for(var M=0;M<aa.length;M++){X[M]=(aa.charCodeAt(M)&255)}d.send(X.buffer)}}return}}B=v.buildUrl(f.settings.url,v.extend(R,f.settings.multipart_params));d.open("post",B,true);d.setRequestHeader("Content-Type","application/octet-stream");v.each(f.settings.headers,function(U,T){d.setRequestHeader(T,U)});d.send(aa)}if(h.status==v.DONE||h.status==v.FAILED||f.state==v.STOPPED){return}R={name:h.target_name||h.name};if(j.chunk_size&&h.size>j.chunk_size&&(a.chunks||typeof(E)=="string")){N=j.chunk_size;Q=Math.ceil(h.size/N);P=Math.min(N,h.size-(H*N));if(typeof(E)=="string"){O=E.substring(H*N,H*N+P)}else{O=m(E,H*N,H*N+P)}R.chunk=H;R.chunks=Q}else{P=h.size;O=E}if(f.settings.multipart&&a.multipart&&typeof(O)!=="string"&&I&&a.cantSendBlobInFormData&&a.chunks&&f.settings.chunk_size){I.onload=function(){D(I.result)};I.readAsBinaryString(O)}else{D(O)}}F()}A=p[h.id];if(a.jpgresize&&f.settings.resize&&/\.(png|jpg|jpeg)$/i.test(h.name)){q.call(f,h,f.settings.resize,/\.png$/i.test(h.name)?"image/png":"image/jpeg",function(B){if(B.success){h.size=B.data.length;l(B.data)}else{if(a.chunks){l(A)}else{y(A,l)}}})}else{if(!a.chunks&&a.jpgresize){y(A,l)}else{l(A)}}});c.bind("Destroy",function(f){var h,j,g=w.body,l={inputContainer:f.id+"_html5_container",inputFile:f.id+"_html5",browseButton:f.settings.browse_button,dropElm:f.settings.drop_element};for(h in l){j=w.getElementById(l[h]);if(j){v.removeAllEvents(j,f.id)}}v.removeAllEvents(w.body,f.id);if(f.settings.container){g=w.getElementById(f.settings.container)}g.removeChild(w.getElementById(l.inputContainer))});e({success:true})}});function o(){var d=false,b;function e(g,j){var f=d?0:-8*(j-1),l=0,h;for(h=0;h<j;h++){l|=(b.charCodeAt(g+h)<<Math.abs(f+h*8))}return l}function a(h,f,g){var g=arguments.length===3?g:b.length-f-1;b=b.substr(0,f)+h+b.substr(g+f)}function c(g,h,l){var m="",f=d?0:-8*(l-1),j;for(j=0;j<l;j++){m+=String.fromCharCode((h>>Math.abs(f+j*8))&255)}a(m,g,l)}return{II:function(f){if(f===r){return d}else{d=f}},init:function(f){d=false;b=f},SEGMENT:function(f,h,g){switch(arguments.length){case 1:return b.substr(f,b.length-f-1);case 2:return b.substr(f,h);case 3:a(g,f,h);break;default:return b}},BYTE:function(f){return e(f,1)},SHORT:function(f){return e(f,2)},LONG:function(f,g){if(g===r){return e(f,4)}else{c(f,g,4)}},SLONG:function(f){var g=e(f,4);return(g>2147483647?g-4294967296:g)},STRING:function(f,g){var h="";for(g+=f;f<g;f++){h+=String.fromCharCode(e(f,1))}return h}}}function s(f){var h={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},g=[],e,a,c=r,d=0,b;e=new o();e.init(f);if(e.SHORT(0)!==65496){return}a=2;b=Math.min(1048576,f.length);while(a<=b){c=e.SHORT(a);if(c>=65488&&c<=65495){a+=2;continue}if(c===65498||c===65497){break}d=e.SHORT(a+2)+2;if(h[c]&&e.STRING(a+4,h[c].signature.length)===h[c].signature){g.push({hex:c,app:h[c].app.toUpperCase(),name:h[c].name.toUpperCase(),start:a,length:d,segment:e.SEGMENT(a,d)})}a+=d}e.init(null);return{headers:g,restore:function(A){e.init(A);var l=new s(A);if(!l.headers){return false}for(var m=l.headers.length;m>0;m--){var B=l.headers[m-1];e.SEGMENT(B.start,B.length,"")}l.purge();a=e.SHORT(2)==65504?4+e.SHORT(4):2;for(var m=0,j=g.length;m<j;m++){e.SEGMENT(a,0,g[m].segment);a+=g[m].length}return e.SEGMENT()},get:function(m){var A=[];for(var l=0,j=g.length;l<j;l++){if(g[l].app===m.toUpperCase()){A.push(g[l].segment)}}return A},set:function(A,m){var B=[];if(typeof(m)==="string"){B.push(m)}else{B=m}for(var l=ii=0,j=g.length;l<j;l++){if(g[l].app===A.toUpperCase()){g[l].segment=B[ii];g[l].length=B[ii].length;ii++}if(ii>=B.length){break}}},purge:function(){g=[];e.init(null)}}}function n(){var d,a,b={},g;d=new o();a={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};g={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function c(K,l){var M=d.SHORT(K),P,I,J,j,h,L,N,m,H=[],O={};for(P=0;P<M;P++){N=L=K+12*P+2;J=l[d.SHORT(N)];if(J===r){continue}j=d.SHORT(N+=2);h=d.LONG(N+=2);N+=4;H=[];switch(j){case 1:case 7:if(h>4){N=d.LONG(N)+b.tiffHeader}for(I=0;I<h;I++){H[I]=d.BYTE(N+I)}break;case 2:if(h>4){N=d.LONG(N)+b.tiffHeader}O[J]=d.STRING(N,h-1);continue;case 3:if(h>2){N=d.LONG(N)+b.tiffHeader}for(I=0;I<h;I++){H[I]=d.SHORT(N+I*2)}break;case 4:if(h>1){N=d.LONG(N)+b.tiffHeader}for(I=0;I<h;I++){H[I]=d.LONG(N+I*4)}break;case 5:N=d.LONG(N)+b.tiffHeader;for(I=0;I<h;I++){H[I]=d.LONG(N+I*4)/d.LONG(N+I*4+4)}break;case 9:N=d.LONG(N)+b.tiffHeader;for(I=0;I<h;I++){H[I]=d.SLONG(N+I*4)}break;case 10:N=d.LONG(N)+b.tiffHeader;for(I=0;I<h;I++){H[I]=d.SLONG(N+I*4)/d.SLONG(N+I*4+4)}break;default:continue}m=(h==1?H[0]:H);if(g.hasOwnProperty(J)&&typeof m!="object"){O[J]=g[J][m]}else{O[J]=m}}return O}function f(){var j=r,h=b.tiffHeader;d.II(d.SHORT(h)==18761);if(d.SHORT(h+=2)!==42){return false}b.IFD0=b.tiffHeader+d.LONG(h+=2);j=c(b.IFD0,a.tiff);b.exifIFD=("ExifIFDPointer" in j?b.tiffHeader+j.ExifIFDPointer:r);b.gpsIFD=("GPSInfoIFDPointer" in j?b.tiffHeader+j.GPSInfoIFDPointer:r);return true}function e(C,l,F){var j,E,D,h=0;if(typeof(l)==="string"){var m=a[C.toLowerCase()];for(hex in m){if(m[hex]===l){l=hex;break}}}j=b[C.toLowerCase()+"IFD"];E=d.SHORT(j);for(i=0;i<E;i++){D=j+12*i+2;if(d.SHORT(D)==l){h=D+8;break}}if(!h){return false}d.LONG(h,F);return true}return{init:function(h){b={tiffHeader:10};if(h===r||!h.length){return false}d.init(h);if(d.SHORT(0)===65505&&d.STRING(4,5).toUpperCase()==="EXIF\0"){return f()}return false},EXIF:function(){var j;j=c(b.exifIFD,a.exif);if(j.ExifVersion&&v.typeOf(j.ExifVersion)==="array"){for(var l=0,h="";l<j.ExifVersion.length;l++){h+=String.fromCharCode(j.ExifVersion[l])}j.ExifVersion=h}return j},GPS:function(){var h;h=c(b.gpsIFD,a.gps);if(h.GPSVersionID){h.GPSVersionID=h.GPSVersionID.join(".")}return h},setExif:function(h,j){if(h!=="PixelXDimension"&&h!=="PixelYDimension"){return false}return e("exif",h,j)},getBinary:function(){return d.SEGMENT()}}}})(window,document,plupload);(function(j,f,g,h){function l(a){return f.getElementById(a)}g.runtimes.Html4=g.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(g.ua.gecko&&j.FormData||g.ua.webkit)}},init:function(a,b){a.bind("Init",function(D){var d=f.body,B,c="javascript",e,L,E,M=[],F=/MSIE/.test(navigator.userAgent),H=[],A=D.settings.filters,C,y,G,K;no_type_restriction:for(C=0;C<A.length;C++){y=A[C].extensions.split(/,/);for(K=0;K<y.length;K++){if(y[K]==="*"){H=[];break no_type_restriction}G=g.mimeTypes[y[K]];if(G&&g.inArray(G,H)===-1){H.push(G)}}}H=H.join(",");function J(){var o,m,p,n;E=g.guid();M.push(E);o=f.createElement("form");o.setAttribute("id","form_"+E);o.setAttribute("method","post");o.setAttribute("enctype","multipart/form-data");o.setAttribute("encoding","multipart/form-data");o.setAttribute("target",D.id+"_iframe");o.style.position="absolute";m=f.createElement("input");m.setAttribute("id","input_"+E);m.setAttribute("type","file");m.setAttribute("accept",H);m.setAttribute("size",1);n=l(D.settings.browse_button);if(D.features.triggerDialog&&n){g.addEvent(l(D.settings.browse_button),"click",function(q){if(!m.disabled){m.click()}q.preventDefault()},D.id)}g.extend(m.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"});g.extend(o.style,{overflow:"hidden"});p=D.settings.shim_bgcolor;if(p){o.style.background=p}if(F){g.extend(m.style,{filter:"alpha(opacity=0)"})}g.addEvent(m,"change",function(t){var r=t.target,q,s=[],u;if(r.value){l("form_"+E).style.top=-1048575+"px";q=r.value.replace(/\\/g,"/");q=q.substring(q.length,q.lastIndexOf("/")+1);s.push(new g.File(E,q));if(!D.features.triggerDialog){g.removeAllEvents(o,D.id)}else{g.removeEvent(n,"click",D.id)}g.removeEvent(m,"change",D.id);J();if(s.length){a.trigger("FilesAdded",s)}}},D.id);o.appendChild(m);d.appendChild(o);D.refresh()}function I(){var m=f.createElement("div");m.innerHTML='<iframe id="'+D.id+'_iframe" name="'+D.id+'_iframe" src="'+c+':&quot;&quot;" style="display:none"></iframe>';B=m.firstChild;d.appendChild(B);g.addEvent(B,"load",function(q){var r=q.target,p,n;if(!e){return}try{p=r.contentWindow.document||r.contentDocument||j.frames[r.id].document}catch(o){D.trigger("Error",{code:g.SECURITY_ERROR,message:g.translate("Security error."),file:e});return}n=p.body.innerHTML;if(n){e.status=g.DONE;e.loaded=1025;e.percent=100;D.trigger("UploadProgress",e);D.trigger("FileUploaded",e,{response:n})}},D.id)}if(D.settings.container){d=l(D.settings.container);if(g.getStyle(d,"position")==="static"){d.style.position="relative"}}D.bind("UploadFile",function(p,n){var o,m;if(n.status==g.DONE||n.status==g.FAILED||p.state==g.STOPPED){return}o=l("form_"+n.id);m=l("input_"+n.id);m.setAttribute("name",p.settings.file_data_name);o.setAttribute("action",p.settings.url);g.each(g.extend({name:n.target_name||n.name},p.settings.multipart_params),function(s,q){var r=f.createElement("input");g.extend(r,{type:"hidden",name:q,value:s});o.insertBefore(r,o.firstChild)});e=n;l("form_"+E).style.top=-1048575+"px";o.submit()});D.bind("FileUploaded",function(m){m.refresh()});D.bind("StateChanged",function(m){if(m.state==g.STARTED){I()}else{if(m.state==g.STOPPED){j.setTimeout(function(){g.removeEvent(B,"load",m.id);if(B.parentNode){B.parentNode.removeChild(B)}},0)}}g.each(m.files,function(o,n){if(o.status===g.DONE||o.status===g.FAILED){var p=l("form_"+o.id);if(p){p.parentNode.removeChild(p)}}})});D.bind("Refresh",function(m){var s,n,o,p,v,t,u,r,q;s=l(m.settings.browse_button);if(s){v=g.getPos(s,l(m.settings.container));t=g.getSize(s);u=l("form_"+E);r=l("input_"+E);g.extend(u.style,{top:v.y+"px",left:v.x+"px",width:t.w+"px",height:t.h+"px"});if(m.features.triggerDialog){if(g.getStyle(s,"position")==="static"){g.extend(s.style,{position:"relative"})}q=parseInt(s.style.zIndex,10);if(isNaN(q)){q=0}g.extend(s.style,{zIndex:q});g.extend(u.style,{zIndex:q-1})}o=m.settings.browse_button_hover;p=m.settings.browse_button_active;n=m.features.triggerDialog?s:u;if(o){g.addEvent(n,"mouseover",function(){g.addClass(s,o)},m.id);g.addEvent(n,"mouseout",function(){g.removeClass(s,o)},m.id)}if(p){g.addEvent(n,"mousedown",function(){g.addClass(s,p)},m.id);g.addEvent(f.body,"mouseup",function(){g.removeClass(s,p)},m.id)}}});a.bind("FilesRemoved",function(p,n){var m,o;for(m=0;m<n.length;m++){o=l("form_"+n[m].id);if(o){o.parentNode.removeChild(o)}}});a.bind("DisableBrowse",function(o,n){var m=f.getElementById("input_"+E);if(m){m.disabled=n}});a.bind("Destroy",function(q){var m,n,o,p={inputContainer:"form_"+E,inputFile:"input_"+E,browseButton:q.settings.browse_button};for(m in p){n=l(p[m]);if(n){g.removeAllEvents(n,q.id)}}g.removeAllEvents(f.body,q.id);g.each(M,function(s,r){o=l("form_"+s);if(o){d.removeChild(o)}})});J()});b({success:true})}})})(window,document,plupload);
/* Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.6
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(a){var j=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice,f,d;if(a.event.fixHooks){for(var c=j.length;c;){a.event.fixHooks[j[--c]]=a.event.mouseHooks}}a.event.special.mousewheel={version:"3.1.6",setup:function(){if(this.addEventListener){for(var l=h.length;l;){this.addEventListener(h[--l],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var l=h.length;l;){this.removeEventListener(h[--l],b,false)}}else{this.onmousewheel=null}}};a.fn.extend({mousewheel:function(l){return l?this.bind("mousewheel",l):this.trigger("mousewheel")},unmousewheel:function(l){return this.unbind("mousewheel",l)}});function b(q){var r=q||window.event,m=g.call(arguments,1),n=0,o=0,p=0,l=0;q=a.event.fix(r);q.type="mousewheel";if("detail" in r){p=r.detail*-1}if("wheelDelta" in r){p=r.wheelDelta}if("wheelDeltaY" in r){p=r.wheelDeltaY}if("wheelDeltaX" in r){o=r.wheelDeltaX*-1}if("axis" in r&&r.axis===r.HORIZONTAL_AXIS){o=p*-1;p=0}n=p===0?o:p;if("deltaY" in r){p=r.deltaY*-1;n=p}if("deltaX" in r){o=r.deltaX;if(p===0){n=o*-1}}if(p===0&&o===0){return}l=Math.max(Math.abs(p),Math.abs(o));if(!d||l<d){d=l}n=Math[n>=1?"floor":"ceil"](n/d);o=Math[o>=1?"floor":"ceil"](o/d);p=Math[p>=1?"floor":"ceil"](p/d);q.deltaX=o;q.deltaY=p;q.deltaFactor=d;m.unshift(q,n,o,p);if(f){clearTimeout(f)}f=setTimeout(e,200);return(a.event.dispatch||a.event.handle).apply(this,m)}function e(){d=null}}));
/*
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
(function(a,c,b){a.fn.jScrollPane=function(e){function d(A,aq){var aw,V=this,ac,ae,ad,q,v,r,af,ag,U,T,aC,z,aE,E,y,F,aB,aF,ar,aG,aD,o,j,D,H,I,G,l,m,ak,aa,ab,aj,aK=true,aI=true,aH=false,aJ=false,Z=A.clone(false,false).empty(),W=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";if(A.css("box-sizing")==="border-box"){aa=0;ab=0}else{aa=A.css("paddingTop")+" "+A.css("paddingRight")+" "+A.css("paddingBottom")+" "+A.css("paddingLeft");ab=(parseInt(A.css("paddingLeft"),10)||0)+(parseInt(A.css("paddingRight"),10)||0)}function L(aY){var aO,aP,aQ,aN,aX,aW,aR=false,aS=false;aw=aY;if(ac===b){aX=A.scrollTop();aW=A.scrollLeft();A.css({overflow:"hidden",padding:0});ae=A.innerWidth()+ab;ad=A.innerHeight();A.width(ae);ac=a('<div class="jspPane" />').css("padding",aa).append(A.children());q=a('<div class="jspContainer" />').css({width:ae+"px",height:ad+"px"}).append(ac).appendTo(A)}else{A.css("width","");aR=aw.stickToBottom&&R();aS=aw.stickToRight&&S();aN=A.innerWidth()+ab!=ae||A.outerHeight()!=ad;if(aN){ae=A.innerWidth()+ab;ad=A.innerHeight();q.css({width:ae+"px",height:ad+"px"})}if(!aN&&aj==v&&ac.outerHeight()==r){A.width(ae);return}aj=v;ac.css("width","");A.width(ae);q.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}A.bind("mousedown.jScrollPane",function(){a(document).bind("mousemove.jScrollPaneDragging",aV);a(document).bind("mouseup.jScrollPaneDragging",aT)});var aZ;var a0;A.scrollBy=function(a1){var s=-parseInt(ac.css("top"))||0;V.scrollTo(0,s+a1)};function aU(){direction=aZ<0?-1:1;A.scrollBy(aZ/2)}function aL(){if(a0){clearInterval(a0);a0=b}}var aM=function(a1,s){var a2=s=="X"?"Left":"Top";return a1["page"+s]||(a1["client"+s]+(document.documentElement["scroll"+a2]||document.body["scroll"+a2]))||0};function aV(s){var a3=A.offset().top;var a1=a3+ad;var a2=aM(s,"Y");aZ=a2<a3?a2-a3:(a2>a1?a2-a1:0);if(aZ==0){aL()}else{if(!a0){a0=setInterval(aU,100)}}}function aT(s){a(document).unbind("mousemove.jScrollPaneDragging").unbind("mouseup.jScrollPaneDragging");aL()}ac.css("overflow","auto");if(aY.contentWidth){v=aY.contentWidth}else{v=ac[0].scrollWidth}r=ac[0].scrollHeight;ac.css("overflow","");af=v/ae;ag=r/ad;U=ag>1;T=af>1;if(!(T||U)){A.removeClass("jspScrollable");ac.css({top:0,left:0,width:q.width()-ab});ao();am();an();al()}else{A.addClass("jspScrollable");aO=aw.maintainPosition&&(aE||F);if(aO){aP=t();aQ=u()}N();M();ap();if(aO){au(aS?(v-ae):aP,false);av(aR?(r-ad):aQ,false)}K();P();Q();if(aw.enableKeyboardNavigation){O()}if(aw.clickOnTrack){J()}Y();if(aw.hijackInternalLinks){C()}}if(aw.autoReinitialise&&!ak){ak=setInterval(function(){L(aw)},aw.autoReinitialiseDelay)}else{if(!aw.autoReinitialise&&ak){clearInterval(ak)}}aX&&A.scrollTop(0)&&av(aX,false);aW&&A.scrollLeft(0)&&au(aW,false);A.trigger("jsp-initialised",[T||U])}function N(){if(U){q.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />')));aB=q.find(">.jspVerticalBar");aF=aB.find(">.jspTrack");aC=aF.find(">.jspDrag");if(aw.showArrows){o=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",B(0,-1)).bind("click.jsp",X);j=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",B(0,1)).bind("click.jsp",X);if(aw.arrowScrollOnHover){o.bind("mouseover.jsp",B(0,-1,o));j.bind("mouseover.jsp",B(0,1,j))}h(aF,aw.verticalArrowPositions,o,j)}aG=ad;q.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aG-=a(this).outerHeight()});aC.hover(function(){aC.addClass("jspHover")},function(){aC.removeClass("jspHover")}).bind("mousedown.jsp",function(s){a("html").bind("dragstart.jsp selectstart.jsp",X);aC.addClass("jspActive");var aL=s.pageY-aC.position().top;a("html").bind("mousemove.jsp",function(aM){ai(aM.pageY-aL,false)}).bind("mouseup.jsp mouseleave.jsp",p);return false});ay()}}function ay(){aF.height(aG+"px");aE=0;ar=aw.verticalGutter+aF.outerWidth();ac.width(ae-ar-ab);try{if(aB.position().left===0){ac.css("margin-left",ar+"px")}}catch(s){}}function M(){if(T){q.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />')));D=q.find(">.jspHorizontalBar");H=D.find(">.jspTrack");E=H.find(">.jspDrag");if(aw.showArrows){l=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",B(-1,0)).bind("click.jsp",X);m=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",B(1,0)).bind("click.jsp",X);if(aw.arrowScrollOnHover){l.bind("mouseover.jsp",B(-1,0,l));m.bind("mouseover.jsp",B(1,0,m))}h(H,aw.horizontalArrowPositions,l,m)}E.hover(function(){E.addClass("jspHover")},function(){E.removeClass("jspHover")}).bind("mousedown.jsp",function(s){a("html").bind("dragstart.jsp selectstart.jsp",X);E.addClass("jspActive");var aL=s.pageX-E.position().left;a("html").bind("mousemove.jsp",function(aM){ah(aM.pageX-aL,false)}).bind("mouseup.jsp mouseleave.jsp",p);return false});I=q.innerWidth();ax()}}function ax(){q.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){I-=a(this).outerWidth()});H.width(I+"px");F=0}function ap(){if(T&&U){var s=H.outerHeight(),aL=aF.outerWidth();aG-=s;a(D).find(">.jspCap:visible,>.jspArrow").each(function(){I+=a(this).outerWidth()});I-=aL;ad-=aL;ae-=s;H.parent().append(a('<div class="jspCorner" />').css("width",s+"px"));ay();ax()}if(T){ac.width((q.outerWidth()-ab)+"px")}r=ac.outerHeight();ag=r/ad;if(T){G=Math.ceil(1/af*I);if(G>aw.horizontalDragMaxWidth){G=aw.horizontalDragMaxWidth}else{if(G<aw.horizontalDragMinWidth){G=aw.horizontalDragMinWidth}}E.width(G+"px");y=I-G;f(F)}if(U){aD=Math.ceil(1/ag*aG);if(aD>aw.verticalDragMaxHeight){aD=aw.verticalDragMaxHeight}else{if(aD<aw.verticalDragMinHeight){aD=aw.verticalDragMinHeight}}aC.height(aD+"px");z=aG-aD;g(aE)}}function h(aN,aO,s,aL){var aP="before",aQ="after",aM;if(aO=="os"){aO=/Mac/.test(navigator.platform)?"after":"split"}if(aO==aP){aQ=aO}else{if(aO==aQ){aP=aO;aM=s;s=aL;aL=aM}}aN[aP](s)[aQ](aL)}function B(s,aL,aM){return function(){n(s,aL,this,aM);this.blur();return false}}function n(aL,aM,s,aO){s=a(s).addClass("jspActive");var aP,aR,aQ=true,aN=function(){if(aL!==0){V.scrollByX(aL*aw.arrowButtonSpeed)}if(aM!==0){V.scrollByY(aM*aw.arrowButtonSpeed)}aR=setTimeout(aN,aQ?aw.initialDelay:aw.arrowRepeatFreq);aQ=false};aN();aP=aO?"mouseout.jsp":"mouseup.jsp";aO=aO||a("html");aO.bind(aP,function(){s.removeClass("jspActive");aR&&clearTimeout(aR);aR=null;aO.unbind(aP)})}function J(){al();if(U){aF.bind("mousedown.jsp",function(aO){if(aO.originalTarget===b||aO.originalTarget==aO.currentTarget){var aL=a(this),aQ=aL.offset(),aM=aO.pageY-aQ.top-aE,aR,aP=true,aN=function(){var aU=aL.offset(),aV=aO.pageY-aU.top-aD/2,aS=ad*aw.scrollPagePercent,aT=z*aS/(r-ad);if(aM<0){if(aE-aT>aV){V.scrollByY(-aS)}else{ai(aV)}}else{if(aM>0){if(aE+aT<aV){V.scrollByY(aS)}else{ai(aV)}}else{s();return}}aR=setTimeout(aN,aP?aw.initialDelay:aw.trackClickRepeatFreq);aP=false},s=function(){aR&&clearTimeout(aR);aR=null;a(document).unbind("mouseup.jsp",s)};aN();a(document).bind("mouseup.jsp",s);return false}})}if(T){H.bind("mousedown.jsp",function(aO){if(aO.originalTarget===b||aO.originalTarget==aO.currentTarget){var aL=a(this),aQ=aL.offset(),aM=aO.pageX-aQ.left-F,aR,aP=true,aN=function(){var aU=aL.offset(),aV=aO.pageX-aU.left-G/2,aS=ae*aw.scrollPagePercent,aT=y*aS/(v-ae);if(aM<0){if(F-aT>aV){V.scrollByX(-aS)}else{ah(aV)}}else{if(aM>0){if(F+aT<aV){V.scrollByX(aS)}else{ah(aV)}}else{s();return}}aR=setTimeout(aN,aP?aw.initialDelay:aw.trackClickRepeatFreq);aP=false},s=function(){aR&&clearTimeout(aR);aR=null;a(document).unbind("mouseup.jsp",s)};aN();a(document).bind("mouseup.jsp",s);return false}})}}function al(){if(H){H.unbind("mousedown.jsp")}if(aF){aF.unbind("mousedown.jsp")}}function p(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(aC){aC.removeClass("jspActive")}if(E){E.removeClass("jspActive")}}function ai(aL,s){if(!U){return}if(aL<0){aL=0}else{if(aL>z){aL=z}}if(s===b){s=aw.animateScroll}if(s){V.animate(aC,"top",aL,g)}else{aC.css("top",aL);g(aL)}}function g(aL){if(aL===b){aL=aC.position().top}q.scrollTop(0);aE=aL;var aN=aE===0,aM=aE==z,aO=aL/z,s=-aO*(r-ad);if(aK!=aN||aH!=aM){aK=aN;aH=aM;A.trigger("jsp-arrow-change",[aK,aH,aI,aJ])}aA(aN,aM);ac.css("top",s);A.trigger("jsp-scroll-y",[-s,aN,aM]).trigger("scroll")}function ah(aL,s){if(!T){return}if(aL<0){aL=0}else{if(aL>y){aL=y}}if(s===b){s=aw.animateScroll}if(s){V.animate(E,"left",aL,f)}else{E.css("left",aL);f(aL)}}function f(aL){if(aL===b){aL=E.position().left}q.scrollTop(0);F=aL;var aM=F===0,aN=F==y,aO=aL/y,s=-aO*(v-ae);if(aI!=aM||aJ!=aN){aI=aM;aJ=aN;A.trigger("jsp-arrow-change",[aK,aH,aI,aJ])}az(aM,aN);ac.css("left",s);A.trigger("jsp-scroll-x",[-s,aM,aN]).trigger("scroll")}function aA(aL,s){if(aw.showArrows){o[aL?"addClass":"removeClass"]("jspDisabled");j[s?"addClass":"removeClass"]("jspDisabled")}}function az(s,aL){if(aw.showArrows){l[s?"addClass":"removeClass"]("jspDisabled");m[aL?"addClass":"removeClass"]("jspDisabled")}}function av(aL,s){var aM=aL/(r-ad);ai(aM*z,s)}function au(aL,s){var aM=aL/(v-ae);ah(aM*y,s)}function at(aO,aW,s){var aN,aP,aS,aR=0,aQ=0,aY,aX,aV,aU,aM,aL;try{aN=a(aO)}catch(aT){return}aP=aN.outerHeight();aS=aN.outerWidth();q.scrollTop(0);q.scrollLeft(0);while(!aN.is(".jspPane")){aR+=aN.position().top;aQ+=aN.position().left;aN=aN.offsetParent();if(/^body|html$/i.test(aN[0].nodeName)){return}}aY=u();aV=aY+ad;if(aR<aY||aW){aM=aR-aw.horizontalGutter}else{if(aR+aP>aV){aM=aR-ad+aP+aw.horizontalGutter}}if(!isNaN(aM)){av(aM,s)}aX=t();aU=aX+ae;if(aQ<aX||aW){aL=aQ-aw.horizontalGutter}else{if(aQ+aS>aU){aL=aQ-ae+aS+aw.horizontalGutter}}if(!isNaN(aL)){au(aL,s)}}function t(){return -ac.position().left}function u(){return -ac.position().top}function R(){var s=r-ad;return(s>20)&&(s-u()<10)}function S(){var s=v-ae;return(s>20)&&(s-t()<10)}function P(){q.unbind(W).bind(W,function(aP,s,aL,aM){var aN=F,aO=aE,aQ=aP.deltaFactor||aw.mouseWheelSpeed;V.scrollBy(aL*aQ,-aM*aQ,false);return aN==F&&aO==aE})}function ao(){q.unbind(W)}function X(){return false}function K(){ac.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){at(s.target,false)})}function am(){ac.find(":input,a").unbind("focus.jsp")}function O(){var aL,s,aN=[];T&&aN.push(D[0]);U&&aN.push(aB[0]);ac.focus(function(){A.focus()});A.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aQ){if(aQ.target!==this&&!(aN.length&&a(aQ.target).closest(aN).length)){return}var aO=F,aP=aE;switch(aQ.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:aL=aQ.keyCode;aM();break;case 35:av(r-ad);aL=null;break;case 36:av(0);aL=null;break}s=aQ.keyCode==aL&&aO!=F||aP!=aE;return !s}).bind("keypress.jsp",function(aO){if(aO.keyCode==aL){aM()}return !s});if(aw.hideFocus){A.css("outline","none");if("hideFocus" in q[0]){A.attr("hideFocus",true)}}else{A.css("outline","");if("hideFocus" in q[0]){A.attr("hideFocus",false)}}function aM(){var aO=F,aP=aE;switch(aL){case 40:V.scrollByY(aw.keyboardSpeed,false);break;case 38:V.scrollByY(-aw.keyboardSpeed,false);break;case 34:case 32:V.scrollByY(ad*aw.scrollPagePercent,false);break;case 33:V.scrollByY(-ad*aw.scrollPagePercent,false);break;case 39:V.scrollByX(aw.keyboardSpeed,false);break;case 37:V.scrollByX(-aw.keyboardSpeed,false);break}s=aO!=F||aP!=aE;return s}}function an(){A.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function Y(){if(location.hash&&location.hash.length>1){var s,aN,aM=escape(location.hash.substr(1));try{s=a("#"+aM+', a[name="'+aM+'"]')}catch(aL){return}if(s.length&&ac.find(aM)){if(q.scrollTop()===0){aN=setInterval(function(){if(q.scrollTop()>0){at(s,true);a(document).scrollTop(q.position().top);clearInterval(aN)}},50)}else{at(s,true);a(document).scrollTop(q.position().top)}}}}function C(){if(a(document.body).data("jspHijack")){return}a(document.body).data("jspHijack",true);a(document.body).delegate("a[href*=#]","click",function(aO){var aQ=this.href.substr(0,this.href.indexOf("#")),aS=location.href,aP,aM,s,aR,aT,aN;if(location.href.indexOf("#")!==-1){aS=location.href.substr(0,location.href.indexOf("#"))}if(aQ!==aS){return}aP=escape(this.href.substr(this.href.indexOf("#")+1));aM;try{aM=a("#"+aP+', a[name="'+aP+'"]')}catch(aL){return}if(!aM.length){return}s=aM.closest(".jspScrollable");aR=s.data("jsp");aR.scrollToElement(aM,true);if(s[0].scrollIntoView){aT=a(c).scrollTop();aN=aM.offset().top;if(aN<aT||aN>aT+a(c).height()){s[0].scrollIntoView()}}aO.preventDefault()})}function Q(){var aM,aN,aO,aP,s,aL=false;q.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aQ){var aR=aQ.originalEvent.touches[0];aM=t();aN=u();aO=aR.pageX;aP=aR.pageY;s=false;aL=true}).bind("touchmove.jsp",function(aS){if(!aL){return}var aT=aS.originalEvent.touches[0],aQ=F,aR=aE;V.scrollTo(aM+aO-aT.pageX,aN+aP-aT.pageY);s=s||Math.abs(aO-aT.pageX)>5||Math.abs(aP-aT.pageY)>5;return aQ==F&&aR==aE}).bind("touchend.jsp",function(aQ){aL=false}).bind("click.jsp-touchclick",function(aQ){if(s){s=false;return false}})}function w(){var aL=u(),s=t();A.removeClass("jspScrollable").unbind(".jsp");A.replaceWith(Z.append(ac.children()));Z.scrollTop(aL);Z.scrollLeft(s);if(ak){clearInterval(ak)}}a.extend(V,{reinitialise:function(aL){aL=a.extend({},aw,aL);L(aL)},scrollToElement:function(aL,aM,s){at(aL,aM,s)},scrollTo:function(aL,aM,s){au(aL,s);av(aM,s)},scrollToX:function(aL,s){au(aL,s)},scrollToY:function(aL,s){av(aL,s)},scrollToPercentX:function(aL,s){au(aL*(v-ae),s)},scrollToPercentY:function(aL,s){av(aL*(r-ad),s)},scrollBy:function(aL,aM,s){V.scrollByX(aL,s);V.scrollByY(aM,s)},scrollByX:function(aL,s){var aM=t()+Math[aL<0?"floor":"ceil"](aL),aN=aM/(v-ae);ah(aN*y,s)},scrollByY:function(aL,s){var aM=u()+Math[aL<0?"floor":"ceil"](aL),aN=aM/(r-ad);ai(aN*z,s)},positionDragX:function(aL,s){ah(aL,s)},positionDragY:function(aL,s){ai(aL,s)},animate:function(s,aM,aO,aN){var aL={};aL[aM]=aO;s.animate(aL,{duration:aw.animateDuration,easing:aw.animateEase,queue:false,step:aN})},getContentPositionX:function(){return t()},getContentPositionY:function(){return u()},getContentWidth:function(){return v},getContentHeight:function(){return r},getPercentScrolledX:function(){return t()/(v-ae)},getPercentScrolledY:function(){return u()/(r-ad)},getIsScrollableH:function(){return T},getIsScrollableV:function(){return U},getContentPane:function(){return ac},scrollToBottom:function(s){ai(z,s)},hijackInternalLinks:a.noop,destroy:function(){w()}});L(aq)}e=a.extend({},a.fn.jScrollPane.defaults,e);a.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var f=a(this),g=f.data("jsp");if(g){g.reinitialise(e)}else{a("script",f).filter('[type="text/javascript"],:not([type])').remove();g=new d(f,e);f.data("jsp",g)}})};a.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:b,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);
/*
 *  GMAP3 Plugin for JQuery 
 *  Version   : 5.0b
 *  Date      : 2012-11-17
 *  Licence   : GPL v3 : http://www.gnu.org/licenses/gpl.html  
 *  Author    : DEMONTE Jean-Baptiste
 *  Contact   : jbdemonte@gmail.com
 *  Web site  : http://gmap3.net
 *   
 *  Copyright (c) 2010-2012 Jean-Baptiste DEMONTE
 *  All rights reserved.
 *   
 * Redistribution and use in source and binary forms, with or without 
 * modification, are permitted provided that the following conditions are met:
 * 
 *   - Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 *   - Redistributions in binary form must reproduce the above 
 *     copyright notice, this list of conditions and the following 
 *     disclaimer in the documentation and/or other materials provided 
 *     with the distribution.
 *   - Neither the name of the author nor the names of its contributors 
 *     may be used to endorse or promote products derived from this 
 *     software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" 
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE 
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS 
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE 
 * POSSIBILITY OF SUCH DAMAGE.
 */
(function(a,N){var f,s=0;function w(){if(!f){f={verbose:false,queryLimit:{attempt:5,delay:250,random:250},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType,ImageMapType:google.maps.ImageMapType},map:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:60000,timeout:5000}}}}}function t(O,P){return O!==N?O:"gmap3_"+(P?s+1:++s)}function v(R){var Q=function(S){return parseInt(S,10)},O=google.maps.version.split(".").map(Q),P;R=R.split(".").map(Q);for(P=0;P<R.length;P++){if(O.hasOwnProperty(P)){if(O[P]<R[P]){return false}}else{return false}}return true}function c(O,P,S,R,T){if(P.todo.events||P.todo.onces){var Q={id:R,data:P.todo.data,tag:P.todo.tag};if(P.todo.events){a.each(P.todo.events,function(W,U){var X=O,V=U;if(a.isArray(U)){X=U[0];V=U[1]}google.maps.event.addListener(S,W,function(Y){V.apply(X,[T?T:S,Y,Q])})})}if(P.todo.onces){a.each(P.todo.onces,function(W,U){var X=O,V=U;if(a.isArray(U)){X=U[0];V=U[1]}google.maps.event.addListenerOnce(S,W,function(Y){V.apply(X,[T?T:S,Y,Q])})})}}}function H(){var O=[];this.empty=function(){return !O.length};this.add=function(P){O.push(P)};this.get=function(){return O.length?O[0]:false};this.ack=function(){O.shift()}}function J(O,R,V){var T={},U=this,P,S={latLng:{map:false,marker:false,infowindow:false,circle:false,overlay:false,getlatlng:false,getmaxzoom:false,getelevation:false,streetviewpanorama:false,getaddress:true},geoloc:{getgeoloc:true}};if(typeof V==="string"){V=W(V)}function W(Y){var X={};X[Y]={};return X}function Q(){var X;for(X in V){if(X in T){continue}return X}}this.run=function(){var X,Y;while(X=Q()){if(typeof O[X]==="function"){P=X;Y=a.extend(true,{},f[X]||{},V[X].options||{});if(X in S.latLng){if(V[X].values){E(V[X].values,O,O[X],{todo:V[X],opts:Y,session:T})}else{F(O,O[X],S.latLng[X],{todo:V[X],opts:Y,session:T})}}else{if(X in S.geoloc){q(O,O[X],{todo:V[X],opts:Y,session:T})}else{O[X].apply(O,[{todo:V[X],opts:Y,session:T}])}}return}else{T[X]=null}}R.apply(O,[V,T])};this.ack=function(X){T[P]=X;U.run.apply(U,[])}}function r(Q){var O,P=[];for(O in Q){P.push(O)}return P}function M(O,S){var R={};if(O.todo){for(k in O.todo){if((k!=="options")&&(k!=="values")){R[k]=O.todo[k]}}}var P,Q=["data","tag","id","events","onces"];for(P=0;P<Q.length;P++){e(R,Q[P],S,O.todo)}R.options=a.extend({},O.opts||{},S.options||{});return R}function e(Q,P){var O;for(O=2;O<arguments.length;O++){if(P in arguments[O]){Q[P]=arguments[O][P];return}}}function p(){var O=[];this.get=function(V){if(O.length){var Q,S,T,R,P,U=r(V);for(Q=0;Q<O.length;Q++){R=O[Q];P=U.length==R.keys.length;for(S=0;(S<U.length)&&P;S++){T=U[S];P=T in R.request;if(P){if((typeof V[T]==="object")&&("equals" in V[T])&&(typeof V[T]==="function")){P=V[T].equals(R.request[T])}else{P=V[T]===R.request[T]}}}if(P){return R.results}}}};this.store=function(P,Q){O.push({request:P,keys:r(P),results:Q})}}function D(R,S,P,O){var T=this,Q=[];f.classes.OverlayView.call(this);this.setMap(R);this.onAdd=function(){var U=this.getPanes();if(S.pane in U){a(U[S.pane]).append(O)}a.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(V,W){Q.push(google.maps.event.addDomListener(O[0],W,function(X){a.Event(X).stopPropagation();google.maps.event.trigger(T,W,[X]);T.draw()}))});Q.push(google.maps.event.addDomListener(O[0],"contextmenu",function(V){a.Event(V).stopPropagation();google.maps.event.trigger(T,"rightclick",[V]);T.draw()}))};this.getPosition=function(){return P};this.draw=function(){var U=this.getProjection().fromLatLngToDivPixel(P);O.css("left",(U.x+S.offset.x)+"px").css("top",(U.y+S.offset.y)+"px")};this.onRemove=function(){var U;for(U=0;U<Q.length;U++){google.maps.event.removeListener(Q[U])}O.remove()};this.hide=function(){O.hide()};this.show=function(){O.show()};this.toggle=function(){if(O){if(O.is(":visible")){this.show()}else{this.hide()}}};this.toggleDOM=function(){if(this.getMap()){this.setMap(null)}else{this.setMap(R)}};this.getDOMElement=function(){return O[0]}}function B(O,R){function Q(){this.onAdd=function(){};this.onRemove=function(){};this.draw=function(){};return f.classes.OverlayView.apply(this,[])}Q.prototype=f.classes.OverlayView.prototype;var P=new Q();P.setMap(O);return P}function y(O,ad,ai){var ar=false,aq=false,al=false,aj=false,R=true,an=this,S=[],am={},aa={},ab={},ae=[],ap=[],at=[],af=B(ad,ai.radius),ao,ah,X,V,W;ac();function ag(au){if(!ae[au]){delete ap[au].options.map;ae[au]=new f.classes.Marker(ap[au].options);c(O,{todo:ap[au]},ae[au],ap[au].id)}}this.getById=function(au){if(au in aa){ag(aa[au]);return ae[aa[au]]}return false};this.rm=function(au){var av=aa[au];if(ae[av]){ae[av].setMap(null)}delete ae[av];ae[av]=false;delete ap[av];ap[av]=false;delete at[av];at[av]=false;delete aa[au];delete ab[av];aq=true};this.clearById=function(au){if(au in aa){this.rm(au);return true}};this.clear=function(ay,av,aD){var aA,aC,aB,ax,aw,az=[],au=m(aD);if(ay){aA=ap.length-1;aC=-1;aB=-1}else{aA=0;aC=ap.length;aB=1}for(ax=aA;ax!=aC;ax+=aB){if(ap[ax]){if(!au||au(ap[ax].tag)){az.push(ab[ax]);if(av||ay){break}}}}for(aw=0;aw<az.length;aw++){this.rm(az[aw])}};this.add=function(au,av){au.id=t(au.id);this.clearById(au.id);aa[au.id]=ae.length;ab[ae.length]=au.id;ae.push(null);ap.push(au);at.push(av);aq=true};this.addMarker=function(au,av){av=av||{};av.id=t(av.id);this.clearById(av.id);if(!av.options){av.options={}}av.options.position=au.getPosition();c(O,{todo:av},au,av.id);aa[av.id]=ae.length;ab[ae.length]=av.id;ae.push(au);ap.push(av);at.push(av.data||{});aq=true};this.todo=function(au){return ap[au]};this.value=function(au){return at[au]};this.marker=function(au){if(au in ae){ag(au);return ae[au]}return false};this.markerIsSet=function(au){return Boolean(ae[au])};this.setMarker=function(au,av){ae[au]=av};this.store=function(au,av,aw){am[au.ref]={obj:av,shadow:aw}};this.free=function(){var au;for(au=0;au<S.length;au++){google.maps.event.removeListener(S[au])}S=[];a.each(am,function(av){Y(av)});am={};a.each(ap,function(av){ap[av]=null});ap=[];a.each(ae,function(av){if(ae[av]){ae[av].setMap(null);delete ae[av]}});ae=[];a.each(at,function(av){delete at[av]});at=[];aa={};ab={}};this.filter=function(au){X=au;ak()};this.enable=function(au){if(R!=au){R=au;ak()}};this.display=function(au){V=au};this.error=function(au){W=au};this.beginUpdate=function(){ar=true};this.endUpdate=function(){ar=false;if(aq){ak()}};this.autofit=function(au){var av;for(av=0;av<ap.length;av++){if(ap[av]){au.extend(ap[av].options.position)}}};function ac(){ah=af.getProjection();if(!ah){setTimeout(function(){ac.apply(an,[])},25);return}aj=true;S.push(google.maps.event.addListener(ad,"zoom_changed",function(){P()}));S.push(google.maps.event.addListener(ad,"bounds_changed",function(){P()}));ak()}function Y(au){if(typeof am[au]==="object"){if(typeof(am[au].obj.setMap)==="function"){am[au].obj.setMap(null)}if(typeof(am[au].obj.remove)==="function"){am[au].obj.remove()}if(typeof(am[au].shadow.remove)==="function"){am[au].obj.remove()}if(typeof(am[au].shadow.setMap)==="function"){am[au].shadow.setMap(null)}delete am[au].obj;delete am[au].shadow}else{if(ae[au]){ae[au].setMap(null)}}delete am[au]}function Q(){var ay,az,aA,aB,au,av,aw,ax;if(arguments[0] instanceof google.maps.LatLng){ay=arguments[0].lat();aA=arguments[0].lng();if(arguments[1] instanceof google.maps.LatLng){az=arguments[1].lat();aB=arguments[1].lng()}else{az=arguments[1];aB=arguments[2]}}else{ay=arguments[0];aA=arguments[1];if(arguments[2] instanceof google.maps.LatLng){az=arguments[2].lat();aB=arguments[2].lng()}else{az=arguments[2];aB=arguments[3]}}au=Math.PI*ay/180;av=Math.PI*aA/180;aw=Math.PI*az/180;ax=Math.PI*aB/180;return 1000*6371*Math.acos(Math.min(Math.cos(au)*Math.cos(aw)*Math.cos(av)*Math.cos(ax)+Math.cos(au)*Math.sin(av)*Math.cos(aw)*Math.sin(ax)+Math.sin(au)*Math.sin(aw),1))}function U(){var av=Q(ad.getCenter(),ad.getBounds().getNorthEast()),au=new google.maps.Circle({center:ad.getCenter(),radius:1.25*av});return au.getBounds()}function Z(){var av={},au;for(au in am){av[au]=true}return av}function P(){clearTimeout(ao);ao=setTimeout(function(){ak()},25)}function T(au){var aw=ah.fromLatLngToDivPixel(au),av=ah.fromDivPixelToLatLng(new google.maps.Point(aw.x+ai.radius,aw.y-ai.radius)),ax=ah.fromDivPixelToLatLng(new google.maps.Point(aw.x-ai.radius,aw.y+ai.radius));return new google.maps.LatLngBounds(ax,av)}function ak(){if(ar||al||!aj){return}var aC=[],aF={},aG=ad.getZoom(),ax=("maxZoom" in ai)&&(aG>ai.maxZoom),aE=Z(),ay,aA,aB,az,av=false,au,aw,aD;aq=false;if(aG>3){au=U();av=au.getSouthWest().lng()<au.getNorthEast().lng()}for(ay=0;ay<ap.length;ay++){if(ap[ay]&&(!av||au.contains(ap[ay].options.position))&&(!X||X(at[ay]))){aC.push(ay)}}while(1){ay=0;while(aF[ay]&&(ay<aC.length)){ay++}if(ay==aC.length){break}az=[];if(R&&!ax){aD=ap[aC[ay]].options.position;au=T(aD);for(aA=ay;aA<aC.length;aA++){if(aF[aA]){continue}if(au.contains(ap[aC[aA]].options.position)){az.push(aA)}}}else{for(aA=ay;aA<aC.length;aA++){if(aF[aA]){continue}az.push(aA);break}}aw={indexes:[],ref:[]};for(aB=0;aB<az.length;aB++){aF[az[aB]]=true;aw.indexes.push(aC[az[aB]]);aw.ref.push(aC[az[aB]])}aw.latLng=aD;aw.ref=aw.ref.join("-");if(aw.ref in aE){delete aE[aw.ref]}else{if(az.length===1){am[aw.ref]=true}(function(aH){setTimeout(function(){V(aH)},1)})(aw)}}a.each(aE,function(aH){Y(aH)});al=false}}function d(O,P){this.id=function(){return O};this.filter=function(Q){P.filter(Q)};this.enable=function(){P.enable(true)};this.disable=function(){P.enable(false)};this.add=function(R,S,Q){if(!Q){P.beginUpdate()}P.addMarker(R,S);if(!Q){P.endUpdate()}};this.getById=function(Q){return P.getById(Q)};this.clearById=function(Q,R){var S;if(!R){P.beginUpdate()}S=P.clearById(Q);if(!R){P.endUpdate()}return S};this.clear=function(R,Q,T,S){if(!S){P.beginUpdate()}P.clear(R,Q,T);if(!S){P.endUpdate()}}}function I(){var R={},P={};function O(S){return{id:S.id,name:S.name,object:S.obj,tag:S.tag,data:S.data}}this.add=function(S,U,V,W){var X=S.todo||{},T=t(X.id);if(!R[U]){R[U]=[]}if(T in P){this.clearById(T)}P[T]={obj:V,sub:W,name:U,id:T,tag:X.tag,data:X.data};R[U].push(T);return T};this.getById=function(T,U,S){if(T in P){if(U){return P[T].sub}else{if(S){return O(P[T])}}return P[T].obj}return false};this.get=function(X,V,Y,T){var W,U,S=m(Y);if(!R[X]||!R[X].length){return null}W=R[X].length;while(W){W--;U=R[X][V?W:R[X].length-W-1];if(U&&P[U]){if(S&&!S(P[U].tag)){continue}return T?O(P[U]):P[U].obj}}return null};this.all=function(V,X,U){var W=[],S=m(X),T=function(aa){var Y,Z;for(Y=0;Y<R[aa].length;Y++){Z=R[aa][Y];if(Z&&P[Z]){if(S&&!S(P[Z].tag)){continue}W.push(U?O(P[Z]):P[Z].obj)}}};if(V in R){T(V)}else{if(V===N){for(V in R){T(V)}}}return W};function Q(S){if(typeof(S.setMap)==="function"){S.setMap(null)}if(typeof(S.remove)==="function"){S.remove()}if(typeof(S.free)==="function"){S.free()}S=null}this.rm=function(V,S,W){var U,T;if(!R[V]){return false}if(S){if(W){for(U=R[V].length-1;U>=0;U--){T=R[V][U];if(S(P[T].tag)){break}}}else{for(U=0;U<R[V].length;U++){T=R[V][U];if(S(P[T].tag)){break}}}}else{U=W?R[V].length-1:0}if(!(U in R[V])){return false}return this.clearById(R[V][U],U)};this.clearById=function(T,U){if(T in P){var S,V=P[T].name;for(S=0;U===N&&S<R[V].length;S++){if(T===R[V][S]){U=S}}Q(P[T].obj);if(P[T].sub){Q(P[T].sub)}delete P[T];R[V].splice(U,1);return true}return false};this.objGetById=function(S){var U;if(R.clusterer){var T;for(T in R.clusterer){if((U=P[R.clusterer[T]].obj.getById(S))!==false){return U}}}return false};this.objClearById=function(S){if(R.clusterer){var T;for(T in R.clusterer){if(P[R.clusterer[T]].obj.clearById(S)){return true}}}return null};this.clear=function(X,W,T,Z){var V,U,Y,S=m(Z);if(!X||!X.length){X=[];for(V in R){X.push(V)}}else{X=b(X)}for(U=0;U<X.length;U++){Y=X[U];if(W){this.rm(Y,S,true)}else{if(T){this.rm(Y,S,false)}else{while(this.rm(Y,S,false)){}}}}};this.objClear=function(V,U,S,W){if(R.clusterer&&(a.inArray("marker",V)>=0||!V.length)){for(var T in R.clusterer){P[R.clusterer[T]].obj.clear(U,S,W)}}}}var G={},o=new p();function n(){if(!G.geocoder){G.geocoder=new google.maps.Geocoder()}return G.geocoder}function g(){if(!G.directionsService){G.directionsService=new google.maps.DirectionsService()}return G.directionsService}function j(){if(!G.elevationService){G.elevationService=new google.maps.ElevationService()}return G.elevationService}function A(){if(!G.maxZoomService){G.maxZoomService=new google.maps.MaxZoomService()}return G.maxZoomService}function h(){if(!G.distanceMatrixService){G.distanceMatrixService=new google.maps.DistanceMatrixService()}return G.distanceMatrixService}function l(){if(f.verbose){var P,O=[];if(window.console&&(typeof console.error==="function")){for(P=0;P<arguments.length;P++){O.push(arguments[P])}console.error.apply(console,O)}else{O="";for(P=0;P<arguments.length;P++){O+=arguments[P].toString()+" "}alert(O)}}}function C(O){return(typeof(O)==="number"||typeof(O)==="string")&&O!==""&&!isNaN(O)}function b(Q){var P,O=[];if(Q!==N){if(typeof(Q)==="object"){if(typeof(Q.length)==="number"){O=Q}else{for(P in Q){O.push(Q[P])}}}else{O.push(Q)}}return O}function m(O){if(O){if(typeof O==="function"){return O}O=b(O);return function(Q){if(Q===N){return false}if(typeof Q==="object"){for(var P=0;P<Q.length;P++){if(a.inArray(Q[P],O)>=0){return true}}return false}return a.inArray(Q,O)>=0}}}function K(Q,P,R){var O=P?Q:null;if(!Q||(typeof Q==="string")){return O}if(Q.latLng){return K(Q.latLng)}if(Q instanceof google.maps.LatLng){return Q}else{if(C(Q.lat)){return new google.maps.LatLng(Q.lat,Q.lng)}else{if(!R&&a.isArray(Q)){if(!C(Q[0])||!C(Q[1])){return O}return new google.maps.LatLng(Q[0],Q[1])}}}return O}function L(O){var P,Q;if(!O||O instanceof google.maps.LatLngBounds){return O||null}if(a.isArray(O)){if(O.length==2){P=K(O[0]);Q=K(O[1])}else{if(O.length==4){P=K([O[0],O[1]]);Q=K([O[2],O[3]])}}}else{if(("ne" in O)&&("sw" in O)){P=K(O.ne);Q=K(O.sw)}else{if(("n" in O)&&("e" in O)&&("s" in O)&&("w" in O)){P=K([O.n,O.e]);Q=K([O.s,O.w])}}}if(P&&Q){return new google.maps.LatLngBounds(Q,P)}return null}function F(S,U,V,O,P){var T=V?K(O.todo,false,true):false,R=T?{latLng:T}:(O.todo.address?(typeof(O.todo.address)==="string"?{address:O.todo.address}:O.todo.address):false),Q=R?o.get(R):false,W=this;if(R){P=P||0;if(Q){O.latLng=Q.results[0].geometry.location;O.results=Q.results;O.status=Q.status;U.apply(S,[O])}else{if(R.location){R.location=K(R.location)}if(R.bounds){R.bounds=L(R.bounds)}n().geocode(R,function(X,Y){if(Y===google.maps.GeocoderStatus.OK){o.store(R,{results:X,status:Y});O.latLng=X[0].geometry.location;O.results=X;O.status=Y;U.apply(S,[O])}else{if((Y===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)&&(P<f.queryLimit.attempt)){setTimeout(function(){F.apply(W,[S,U,V,O,P+1])},f.queryLimit.delay+Math.floor(Math.random()*f.queryLimit.random))}else{l("geocode failed",Y,R);O.latLng=O.results=false;O.status=Y;U.apply(S,[O])}}})}}else{O.latLng=K(O.todo,false,true);U.apply(S,[O])}}function E(R,P,S,O){var U=this,Q=-1;function T(){do{Q++}while((Q<R.length)&&!("address" in R[Q]));if(Q>=R.length){S.apply(P,[O]);return}F(U,function(V){delete V.todo;a.extend(R[Q],V);T.apply(U,[])},true,{todo:R[Q]})}T()}function q(P,R,O){var Q=false;if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(S){if(Q){return}Q=true;O.latLng=new google.maps.LatLng(S.coords.latitude,S.coords.longitude);R.apply(P,[O])},function(){if(Q){return}Q=true;O.latLng=false;R.apply(P,[O])},O.opts.getCurrentPosition)}else{O.latLng=false;R.apply(P,[O])}}function u(O){var aa=this,X=new H(),Y=new I(),T=null,Z;this._plan=function(ac){for(var ab=0;ab<ac.length;ab++){X.add(new J(aa,R,ac[ab]))}W()};function W(){if(!Z&&(Z=X.get())){Z.run()}}function R(){Z=null;X.ack();W.call(aa)}function P(ab){if(ab.todo.callback){var ac=Array.prototype.slice.call(arguments,1);if(typeof ab.todo.callback==="function"){ab.todo.callback.apply(O,ac)}else{if(a.isArray(ab.todo.callback)){if(typeof ab.todo.callback[1]==="function"){ab.todo.callback[1].apply(ab.todo.callback[0],ac)}}}}}function S(ab,ad,ac){if(ac){c(O,ab,ad,ac)}P(ab,ad);Z.ack(ad)}function U(ac,ab){ab=ab||{};if(T){if(ab.todo&&ab.todo.options){if(ab.todo.options.center){ab.todo.options.center=K(ab.todo.options.center)}T.setOptions(ab.todo.options)}}else{var ad=ab.opts||a.extend(true,{},f.map,ab.todo&&ab.todo.options?ab.todo.options:{});ad.center=ac||K(ad.center);T=new f.classes.Map(O.get(0),ad)}}this.map=function(ab){U(ab.latLng,ab);c(O,ab,T);S(ab,T)};this.destroy=function(ab){Y.clear();O.empty();if(T){T=null}S(ab,true)};this.infowindow=function(ab){var ad=[],ac="values" in ab.todo;if(!ac){if(ab.latLng){ab.opts.position=ab.latLng}ab.todo.values=[{options:ab.opts}]}a.each(ab.todo.values,function(ae,ai){var af,ag,ah=M(ab,ai);ah.options.position=ah.options.position?K(ah.options.position):K(ai.latLng);if(!T){U(ah.options.position)}ag=new f.classes.InfoWindow(ah.options);if(ag&&((ah.open===N)||ah.open)){if(ac){ag.open(T,ah.anchor?ah.anchor:N)}else{ag.open(T,ah.anchor?ah.anchor:(ab.latLng?N:(ab.session.marker?ab.session.marker:N)))}}ad.push(ag);af=Y.add({todo:ah},"infowindow",ag);c(O,{todo:ah},ag,af)});S(ab,ac?ad:ad[0])};this.circle=function(ab){var ad=[],ac="values" in ab.todo;if(!ac){ab.opts.center=ab.latLng||K(ab.opts.center);ab.todo.values=[{options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}a.each(ab.todo.values,function(ae,ai){var af,ag,ah=M(ab,ai);ah.options.center=ah.options.center?K(ah.options.center):K(ai);if(!T){U(ah.options.center)}ah.options.map=T;ag=new f.classes.Circle(ah.options);ad.push(ag);af=Y.add({todo:ah},"circle",ag);c(O,{todo:ah},ag,af)});S(ab,ac?ad:ad[0])};this.overlay=function(ab,ac){var ae=[],ad="values" in ab.todo;if(!ad){ab.todo.values=[{latLng:ab.latLng,options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}if(!D.__initialised){D.prototype=new f.classes.OverlayView();D.__initialised=true}a.each(ab.todo.values,function(ag,ak){var ah,ai,aj=M(ab,ak),af=a(document.createElement("div")).css({border:"none",borderWidth:"0px",position:"absolute"});af.append(aj.options.content);ai=new D(T,aj.options,K(aj)||K(ak),af);ae.push(ai);af=null;if(!ac){ah=Y.add(ab,"overlay",ai);c(O,{todo:aj},ai,ah)}});if(ac){return ae[0]}S(ab,ad?ae:ae[0])};this.getaddress=function(ab){P(ab,ab.results,ab.status);Z.ack()};this.getlatlng=function(ab){P(ab,ab.results,ab.status);Z.ack()};this.getmaxzoom=function(ab){A().getMaxZoomAtLatLng(ab.latLng,function(ac){P(ab,ac.status===google.maps.MaxZoomStatus.OK?ac.zoom:false,status);Z.ack()})};this.getelevation=function(ab){var ad,ae=[],ac=function(af,ag){P(ab,ag===google.maps.ElevationStatus.OK?af:false,ag);Z.ack()};if(ab.latLng){ae.push(ab.latLng)}else{ae=b(ab.todo.locations||[]);for(ad=0;ad<ae.length;ad++){ae[ad]=K(ae[ad])}}if(ae.length){j().getElevationForLocations({locations:ae},ac)}else{if(ab.todo.path&&ab.todo.path.length){for(ad=0;ad<ab.todo.path.length;ad++){ae.push(K(ab.todo.path[ad]))}}if(ae.length){j().getElevationAlongPath({path:ae,samples:ab.todo.samples},ac)}else{Z.ack()}}};this.defaults=function(ab){a.each(ab.todo,function(ac,ad){if(typeof f[ac]==="object"){f[ac]=a.extend({},f[ac],ad)}else{f[ac]=ad}});Z.ack(true)};this.rectangle=function(ab){var ad=[],ac="values" in ab.todo;if(!ac){ab.todo.values=[{options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}a.each(ab.todo.values,function(ae,ai){var af,ag,ah=M(ab,ai);ah.options.bounds=ah.options.bounds?L(ah.options.bounds):L(ai);if(!T){U(ah.options.bounds.getCenter())}ah.options.map=T;ag=new f.classes.Rectangle(ah.options);ad.push(ag);af=Y.add({todo:ah},"rectangle",ag);c(O,{todo:ah},ag,af)});S(ab,ac?ad:ad[0])};function V(ab,af,ae){var ad=[],ac="values" in ab.todo;if(!ac){ab.todo.values=[{options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}U();a.each(ab.todo.values,function(ag,am){var ai,ah,aj,ak,al=M(ab,am);if(al.options[ae]){if(al.options[ae][0][0]&&a.isArray(al.options[ae][0][0])){for(ah=0;ah<al.options[ae].length;ah++){for(aj=0;aj<al.options[ae][ah].length;aj++){al.options[ae][ah][aj]=K(al.options[ae][ah][aj])}}}else{for(ah=0;ah<al.options[ae].length;ah++){al.options[ae][ah]=K(al.options[ae][ah])}}}al.options.map=T;ak=new google.maps[af](al.options);ad.push(ak);ai=Y.add({todo:al},af.toLowerCase(),ak);c(O,{todo:al},ak,ai)});S(ab,ac?ad:ad[0])}this.polyline=function(ab){V(ab,"Polyline","path")};this.polygon=function(ab){V(ab,"Polygon","paths")};this.trafficlayer=function(ab){U();var ac=Y.get("trafficlayer");if(!ac){ac=new f.classes.TrafficLayer();ac.setMap(T);Y.add(ab,"trafficlayer",ac)}S(ab,ac)};this.bicyclinglayer=function(ab){U();var ac=Y.get("bicyclinglayer");if(!ac){ac=new f.classes.BicyclingLayer();ac.setMap(T);Y.add(ab,"bicyclinglayer",ac)}S(ab,ac)};this.groundoverlay=function(ab){ab.opts.bounds=L(ab.opts.bounds);if(ab.opts.bounds){U(ab.opts.bounds.getCenter())}var ac,ad=new f.classes.GroundOverlay(ab.opts.url,ab.opts.bounds,ab.opts.opts);ad.setMap(T);ac=Y.add(ab,"groundoverlay",ad);S(ab,ad,ac)};this.streetviewpanorama=function(ab){if(!ab.opts.opts){ab.opts.opts={}}if(ab.latLng){ab.opts.opts.position=ab.latLng}else{if(ab.opts.opts.position){ab.opts.opts.position=K(ab.opts.opts.position)}}if(ab.todo.divId){ab.opts.container=document.getElementById(ab.todo.divId)}else{if(ab.opts.container){ab.opts.container=a(ab.opts.container).get(0)}}var ac,ad=new f.classes.StreetViewPanorama(ab.opts.container,ab.opts.opts);if(ad){T.setStreetView(ad)}ac=Y.add(ab,"streetviewpanorama",ad);S(ab,ad,ac)};this.kmllayer=function(ab){var ad=[],ac="values" in ab.todo;if(!ac){ab.todo.values=[{options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}a.each(ab.todo.values,function(ae,aj){var af,ag,ah,ai=M(ab,aj);if(!T){U()}ah=ai.options;if(ai.options.opts){ah=ai.options.opts;if(ai.options.url){ah.url=ai.options.url}}ah.map=T;if(v("3.10")){ag=new f.classes.KmlLayer(ah)}else{ag=new f.classes.KmlLayer(ah.url,ah)}ad.push(ag);af=Y.add({todo:ai},"kmllayer",ag);c(O,{todo:ai},ag,af)});S(ab,ac?ad:ad[0])};this.panel=function(ad){U();var ae,af=0,ag=0,ab,ac=a(document.createElement("div"));ac.css({position:"absolute",zIndex:1000,visibility:"hidden"});if(ad.opts.content){ab=a(ad.opts.content);ac.append(ab);O.first().prepend(ac);if(ad.opts.left!==N){af=ad.opts.left}else{if(ad.opts.right!==N){af=O.width()-ab.width()-ad.opts.right}else{if(ad.opts.center){af=(O.width()-ab.width())/2}}}if(ad.opts.top!==N){ag=ad.opts.top}else{if(ad.opts.bottom!==N){ag=O.height()-ab.height()-ad.opts.bottom}else{if(ad.opts.middle){ag=(O.height()-ab.height())/2}}}ac.css({top:ag,left:af,visibility:"visible"})}ae=Y.add(ad,"panel",ac);S(ad,ac,ae);ac=null};function Q(af){var ac=new y(O,T,af),ai={},ag={},ah=[],ad=/^[0-9]+$/,ab,ae;for(ae in af){if(ad.test(ae)){ah.push(1*ae);ag[ae]=af[ae];ag[ae].width=ag[ae].width||0;ag[ae].height=ag[ae].height||0}else{ai[ae]=af[ae]}}ah.sort(function(aj,ak){return aj>ak});if(ai.calculator){ab=function(ak){var aj=[];a.each(ak,function(al,am){aj.push(ac.value(am))});return ai.calculator.apply(O,[aj])}}else{ab=function(aj){return aj.length}}ac.error(function(){l.apply(aa,arguments)});ac.display(function(ak){var am,ap,aj,an,ao,al=ab(ak.indexes);if(af.force||al>1){for(am=0;am<ah.length;am++){if(ah[am]<=al){ap=ag[ah[am]]}}}if(ap){ao=ap.offset||[-ap.width/2,-ap.height/2];aj=a.extend({},ai);aj.options=a.extend({pane:"overlayLayer",content:ap.content?ap.content.replace("CLUSTER_COUNT",al):"",offset:{x:("x" in ao?ao.x:ao[0])||0,y:("y" in ao?ao.y:ao[1])||0}},ai.options||{});an=aa.overlay({todo:aj,opts:aj.options,latLng:K(ak)},true);aj.options.pane="floatShadow";aj.options.content=a(document.createElement("div")).width(ap.width+"px").height(ap.height+"px").css({cursor:"pointer"});shadow=aa.overlay({todo:aj,opts:aj.options,latLng:K(ak)},true);ai.data={latLng:K(ak),markers:[]};a.each(ak.indexes,function(aq,ar){ai.data.markers.push(ac.value(ar));if(ac.markerIsSet(ar)){ac.marker(ar).setMap(null)}});c(O,{todo:ai},shadow,N,{main:an,shadow:shadow});ac.store(ak,an,shadow)}else{a.each(ak.indexes,function(aq,ar){ac.marker(ar).setMap(T)})}});return ac}this.marker=function(ab){var af="values" in ab.todo,ad=!T;if(!af){ab.opts.position=ab.latLng||K(ab.opts.position);ab.todo.values=[{options:ab.opts}]}if(!ab.todo.values.length){S(ab,false);return}if(ad){U()}if(ab.todo.cluster&&!T.getBounds()){google.maps.event.addListenerOnce(T,"bounds_changed",function(){aa.marker.apply(aa,[ab])});return}if(ab.todo.cluster){var ac,ae;if(ab.todo.cluster instanceof d){ac=ab.todo.cluster;ae=Y.getById(ac.id(),true)}else{ae=Q(ab.todo.cluster);ac=new d(t(ab.todo.id,true),ae);Y.add(ab,"clusterer",ac,ae)}ae.beginUpdate();a.each(ab.todo.values,function(ah,aj){var ai=M(ab,aj);ai.options.position=ai.options.position?K(ai.options.position):K(aj);ai.options.map=T;if(ad){T.setCenter(ai.options.position);ad=false}ae.add(ai,aj)});ae.endUpdate();S(ab,ac)}else{var ag=[];a.each(ab.todo.values,function(ah,al){var ai,aj,ak=M(ab,al);ak.options.position=ak.options.position?K(ak.options.position):K(al);ak.options.map=T;if(ad){T.setCenter(ak.options.position);ad=false}aj=new f.classes.Marker(ak.options);ag.push(aj);ai=Y.add({todo:ak},"marker",aj);c(O,{todo:ak},aj,ai)});S(ab,af?ag:ag[0])}};this.getroute=function(ab){ab.opts.origin=K(ab.opts.origin,true);ab.opts.destination=K(ab.opts.destination,true);g().route(ab.opts,function(ac,ad){P(ab,ad==google.maps.DirectionsStatus.OK?ac:false,ad);Z.ack()})};this.directionsrenderer=function(ab){ab.opts.map=T;var ac,ad=new google.maps.DirectionsRenderer(ab.opts);if(ab.todo.divId){ad.setPanel(document.getElementById(ab.todo.divId))}else{if(ab.todo.container){ad.setPanel(a(ab.todo.container).get(0))}}ac=Y.add(ab,"directionrenderer",ad);S(ab,ad,ac)};this.getgeoloc=function(ab){S(ab,ab.latLng)};this.styledmaptype=function(ab){U();var ac=new f.classes.StyledMapType(ab.todo.styles,ab.opts);T.mapTypes.set(ab.todo.id,ac);S(ab,ac)};this.imagemaptype=function(ab){U();var ac=new f.classes.ImageMapType(ab.opts);T.mapTypes.set(ab.todo.id,ac);S(ab,ac)};this.autofit=function(ab){var ac=new google.maps.LatLngBounds();a.each(Y.all(),function(ad,ae){if(ae.getPosition){ac.extend(ae.getPosition())}else{if(ae.getBounds){ac.extend(ae.getBounds().getNorthEast());ac.extend(ae.getBounds().getSouthWest())}else{if(ae.getPaths){ae.getPaths().forEach(function(af){af.forEach(function(ag){ac.extend(ag)})})}else{if(ae.getPath){ae.getPath().forEach(function(af){ac.extend(af);""})}else{if(ae.getCenter){ac.extend(ae.getCenter())}else{if(ae instanceof d){ae=Y.getById(ae.id(),true);if(ae){ae.autofit(ac)}}}}}}}});if(!ac.isEmpty()&&(!T.getBounds()||!T.getBounds().equals(ac))){if("maxZoom" in ab.todo){google.maps.event.addListenerOnce(T,"bounds_changed",function(){if(this.getZoom()>ab.todo.maxZoom){this.setZoom(ab.todo.maxZoom)}})}T.fitBounds(ac)}S(ab,true)};this.clear=function(ab){if(typeof ab.todo==="string"){if(Y.clearById(ab.todo)||Y.objClearById(ab.todo)){S(ab,true);return}ab.todo={name:ab.todo}}if(ab.todo.id){a.each(b(ab.todo.id),function(ac,ad){Y.clearById(ad)||Y.objClearById(ad)})}else{Y.clear(b(ab.todo.name),ab.todo.last,ab.todo.first,ab.todo.tag);Y.objClear(b(ab.todo.name),ab.todo.last,ab.todo.first,ab.todo.tag)}S(ab,true)};this.exec=function(ab){var ac=this;a.each(b(ab.todo.func),function(ae,ad){a.each(ac.get(ab.todo,true,ab.todo.hasOwnProperty("full")?ab.todo.full:true),function(af,ag){ad.call(O,ag)})});S(ab,true)};this.get=function(ab,ac,ad){var ae,af,ag=ac?ab:ab.todo;if(!ac){ad=ag.full}if(typeof ag==="string"){af=Y.getById(ag,false,ad)||Y.objGetById(ag);if(af===false){ae=ag;ag={}}}else{ae=ag.name}if(ae==="map"){af=T}if(!af){af=[];if(ag.id){a.each(b(ag.id),function(ah,ai){af.push(Y.getById(ai,false,ad)||Y.objGetById(ai))});if(!a.isArray(ag.id)){af=af[0]}}else{a.each(ae?b(ae):[N],function(ai,ah){var aj;if(ag.first){aj=Y.get(ah,false,ag.tag,ad);if(aj){af.push(aj)}}else{if(ag.all){a.each(Y.all(ah,ag.tag,ad),function(ak,al){af.push(al)})}else{aj=Y.get(ah,true,ag.tag,ad);if(aj){af.push(aj)}}}});if(!ag.all&&!a.isArray(ae)){af=af[0]}}}af=a.isArray(af)||!ag.all?af:[af];if(ac){return af}else{S(ab,af)}};this.getdistance=function(ab){var ac;ab.opts.origins=b(ab.opts.origins);for(ac=0;ac<ab.opts.origins.length;ac++){ab.opts.origins[ac]=K(ab.opts.origins[ac],true)}ab.opts.destinations=b(ab.opts.destinations);for(ac=0;ac<ab.opts.destinations.length;ac++){ab.opts.destinations[ac]=K(ab.opts.destinations[ac],true)}h().getDistanceMatrix(ab.opts,function(ad,ae){P(ab,ae===google.maps.DistanceMatrixStatus.OK?ad:false,ae);Z.ack()})};this.trigger=function(ab){if(typeof ab.todo==="string"){google.maps.event.trigger(T,ab.todo)}else{var ac=[T,ab.todo.eventName];if(ab.todo.var_args){a.each(ab.todo.var_args,function(ad,ae){ac.push(ae)})}google.maps.event.trigger.apply(google.maps.event,ac)}P(ab);Z.ack()}}function z(P){var O;if(!typeof P==="object"||!P.hasOwnProperty("get")){return false}for(O in P){if(O!=="get"){return false}}return !P.get.hasOwnProperty("callback")}a.fn.gmap3=function(){var P,Q=[],O=true,R=[];w();for(P=0;P<arguments.length;P++){if(arguments[P]){Q.push(arguments[P])}}if(!Q.length){Q.push("map")}a.each(this,function(){var S=a(this),T=S.data("gmap3");O=false;if(!T){T=new u(S);S.data("gmap3",T)}if(Q.length===1&&(Q[0]==="get"||z(Q[0]))){if(Q[0]==="get"){R.push(T.get("map",true))}else{R.push(T.get(Q[0].get,true,Q[0].get.full))}}else{T._plan(Q)}});if(R.length){if(R.length===1){return R[0]}else{return R}}return this}})(jQuery);(function(d,a){var b=null;function c(a3,a1){this.setupOptions={url:(a3||null),flashVersion:8,debugMode:true,debugFlash:false,useConsole:true,consoleOnly:true,waitForWindowLoad:false,bgColor:"#ffffff",useHighPerformance:false,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1000,wmode:null,allowScriptAccess:"always",useFlashBlock:false,useHTML5Audio:true,html5Test:/^(probably|maybe)$/i,preferFlash:true,noSWFCache:false,idPrefix:"sound"};this.defaultOptions={autoLoad:false,autoPlay:false,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:true,multiShotEvents:false,position:null,pan:0,stream:true,to:null,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:false},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.movieID="sm2-container";this.id=(a1||"sm2movie");this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130512";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=false;this.ignoreFlash=false;var a2,aZ=this,R=null,K=null,aY="soundManager",a0=aY+": ",S="HTML5::",af,bd=navigator.userAgent,bk=d.location.href.toString(),B=document,E,aU,ai,O,aK=[],q=true,r,v=false,g=false,y=false,z=false,bi=false,e,bh=0,aj,aB,h,H,f,aS,an,t,bf,aV,V,a7,al,aR,C,bj,w,P,o,m,aT,ak,p=["log","info","warn","error"],s=8,A,I,aI,aL=null,aM=null,a6,L,Q,a8,bb,az,aP,n,ag,bg=false,am=false,a4,a5,ba,U=0,T=null,aO,aA=[],l,aE=null,J,ac,aa,ab,ad,D,a9,G,aX=Array.prototype.slice,be=false,ay,X,u,j,Z,aW,N,bl,ah=0,ao=bd.match(/(ipad|iphone|ipod)/i),ap=bd.match(/android/i),au=bd.match(/msie/i),ax=bd.match(/webkit/i),aw=(bd.match(/safari/i)&&!bd.match(/chrome/i)),av=(bd.match(/opera/i)),ar=(bd.match(/firefox/i)),aC=(bd.match(/(mobile|pre\/|xoom)/i)||ao||ap),aq=(!bk.match(/usehtml5audio/i)&&!bk.match(/sm2\-ignorebadua/i)&&aw&&!bd.match(/silk/i)&&bd.match(/OS X 10_6_([3-7])/i)),W=(d.console!==a&&console.log!==a),at=(B.hasFocus!==a?B.hasFocus():null),bc=(aw&&(B.hasFocus===a||!B.hasFocus())),aJ=!bc,M=/(mp3|mp4|mpa|m4a|m4b)/i,aD=1000,F="about:blank",aN=(B.location?B.location.protocol.match(/http/i):null),ae=(!aN?"http://":""),aF=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,aH=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],aG=new RegExp("\\.("+aH.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!aN;a8={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=(function(){try{return(Audio!==a&&(av&&opera!==a&&opera.version()<10?new Audio(null):new Audio()).canPlayType!==a)}catch(bm){return false}}());this.setup=function(bn){var bm=(!aZ.url);if(bn!==a&&y&&aE&&aZ.ok()&&(bn.flashVersion!==a||bn.url!==a||bn.html5Test!==a)){n(a6("setupLate"))}h(bn);if(bn){if(bm&&w&&bn.url!==a){aZ.beginDelayedInit()}if(!w&&bn.url!==a&&B.readyState==="complete"){setTimeout(C,1)}}return aZ};this.ok=function(){return(aE?(y&&!z):(aZ.useHTML5Audio&&aZ.hasHTML5))};this.supported=this.ok;this.getMovie=function(bm){return af(bm)||B[bm]||d[bm]};this.createSound=function(bq,bm){var bn,bo,br,bs=null;bn=aY+".createSound(): ";bo=bn+a6(!y?"notReady":"notOK");if(!y||!aZ.ok()){n(bo);return false}if(bm!==a){bq={id:bq,url:bm}}br=aB(bq);br.url=aO(br.url);if(br.id===undefined){br.id=aZ.setupOptions.idPrefix+(ah++)}if(br.id.toString().charAt(0).match(/^[0-9]$/)){aZ._wD(bn+a6("badID",br.id),2)}aZ._wD(bn+br.id+(br.url?" ("+br.url+")":""),1);if(ag(br.id,true)){aZ._wD(bn+br.id+" exists",1);return aZ.sounds[br.id]}function bp(){br=az(br);aZ.sounds[br.id]=new a2(br);aZ.soundIDs.push(br.id);return aZ.sounds[br.id]}if(ac(br)){bs=bp();aZ._wD(br.id+": Using HTML5");bs._setup_html5(br)}else{if(aZ.html5Only){aZ._wD(br.id+": No HTML5 support for this sound, and no Flash. Exiting.");return bp()}if(aZ.html5.usingFlash&&br.url&&br.url.match(/data\:/i)){aZ._wD(br.id+": data: URIs not supported via Flash. Exiting.");return bp()}if(O>8){if(br.isMovieStar===null){br.isMovieStar=!!(br.serverURL||(br.type?br.type.match(aF):false)||(br.url&&br.url.match(aG)))}if(br.isMovieStar){aZ._wD(bn+"using MovieStar handling");if(br.loops>1){e("noNSLoop")}}}br=aP(br,bn);bs=bp();if(O===8){K._createSound(br.id,br.loops||1,br.usePolicyFile)}else{K._createSound(br.id,br.url,br.usePeakData,br.useWaveformData,br.useEQData,br.isMovieStar,(br.isMovieStar?br.bufferTime:false),br.loops||1,br.serverURL,br.duration||null,br.autoPlay,true,br.autoLoad,br.usePolicyFile);if(!br.serverURL){bs.connected=true;if(br.onconnect){br.onconnect.apply(bs)}}}if(!br.serverURL&&(br.autoLoad||br.autoPlay)){bs.load(br)}}if(!br.serverURL&&br.autoPlay){bs.play()}return bs};this.destroySound=function(bp,bm){if(!ag(bp)){return false}var bo=aZ.sounds[bp],bn;bo._iO={};bo.stop();bo.unload();for(bn=0;bn<aZ.soundIDs.length;bn++){if(aZ.soundIDs[bn]===bp){aZ.soundIDs.splice(bn,1);break}}if(!bm){bo.destruct(true)}bo=null;delete aZ.sounds[bp];return true};this.load=function(bn,bm){if(!ag(bn)){return false}return aZ.sounds[bn].load(bm)};this.unload=function(bm){if(!ag(bm)){return false}return aZ.sounds[bm].unload()};this.onPosition=function(bp,bm,bn,bo){if(!ag(bp)){return false}return aZ.sounds[bp].onposition(bm,bn,bo)};this.onposition=this.onPosition;this.clearOnPosition=function(bo,bm,bn){if(!ag(bo)){return false}return aZ.sounds[bo].clearOnPosition(bm,bn)};this.play=function(bp,bm){var bo=null,bn=(bm&&!(bm instanceof Object));if(!y||!aZ.ok()){n(aY+".play(): "+a6(!y?"notReady":"notOK"));return false}if(!ag(bp,bn)){if(!bn){return false}if(bn){bm={url:bm}}if(bm&&bm.url){aZ._wD(aY+'.play(): Attempting to create "'+bp+'"',1);bm.id=bp;bo=aZ.createSound(bm).play()}}else{if(bn){bm={url:bm}}}if(bo===null){bo=aZ.sounds[bp].play(bm)}return bo};this.start=this.play;this.setPosition=function(bn,bm){if(!ag(bn)){return false}return aZ.sounds[bn].setPosition(bm)};this.stop=function(bm){if(!ag(bm)){return false}aZ._wD(aY+".stop("+bm+")",1);return aZ.sounds[bm].stop()};this.stopAll=function(){var bm;aZ._wD(aY+".stopAll()",1);for(bm in aZ.sounds){if(aZ.sounds.hasOwnProperty(bm)){aZ.sounds[bm].stop()}}};this.pause=function(bm){if(!ag(bm)){return false}return aZ.sounds[bm].pause()};this.pauseAll=function(){var bm;for(bm=aZ.soundIDs.length-1;bm>=0;bm--){aZ.sounds[aZ.soundIDs[bm]].pause()}};this.resume=function(bm){if(!ag(bm)){return false}return aZ.sounds[bm].resume()};this.resumeAll=function(){var bm;for(bm=aZ.soundIDs.length-1;bm>=0;bm--){aZ.sounds[aZ.soundIDs[bm]].resume()}};this.togglePause=function(bm){if(!ag(bm)){return false}return aZ.sounds[bm].togglePause()};this.setPan=function(bn,bm){if(!ag(bn)){return false}return aZ.sounds[bn].setPan(bm)};this.setVolume=function(bn,bm){if(!ag(bn)){return false}return aZ.sounds[bn].setVolume(bm)};this.mute=function(bn){var bm=0;if(bn instanceof String){bn=null}if(!bn){aZ._wD(aY+".mute(): Muting all sounds");for(bm=aZ.soundIDs.length-1;bm>=0;bm--){aZ.sounds[aZ.soundIDs[bm]].mute()}aZ.muted=true}else{if(!ag(bn)){return false}aZ._wD(aY+'.mute(): Muting "'+bn+'"');return aZ.sounds[bn].mute()}return true};this.muteAll=function(){aZ.mute()};this.unmute=function(bn){var bm;if(bn instanceof String){bn=null}if(!bn){aZ._wD(aY+".unmute(): Unmuting all sounds");for(bm=aZ.soundIDs.length-1;bm>=0;bm--){aZ.sounds[aZ.soundIDs[bm]].unmute()}aZ.muted=false}else{if(!ag(bn)){return false}aZ._wD(aY+'.unmute(): Unmuting "'+bn+'"');return aZ.sounds[bn].unmute()}return true};this.unmuteAll=function(){aZ.unmute()};this.toggleMute=function(bm){if(!ag(bm)){return false}return aZ.sounds[bm].toggleMute()};this.getMemoryUse=function(){var bm=0;if(K&&O!==8){bm=parseInt(K._getMemoryUse(),10)}return bm};this.disable=function(bm){var bn;if(bm===a){bm=false}if(z){return false}z=true;e("shutdown",1);for(bn=aZ.soundIDs.length-1;bn>=0;bn--){A(aZ.sounds[aZ.soundIDs[bn]])}aj(bm);G.remove(d,"load",an);return true};this.canPlayMIME=function(bn){var bm;if(aZ.hasHTML5){bm=aa({type:bn})}if(!bm&&aE){bm=(bn&&aZ.ok()?!!((O>8?bn.match(aF):null)||bn.match(aZ.mimePattern)):null)}return bm};this.canPlayURL=function(bn){var bm;if(aZ.hasHTML5){bm=aa({url:bn})}if(!bm&&aE){bm=(bn&&aZ.ok()?!!(bn.match(aZ.filePattern)):null)}return bm};this.canPlayLink=function(bm){if(bm.type!==a&&bm.type){if(aZ.canPlayMIME(bm.type)){return true}}return aZ.canPlayURL(bm.href)};this.getSoundById=function(bo,bm){if(!bo){return null}var bn=aZ.sounds[bo];if(!bn&&!bm){aZ._wD(aY+'.getSoundById(): Sound "'+bo+'" not found.',2)}return bn};this.onready=function(bm,bn){var bp="onready",bo=false;if(typeof bm==="function"){if(y){aZ._wD(a6("queue",bp))}if(!bn){bn=d}f(bp,bm,bn);aS();bo=true}else{throw a6("needFunction",bp)}return bo};this.ontimeout=function(bm,bn){var bp="ontimeout",bo=false;if(typeof bm==="function"){if(y){aZ._wD(a6("queue",bp))}if(!bn){bn=d}f(bp,bm,bn);aS({type:bp});bo=true}else{throw a6("needFunction",bp)}return bo};this._writeDebug=function(bp,bq){var bo="soundmanager-debug",bm,bn;if(!aZ.debugMode){return false}if(W&&aZ.useConsole){if(bq&&typeof bq==="object"){console.log(bp,bq)}else{if(p[bq]!==a){console[p[bq]](bp)}else{console.log(bp)}}if(aZ.consoleOnly){return true}}bm=af(bo);if(!bm){return false}bn=B.createElement("div");if(++bh%2===0){bn.className="sm2-alt"}if(bq===a){bq=0}else{bq=parseInt(bq,10)}bn.appendChild(B.createTextNode(bp));if(bq){if(bq>=2){bn.style.fontWeight="bold"}if(bq===3){bn.style.color="#ff3333"}}bm.insertBefore(bn,bm.firstChild);bm=null;return true};if(bk.indexOf("sm2-debug=alert")!==-1){this._writeDebug=function(bm){d.alert(bm)}}this._wD=this._writeDebug;this._debug=function(){var bm,bn;e("currentObj",1);for(bm=0,bn=aZ.soundIDs.length;bm<bn;bm++){aZ.sounds[aZ.soundIDs[bm]]._debug()}};this.reboot=function(br,bn){if(aZ.soundIDs.length){aZ._wD("Destroying "+aZ.soundIDs.length+" SMSound object"+(aZ.soundIDs.length!==1?"s":"")+"...")}var bo,bp,bq;for(bo=aZ.soundIDs.length-1;bo>=0;bo--){aZ.sounds[aZ.soundIDs[bo]].destruct()}if(K){try{if(au){aM=K.innerHTML}aL=K.parentNode.removeChild(K)}catch(bm){e("badRemove",2)}}aM=aL=aE=K=null;aZ.enabled=w=y=bg=am=v=g=z=be=aZ.swfLoaded=false;aZ.soundIDs=[];aZ.sounds={};ah=0;if(!br){for(bo in aK){if(aK.hasOwnProperty(bo)){for(bp=0,bq=aK[bo].length;bp<bq;bp++){aK[bo][bp].fired=false}}}}else{aK=[]}if(!bn){aZ._wD(aY+": Rebooting...")}aZ.html5={usingFlash:null};aZ.flash={};aZ.html5Only=false;aZ.ignoreFlash=false;d.setTimeout(function(){aR();if(!bn){aZ.beginDelayedInit()}},20);return aZ};this.reset=function(){e("reset");return aZ.reboot(true,true)};this.getMoviePercent=function(){return(K&&"PercentLoaded" in K?K.PercentLoaded():null)};this.beginDelayedInit=function(){bi=true;C();setTimeout(function(){if(am){return false}o();al();am=true;return true},20);t()};this.destruct=function(){aZ._wD(aY+".destruct()");aZ.disable(true)};a2=function(bv){var by=this,bx,bm,bw,bA,bz,bo,bs=false,bu=[],bt=0,bp,bn,br=null,bq,bB;bq={duration:null,time:null};this.id=bv.id;this.sID=this.id;this.url=bv.url;this.options=aB(bv);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;bB=(this.url?false:true);this.id3={};this._debug=function(){aZ._wD(by.id+": Merged options:",by.options)};this.load=function(bE){var bF=null,bD;if(bE!==a){by._iO=aB(bE,by.options)}else{bE=by.options;by._iO=bE;if(br&&br!==by.url){e("manURL");by._iO.url=by.url;by.url=null}}if(!by._iO.url){by._iO.url=by.url}by._iO.url=aO(by._iO.url);by.instanceOptions=by._iO;bD=by._iO;aZ._wD(by.id+": load ("+bD.url+")");if(!bD.url&&!by.url){aZ._wD(by.id+": load(): url is unassigned. Exiting.",2);return by}if(!by.isHTML5&&O===8&&!by.url&&!bD.autoPlay){aZ._wD(by.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1)}if(bD.url===by.url&&by.readyState!==0&&by.readyState!==2){e("onURL",1);if(by.readyState===3&&bD.onload){bl(by,function(){bD.onload.apply(by,[(!!by.duration)])})}return by}by.loaded=false;by.readyState=1;by.playState=0;by.id3={};if(ac(bD)){bF=by._setup_html5(bD);if(!bF._called_load){by._html5_canplay=false;if(by.url!==bD.url){aZ._wD(e("manURL")+": "+bD.url);by._a.src=bD.url;by.setPosition(0)}by._a.autobuffer="auto";by._a.preload="auto";by._a._called_load=true;if(bD.autoPlay){by.play()}}else{aZ._wD(by.id+": Ignoring request to load again")}}else{if(aZ.html5Only){aZ._wD(by.id+": No flash support. Exiting.");return by}if(by._iO.url&&by._iO.url.match(/data\:/i)){aZ._wD(by.id+": data: URIs not supported via Flash. Exiting.");return by}try{by.isHTML5=false;by._iO=aP(az(bD));bD=by._iO;if(O===8){K._load(by.id,bD.url,bD.stream,bD.autoPlay,bD.usePolicyFile)}else{K._load(by.id,bD.url,!!(bD.stream),!!(bD.autoPlay),bD.loops||1,!!(bD.autoLoad),bD.usePolicyFile)}}catch(bC){e("smError",2);r("onload",false);m({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:true})}}by.url=bD.url;return by};this.unload=function(){if(by.readyState!==0){aZ._wD(by.id+": unload()");if(!by.isHTML5){if(O===8){K._unload(by.id,F)}else{K._unload(by.id)}}else{bA();if(by._a){by._a.pause();br=ad(by._a)}}bx()}return by};this.destruct=function(bC){aZ._wD(by.id+": Destruct");if(!by.isHTML5){by._iO.onfailure=null;K._destroySound(by.id)}else{bA();if(by._a){by._a.pause();ad(by._a);if(!be){bw()}by._a._s=null;by._a=null}}if(!bC){aZ.destroySound(by.id,true)}};this.play=function(bL,bC){var bH,bE,bD,bK,bF,bJ,bI,bM=true,bG=null;bH=by.id+": play(): ";bC=(bC===a?true:bC);if(!bL){bL={}}if(by.url){by._iO.url=by.url}by._iO=aB(by._iO,by.options);by._iO=aB(bL,by._iO);by._iO.url=aO(by._iO.url);by.instanceOptions=by._iO;if(!by.isHTML5&&by._iO.serverURL&&!by.connected){if(!by.getAutoPlay()){aZ._wD(bH+" Netstream not connected yet - setting autoPlay");by.setAutoPlay(true)}return by}if(ac(by._iO)){by._setup_html5(by._iO);bz()}if(by.playState===1&&!by.paused){bE=by._iO.multiShot;if(!bE){aZ._wD(bH+"Already playing (one-shot)",1);if(by.isHTML5){by.setPosition(by._iO.position)}bG=by}else{aZ._wD(bH+"Already playing (multi-shot)",1)}}if(bG!==null){return bG}if(bL.url&&bL.url!==by.url){if(!by.readyState&&!by.isHTML5&&O===8&&bB){bB=false}else{by.load(by._iO)}}if(!by.loaded){if(by.readyState===0){aZ._wD(bH+"Attempting to load");if(!by.isHTML5&&!aZ.html5Only){by._iO.autoPlay=true;by.load(by._iO)}else{if(by.isHTML5){by.load(by._iO)}else{aZ._wD(bH+"Unsupported type. Exiting.");bG=by}}by.instanceOptions=by._iO}else{if(by.readyState===2){aZ._wD(bH+"Could not load - exiting",2);bG=by}else{aZ._wD(bH+"Loading - attempting to play...")}}}else{aZ._wD(bH.substr(0,bH.lastIndexOf(":")))}if(bG!==null){return bG}if(!by.isHTML5&&O===9&&by.position>0&&by.position===by.duration){aZ._wD(bH+"Sound at end, resetting to position:0");bL.position=0}if(by.paused&&by.position>=0&&(!by._iO.serverURL||by.position>0)){aZ._wD(bH+"Resuming from paused state",1);by.resume()}else{by._iO=aB(bL,by._iO);if(by._iO.from!==null&&by._iO.to!==null&&by.instanceCount===0&&by.playState===0&&!by._iO.serverURL){bK=function(){by._iO=aB(bL,by._iO);by.play(by._iO)};if(by.isHTML5&&!by._html5_canplay){aZ._wD(bH+"Beginning load for from/to case");by.load({oncanplay:bK});bG=false}else{if(!by.isHTML5&&!by.loaded&&(!by.readyState||by.readyState!==2)){aZ._wD(bH+"Preloading for from/to case");by.load({onload:bK});bG=false}}if(bG!==null){return bG}by._iO=bn()}if(!by.instanceCount||by._iO.multiShotEvents||(by.isHTML5&&by._iO.multiShot&&!be)||(!by.isHTML5&&O>8&&!by.getAutoPlay())){by.instanceCount++}if(by._iO.onposition&&by.playState===0){bo(by)}by.playState=1;by.paused=false;by.position=(by._iO.position!==a&&!isNaN(by._iO.position)?by._iO.position:0);if(!by.isHTML5){by._iO=aP(az(by._iO))}if(by._iO.onplay&&bC){by._iO.onplay.apply(by);bs=true}by.setVolume(by._iO.volume,true);by.setPan(by._iO.pan,true);if(!by.isHTML5){bM=K._start(by.id,by._iO.loops||1,(O===9?by.position:by.position/aD),by._iO.multiShot||false);if(O===9&&!bM){aZ._wD(bH+"No sound hardware, or 32-sound ceiling hit",2);if(by._iO.onplayerror){by._iO.onplayerror.apply(by)}}}else{if(by.instanceCount<2){bz();bD=by._setup_html5();by.setPosition(by._iO.position);bD.play()}else{aZ._wD(by.id+": Cloning Audio() for instance #"+by.instanceCount+"...");bF=new Audio(by._iO.url);bJ=function(){G.remove(bF,"onended",bJ);by._onfinish(by);ad(bF);bF=null};bI=function(){G.remove(bF,"canplay",bI);try{bF.currentTime=by._iO.position/aD}catch(bN){n(by.id+": multiShot play() failed to apply position of "+(by._iO.position/aD))}bF.play()};G.add(bF,"ended",bJ);if(by._iO.position){G.add(bF,"canplay",bI)}else{bF.play()}}}}return by};this.start=this.play;this.stop=function(bC){var bD=by._iO,bE;if(by.playState===1){aZ._wD(by.id+": stop()");by._onbufferchange(0);by._resetOnPosition(0);by.paused=false;if(!by.isHTML5){by.playState=0}bp();if(bD.to){by.clearOnPosition(bD.to)}if(!by.isHTML5){K._stop(by.id,bC);if(bD.serverURL){by.unload()}}else{if(by._a){bE=by.position;by.setPosition(0);by.position=bE;by._a.pause();by.playState=0;by._onTimer();bA()}}by.instanceCount=0;by._iO={};if(bD.onstop){bD.onstop.apply(by)}}return by};this.setAutoPlay=function(bC){aZ._wD(by.id+": Autoplay turned "+(bC?"on":"off"));by._iO.autoPlay=bC;if(!by.isHTML5){K._setAutoPlay(by.id,bC);if(bC){if(!by.instanceCount&&by.readyState===1){by.instanceCount++;aZ._wD(by.id+": Incremented instance count to "+by.instanceCount)}}}};this.getAutoPlay=function(){return by._iO.autoPlay};this.setPosition=function(bD){if(bD===a){bD=0}var bF,bG,bE=(by.isHTML5?Math.max(bD,0):Math.min(by.duration||by._iO.duration,Math.max(bD,0)));by.position=bE;bG=by.position/aD;by._resetOnPosition(by.position);by._iO.position=bE;if(!by.isHTML5){bF=(O===9?by.position:bG);if(by.readyState&&by.readyState!==2){K._setPosition(by.id,bF,(by.paused||!by.playState),by._iO.multiShot)}}else{if(by._a){if(by._html5_canplay){if(by._a.currentTime!==bG){aZ._wD(by.id+": setPosition("+bG+")");try{by._a.currentTime=bG;if(by.playState===0||by.paused){by._a.pause()}}catch(bC){aZ._wD(by.id+": setPosition("+bG+") failed: "+bC.message,2)}}}else{if(bG){aZ._wD(by.id+": setPosition("+bG+"): Cannot seek yet, sound not ready",2);return by}}if(by.paused){by._onTimer(true)}}}return by};this.pause=function(bC){if(by.paused||(by.playState===0&&by.readyState!==1)){return by}aZ._wD(by.id+": pause()");by.paused=true;if(!by.isHTML5){if(bC||bC===a){K._pause(by.id,by._iO.multiShot)}}else{by._setup_html5().pause();bA()}if(by._iO.onpause){by._iO.onpause.apply(by)}return by};this.resume=function(){var bC=by._iO;if(!by.paused){return by}aZ._wD(by.id+": resume()");by.paused=false;by.playState=1;if(!by.isHTML5){if(bC.isMovieStar&&!bC.serverURL){by.setPosition(by.position)}K._pause(by.id,bC.multiShot)}else{by._setup_html5().play();bz()}if(!bs&&bC.onplay){bC.onplay.apply(by);bs=true}else{if(bC.onresume){bC.onresume.apply(by)}}return by};this.togglePause=function(){aZ._wD(by.id+": togglePause()");if(by.playState===0){by.play({position:(O===9&&!by.isHTML5?by.position:by.position/aD)});return by}if(by.paused){by.resume()}else{by.pause()}return by};this.setPan=function(bD,bC){if(bD===a){bD=0}if(bC===a){bC=false}if(!by.isHTML5){K._setPan(by.id,bD)}by._iO.pan=bD;if(!bC){by.pan=bD;by.options.pan=bD}return by};this.setVolume=function(bD,bC){if(bD===a){bD=100}if(bC===a){bC=false}if(!by.isHTML5){K._setVolume(by.id,(aZ.muted&&!by.muted)||by.muted?0:bD)}else{if(by._a){by._a.volume=Math.max(0,Math.min(1,bD/100))}}by._iO.volume=bD;if(!bC){by.volume=bD;by.options.volume=bD}return by};this.mute=function(){by.muted=true;if(!by.isHTML5){K._setVolume(by.id,0)}else{if(by._a){by._a.muted=true}}return by};this.unmute=function(){by.muted=false;var bC=(by._iO.volume!==a);if(!by.isHTML5){K._setVolume(by.id,bC?by._iO.volume:by.options.volume)}else{if(by._a){by._a.muted=false}}return by};this.toggleMute=function(){return(by.muted?by.unmute():by.mute())};this.onPosition=function(bC,bD,bE){bu.push({position:parseInt(bC,10),method:bD,scope:(bE!==a?bE:by),fired:false});return by};this.onposition=this.onPosition;this.clearOnPosition=function(bD,bE){var bC;bD=parseInt(bD,10);if(isNaN(bD)){return false}for(bC=0;bC<bu.length;bC++){if(bD===bu[bC].position){if(!bE||(bE===bu[bC].method)){if(bu[bC].fired){bt--}bu.splice(bC,1)}}}};this._processOnPosition=function(){var bC,bD,bE=bu.length;if(!bE||!by.playState||bt>=bE){return false}for(bC=bE-1;bC>=0;bC--){bD=bu[bC];if(!bD.fired&&by.position>=bD.position){bD.fired=true;bt++;bD.method.apply(bD.scope,[bD.position])}}return true};this._resetOnPosition=function(bF){var bC,bD,bE=bu.length;if(!bE){return false}for(bC=bE-1;bC>=0;bC--){bD=bu[bC];if(bD.fired&&bF<=bD.position){bD.fired=false;bt--}}return true};bn=function(){var bE=by._iO,bD=bE.from,bG=bE.to,bF,bC;bC=function(){aZ._wD(by.id+': "To" time of '+bG+" reached.");by.clearOnPosition(bG,bC);by.stop()};bF=function(){aZ._wD(by.id+': Playing "from" '+bD);if(bG!==null&&!isNaN(bG)){by.onPosition(bG,bC)}};if(bD!==null&&!isNaN(bD)){bE.position=bD;bE.multiShot=false;bF()}return bE};bo=function(){var bC,bD=by._iO.onposition;if(bD){for(bC in bD){if(bD.hasOwnProperty(bC)){by.onPosition(parseInt(bC,10),bD[bC])}}}};bp=function(){var bC,bD=by._iO.onposition;if(bD){for(bC in bD){if(bD.hasOwnProperty(bC)){by.clearOnPosition(parseInt(bC,10))}}}};bz=function(){if(by.isHTML5){a4(by)}};bA=function(){if(by.isHTML5){a5(by)}};bx=function(bC){if(!bC){bu=[];bt=0}bs=false;by._hasTimer=null;by._a=null;by._html5_canplay=false;by.bytesLoaded=null;by.bytesTotal=null;by.duration=(by._iO&&by._iO.duration?by._iO.duration:null);by.durationEstimate=null;by.buffered=[];by.eqData=[];by.eqData.left=[];by.eqData.right=[];by.failures=0;by.isBuffering=false;by.instanceOptions={};by.instanceCount=0;by.loaded=false;by.metadata={};by.readyState=0;by.muted=false;by.paused=false;by.peakData={left:0,right:0};by.waveformData={left:[],right:[]};by.playState=0;by.position=null;by.id3={}};bx();this._onTimer=function(bC){var bD,bE=false,bF,bG={};if(by._hasTimer||bC){if(by._a&&(bC||((by.playState>0||by.readyState===1)&&!by.paused))){bD=by._get_html5_duration();if(bD!==bq.duration){bq.duration=bD;by.duration=bD;bE=true}by.durationEstimate=by.duration;bF=(by._a.currentTime*aD||0);if(bF!==bq.time){bq.time=bF;bE=true}if(bE||bC){by._whileplaying(bF,bG,bG,bG,bG)}}return bE}};this._get_html5_duration=function(){var bD=by._iO,bC=(by._a&&by._a.duration?by._a.duration*aD:(bD&&bD.duration?bD.duration:null)),bE=(bC&&!isNaN(bC)&&bC!==Infinity?bC:null);return bE};this._apply_loop=function(bC,bD){if(!bC.loop&&bD>1){aZ._wD("Note: Native HTML5 looping is infinite.",1)}bC.loop=(bD>1?"loop":"")};this._setup_html5=function(bF){var bE=aB(by._iO,bF),bC=be?R:by._a,bD=decodeURI(bE.url),bG;if(be){if(bD===decodeURI(ay)){bG=true}}else{if(bD===decodeURI(br)){bG=true}}if(bC){if(bC._s){if(be){if(bC._s&&bC._s.playState&&!bG){bC._s.stop()}}else{if(!be&&bD===decodeURI(br)){by._apply_loop(bC,bE.loops);return bC}}}if(!bG){bx(false);bC.src=bE.url;by.url=bE.url;br=bE.url;ay=bE.url;bC._called_load=false}}else{if(bE.autoLoad||bE.autoPlay){by._a=new Audio(bE.url)}else{by._a=(av&&opera.version()<10?new Audio(null):new Audio())}bC=by._a;bC._called_load=false;if(be){R=bC}}by.isHTML5=true;by._a=bC;bC._s=by;bm();by._apply_loop(bC,bE.loops);if(bE.autoLoad||bE.autoPlay){by.load()}else{bC.autobuffer=false;bC.preload="auto"}return bC};bm=function(){if(by._a._added_events){return false}var bD;function bC(bF,bG,bE){return by._a?by._a.addEventListener(bF,bG,bE||false):null}by._a._added_events=true;for(bD in Z){if(Z.hasOwnProperty(bD)){bC(bD,Z[bD])}}return true};bw=function(){var bC;function bD(bF,bG,bE){return(by._a?by._a.removeEventListener(bF,bG,bE||false):null)}aZ._wD(by.id+": Removing event listeners");by._a._added_events=false;for(bC in Z){if(Z.hasOwnProperty(bC)){bD(bC,Z[bC])}}};this._onload=function(bE){var bC,bD=!!bE||(!by.isHTML5&&O===8&&by.duration);bC=by.id+": ";aZ._wD(bC+(bD?"onload()":"Failed to load / invalid sound?"+(!by.duration?" Zero-length duration reported.":" -")+" ("+by.url+")"),(bD?1:2));if(!bD&&!by.isHTML5){if(aZ.sandbox.noRemote===true){aZ._wD(bC+a6("noNet"),1)}if(aZ.sandbox.noLocal===true){aZ._wD(bC+a6("noLocal"),1)}}by.loaded=bD;by.readyState=bD?3:2;by._onbufferchange(0);if(by._iO.onload){bl(by,function(){by._iO.onload.apply(by,[bD])})}return true};this._onbufferchange=function(bC){if(by.playState===0){return false}if((bC&&by.isBuffering)||(!bC&&!by.isBuffering)){return false}by.isBuffering=(bC===1);if(by._iO.onbufferchange){aZ._wD(by.id+": Buffer state change: "+bC);by._iO.onbufferchange.apply(by)}return true};this._onsuspend=function(){if(by._iO.onsuspend){aZ._wD(by.id+": Playback suspended");by._iO.onsuspend.apply(by)}return true};this._onfailure=function(bE,bD,bC){by.failures++;aZ._wD(by.id+": Failures = "+by.failures);if(by._iO.onfailure&&by.failures===1){by._iO.onfailure(by,bE,bD,bC)}else{aZ._wD(by.id+": Ignoring failure")}};this._onfinish=function(){var bC=by._iO.onfinish;by._onbufferchange(0);by._resetOnPosition(0);if(by.instanceCount){by.instanceCount--;if(!by.instanceCount){bp();by.playState=0;by.paused=false;by.instanceCount=0;by.instanceOptions={};by._iO={};bA();if(by.isHTML5){by.position=0}}if(!by.instanceCount||by._iO.multiShotEvents){if(bC){aZ._wD(by.id+": onfinish()");bl(by,function(){bC.apply(by)})}}}};this._whileloading=function(bE,bF,bG,bD){var bC=by._iO;by.bytesLoaded=bE;by.bytesTotal=bF;by.duration=Math.floor(bG);by.bufferLength=bD;if(!by.isHTML5&&!bC.isMovieStar){if(bC.duration){by.durationEstimate=(by.duration>bC.duration)?by.duration:bC.duration}else{by.durationEstimate=parseInt((by.bytesTotal/by.bytesLoaded)*by.duration,10)}}else{by.durationEstimate=by.duration}if(!by.isHTML5){by.buffered=[{start:0,end:by.duration}]}if((by.readyState!==3||by.isHTML5)&&bC.whileloading){bC.whileloading.apply(by)}};this._whileplaying=function(bE,bG,bH,bI,bF){var bD=by._iO,bC;if(isNaN(bE)||bE===null){return false}by.position=Math.max(0,bE);by._processOnPosition();if(!by.isHTML5&&O>8){if(bD.usePeakData&&bG!==a&&bG){by.peakData={left:bG.leftPeak,right:bG.rightPeak}}if(bD.useWaveformData&&bH!==a&&bH){by.waveformData={left:bH.split(","),right:bI.split(",")}}if(bD.useEQData){if(bF!==a&&bF&&bF.leftEQ){bC=bF.leftEQ.split(",");by.eqData=bC;by.eqData.left=bC;if(bF.rightEQ!==a&&bF.rightEQ){by.eqData.right=bF.rightEQ.split(",")}}}}if(by.playState===1){if(!by.isHTML5&&O===8&&!by.position&&by.isBuffering){by._onbufferchange(0)}if(bD.whileplaying){bD.whileplaying.apply(by)}}return true};this._oncaptiondata=function(bC){aZ._wD(by.id+": Caption data received.");by.captiondata=bC;if(by._iO.oncaptiondata){by._iO.oncaptiondata.apply(by,[bC])}};this._onmetadata=function(bG,bF){aZ._wD(by.id+": Metadata received.");var bE={},bC,bD;for(bC=0,bD=bG.length;bC<bD;bC++){bE[bG[bC]]=bF[bC]}by.metadata=bE;if(by._iO.onmetadata){by._iO.onmetadata.apply(by)}};this._onid3=function(bG,bF){aZ._wD(by.id+": ID3 data received.");var bE=[],bC,bD;for(bC=0,bD=bG.length;bC<bD;bC++){bE[bG[bC]]=bF[bC]}by.id3=aB(by.id3,bE);if(by._iO.onid3){by._iO.onid3.apply(by)}};this._onconnect=function(bC){bC=(bC===1);aZ._wD(by.id+": "+(bC?"Connected.":"Failed to connect? - "+by.url),(bC?1:2));by.connected=bC;if(bC){by.failures=0;if(ag(by.id)){if(by.getAutoPlay()){by.play(a,by.getAutoPlay())}else{if(by._iO.autoLoad){by.load()}}}if(by._iO.onconnect){by._iO.onconnect.apply(by,[bC])}}};this._ondataerror=function(bC){if(by.playState>0){aZ._wD(by.id+": Data error: "+bC);if(by._iO.ondataerror){by._iO.ondataerror.apply(by)}}};this._debug()};P=function(){return(B.body||B._docElement||B.getElementsByTagName("div")[0])};af=function(bm){return B.getElementById(bm)};aB=function(bq,bp){var bn=(bq||{}),bo,bm;bo=(bp===a?aZ.defaultOptions:bp);for(bm in bo){if(bo.hasOwnProperty(bm)&&bn[bm]===a){if(typeof bo[bm]!=="object"||bo[bm]===null){bn[bm]=bo[bm]}else{bn[bm]=aB(bn[bm],bo[bm])}}}return bn};bl=function(bn,bm){if(!bn.isHTML5&&O===8){d.setTimeout(bm,0)}else{bm()}};H={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};h=function(bp,bq){var bo,br=true,bn=(bq!==a),bs=aZ.setupOptions,bm=H;if(bp===a){br=[];for(bo in bs){if(bs.hasOwnProperty(bo)){br.push(bo)}}for(bo in bm){if(bm.hasOwnProperty(bo)){if(typeof aZ[bo]==="object"){br.push(bo+": {...}")}else{if(aZ[bo] instanceof Function){br.push(bo+": function() {...}")}else{br.push(bo)}}}}aZ._wD(a6("setup",br.join(", ")));return false}for(bo in bp){if(bp.hasOwnProperty(bo)){if(typeof bp[bo]!=="object"||bp[bo]===null||bp[bo] instanceof Array||bp[bo] instanceof RegExp){if(bn&&bm[bq]!==a){aZ[bq][bo]=bp[bo]}else{if(bs[bo]!==a){aZ.setupOptions[bo]=bp[bo];aZ[bo]=bp[bo]}else{if(bm[bo]===a){n(a6((aZ[bo]===a?"setupUndef":"setupError"),bo),2);br=false}else{if(aZ[bo] instanceof Function){aZ[bo].apply(aZ,(bp[bo] instanceof Array?bp[bo]:[bp[bo]]))}else{aZ[bo]=bp[bo]}}}}}else{if(bm[bo]===a){n(a6((aZ[bo]===a?"setupUndef":"setupError"),bo),2);br=false}else{return h(bp[bo],bo)}}}}return br};function aQ(bm){return(aZ.preferFlash&&X&&!aZ.ignoreFlash&&(aZ.flash[bm]!==a&&aZ.flash[bm]))}G=(function(){var bq=(d.attachEvent),bo={add:(bq?"attachEvent":"addEventListener"),remove:(bq?"detachEvent":"removeEventListener")};function bp(bu){var bs=aX.call(bu),bt=bs.length;if(bq){bs[1]="on"+bs[1];if(bt>3){bs.pop()}}else{if(bt===3){bs.push(false)}}return bs}function bn(bs,bv){var bt=bs.shift(),bu=[bo[bv]];if(bq){bt[bu](bs[0],bs[1])}else{bt[bu].apply(bt,bs)}}function bm(){bn(bp(arguments),"add")}function br(){bn(bp(arguments),"remove")}return{add:bm,remove:br}}());function Y(bm){return function(bn){var bp=this._s,bo;if(!bp||!bp._a){if(bp&&bp.id){aZ._wD(bp.id+": Ignoring "+bn.type)}else{aZ._wD(S+"Ignoring "+bn.type)}bo=null}else{bo=bm.call(this,bn)}return bo}}Z={abort:Y(function(){aZ._wD(this._s.id+": abort")}),canplay:Y(function(){var bo=this._s,bn;if(bo._html5_canplay){return true}bo._html5_canplay=true;aZ._wD(bo.id+": canplay");bo._onbufferchange(0);bn=(bo._iO.position!==a&&!isNaN(bo._iO.position)?bo._iO.position/aD:null);if(bo.position&&this.currentTime!==bn){aZ._wD(bo.id+": canplay: Setting position to "+bn);try{this.currentTime=bn}catch(bm){aZ._wD(bo.id+": canplay: Setting position of "+bn+" failed: "+bm.message,2)}}if(bo._iO._oncanplay){bo._iO._oncanplay()}}),canplaythrough:Y(function(){var bm=this._s;if(!bm.loaded){bm._onbufferchange(0);bm._whileloading(bm.bytesLoaded,bm.bytesTotal,bm._get_html5_duration());bm._onload(true)}}),ended:Y(function(){var bm=this._s;aZ._wD(bm.id+": ended");bm._onfinish()}),error:Y(function(){aZ._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(false)}),loadeddata:Y(function(){var bm=this._s;aZ._wD(bm.id+": loadeddata");if(!bm._loaded&&!aw){bm.duration=bm._get_html5_duration()}}),loadedmetadata:Y(function(){aZ._wD(this._s.id+": loadedmetadata")}),loadstart:Y(function(){aZ._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:Y(function(){this._s._onbufferchange(0)}),playing:Y(function(){aZ._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:Y(function(bn){var bt=this._s,bo,bq,bu,bm=0,bp=(bn.type==="progress"),bs=bn.target.buffered,br=(bn.loaded||0),bv=(bn.total||1);bt.buffered=[];if(bs&&bs.length){for(bo=0,bq=bs.length;bo<bq;bo++){bt.buffered.push({start:bs.start(bo)*aD,end:bs.end(bo)*aD})}bm=(bs.end(0)-bs.start(0))*aD;br=Math.min(1,bm/(bn.target.duration*aD));if(bp&&bs.length>1){bu=[];bq=bs.length;for(bo=0;bo<bq;bo++){bu.push(bn.target.buffered.start(bo)*aD+"-"+bn.target.buffered.end(bo)*aD)}aZ._wD(this._s.id+": progress, timeRanges: "+bu.join(", "))}if(bp&&!isNaN(br)){aZ._wD(this._s.id+": progress, "+Math.floor(br*100)+"% loaded")}}if(!isNaN(br)){bt._onbufferchange(0);bt._whileloading(br,bv,bt._get_html5_duration());if(br&&bv&&br===bv){Z.canplaythrough.call(this,bn)}}}),ratechange:Y(function(){aZ._wD(this._s.id+": ratechange")}),suspend:Y(function(bm){var bn=this._s;aZ._wD(this._s.id+": suspend");Z.progress.call(this,bm);bn._onsuspend()}),stalled:Y(function(){aZ._wD(this._s.id+": stalled")}),timeupdate:Y(function(){this._s._onTimer()}),waiting:Y(function(){var bm=this._s;aZ._wD(this._s.id+": waiting");bm._onbufferchange(1)})};ac=function(bm){var bn;if(!bm||(!bm.type&&!bm.url&&!bm.serverURL)){bn=false}else{if(bm.serverURL||(bm.type&&aQ(bm.type))){bn=false}else{bn=((bm.type?aa({type:bm.type}):aa({url:bm.url})||aZ.html5Only||bm.url.match(/data\:/i)))}}return bn};ad=function(bm){var bn;if(bm){bn=(aw&&!ao?null:(ar?F:null));bm.src=bn;if(bm._called_unload!==undefined){bm._called_load=false}}if(be){ay=null}return bn};aa=function(bq){if(!aZ.useHTML5Audio||!aZ.hasHTML5){return false}var bt=(bq.url||null),bp=(bq.type||null),bm=aZ.audioFormats,bs,br,bn,bo;if(bp&&aZ.html5[bp]!==a){return(aZ.html5[bp]&&!aQ(bp))}if(!ab){ab=[];for(bo in bm){if(bm.hasOwnProperty(bo)){ab.push(bo);if(bm[bo].related){ab=ab.concat(bm[bo].related)}}}ab=new RegExp("\\.("+ab.join("|")+")(\\?.*)?$","i")}bn=(bt?bt.toLowerCase().match(ab):null);if(!bn||!bn.length){if(!bp){bs=false}else{br=bp.indexOf(";");bn=(br!==-1?bp.substr(0,br):bp).substr(6)}}else{bn=bn[1]}if(bn&&aZ.html5[bn]!==a){bs=(aZ.html5[bn]&&!aQ(bn))}else{bp="audio/"+bn;bs=aZ.html5.canPlayType({type:bp});aZ.html5[bn]=bs;bs=(bs&&aZ.html5[bp]&&!aQ(bp))}return bs};a9=function(){if(!aZ.useHTML5Audio||!aZ.hasHTML5){aZ.html5.usingFlash=true;aE=true;return false}var bm=(Audio!==a?(av&&opera.version()<10?new Audio(null):new Audio()):null),bq,br,bs={},bn,bp;function bo(bx){var bt,bu,bw,by=false,bv=false;if(!bm||typeof bm.canPlayType!=="function"){return by}if(bx instanceof Array){for(bu=0,bw=bx.length;bu<bw;bu++){if(aZ.html5[bx[bu]]||bm.canPlayType(bx[bu]).match(aZ.html5Test)){bv=true;aZ.html5[bx[bu]]=true;aZ.flash[bx[bu]]=!!(bx[bu].match(M))}}by=bv}else{bt=(bm&&typeof bm.canPlayType==="function"?bm.canPlayType(bx):false);by=!!(bt&&(bt.match(aZ.html5Test)))}return by}bn=aZ.audioFormats;for(bq in bn){if(bn.hasOwnProperty(bq)){br="audio/"+bq;bs[bq]=bo(bn[bq].type);bs[br]=bs[bq];if(bq.match(M)){aZ.flash[bq]=true;aZ.flash[br]=true}else{aZ.flash[bq]=false;aZ.flash[br]=false}if(bn[bq]&&bn[bq].related){for(bp=bn[bq].related.length-1;bp>=0;bp--){bs["audio/"+bn[bq].related[bp]]=bs[bq];aZ.html5[bn[bq].related[bp]]=bs[bq];aZ.flash[bn[bq].related[bp]]=bs[bq]}}}}bs.canPlayType=(bm?bo:null);aZ.html5=aB(aZ.html5,bs);aZ.html5.usingFlash=J();aE=aZ.html5.usingFlash;return true};a7={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:aY+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:a0+"Verify that %s is a valid path.",tryDebug:"Try "+aY+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:a0+"Non-HTTP page ("+B.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:a0+"Special case: Waiting for SWF to load with window focus...",waitForever:a0+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:a0+"Waiting for 100% SWF load...",needFunction:a0+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:a0+"_debug(): Current sound objects",waitOnload:a0+"Waiting for window.onload()",docLoaded:a0+"Document already loaded",onload:a0+"initComplete(): calling soundManager.onload()",onloadOK:aY+".onload() complete",didInit:a0+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:a0+"Failed to remove Flash node.",shutdown:aY+".disable(): Shutting down",queue:a0+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+a8.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:a0+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:aY+".load(): current URL already assigned.",badFV:aY+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:a0+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:a0+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:aY+".setup(): allowed parameters: %s",setupError:aY+'.setup(): "%s" cannot be assigned with this method.',setupUndef:aY+'.setup(): Could not find option "%s"',setupLate:aY+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:a0+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:aY+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};a6=function(){var bm=aX.call(arguments),bp=bm.shift(),bq=(a7&&a7[bp]?a7[bp]:""),bn,bo;if(bq&&bm&&bm.length){for(bn=0,bo=bm.length;bn<bo;bn++){bq=bq.replace("%s",bm[bn])}}return bq};az=function(bm){if(O===8&&bm.loops>1&&bm.stream){e("as2loop");bm.stream=false}return bm};aP=function(bm,bn){if(bm&&!bm.usePolicyFile&&(bm.onid3||bm.usePeakData||bm.useWaveformData||bm.useEQData)){aZ._wD((bn||"")+a6("policy"));bm.usePolicyFile=true}return bm};n=function(bm){if(W&&console.warn!==a){console.warn(bm)}else{aZ._wD(bm)}};E=function(){return false};A=function(bm){var bn;for(bn in bm){if(bm.hasOwnProperty(bn)&&typeof bm[bn]==="function"){bm[bn]=E}}bn=null};I=function(bm){if(bm===a){bm=false}if(z||bm){aZ.disable(bm)}};aI=function(bm){var bo=null,bn;if(bm){if(bm.match(/\.swf(\?.*)?$/i)){bo=bm.substr(bm.toLowerCase().lastIndexOf(".swf?")+4);if(bo){return bm}}else{if(bm.lastIndexOf("/")!==bm.length-1){bm+="/"}}}bn=(bm&&bm.lastIndexOf("/")!==-1?bm.substr(0,bm.lastIndexOf("/")+1):"./")+aZ.movieURL;if(aZ.noSWFCache){bn+=("?ts="+new Date().getTime())}return bn};aV=function(){O=parseInt(aZ.flashVersion,10);if(O!==8&&O!==9){aZ._wD(a6("badFV",O,s));aZ.flashVersion=O=s}var bm=(aZ.debugMode||aZ.debugFlash?"_debug.swf":".swf");if(aZ.useHTML5Audio&&!aZ.html5Only&&aZ.audioFormats.mp4.required&&O<9){aZ._wD(a6("needfl9"));aZ.flashVersion=O=9}aZ.version=aZ.versionNumber+(aZ.html5Only?" (HTML5-only mode)":(O===9?" (AS3/Flash 9)":" (AS2/Flash 8)"));if(O>8){aZ.defaultOptions=aB(aZ.defaultOptions,aZ.flash9Options);aZ.features.buffering=true;aZ.defaultOptions=aB(aZ.defaultOptions,aZ.movieStarOptions);aZ.filePatterns.flash9=new RegExp("\\.(mp3|"+aH.join("|")+")(\\?.*)?$","i");aZ.features.movieStar=true}else{aZ.features.movieStar=false}aZ.filePattern=aZ.filePatterns[(O!==8?"flash9":"flash8")];aZ.movieURL=(O===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",bm);aZ.features.peakData=aZ.features.waveformData=aZ.features.eqData=(O>8)};aT=function(bn,bm){if(!K){return false}K._setPolling(bn,bm)};ak=function(){if(aZ.debugURLParam.test(bk)){aZ.debugMode=true}if(af(aZ.debugID)){return false}var bn,bo,bp,bq,br;if(aZ.debugMode&&!af(aZ.debugID)&&(!W||!aZ.useConsole||!aZ.consoleOnly)){bn=B.createElement("div");bn.id=aZ.debugID+"-toggle";bq={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};bn.appendChild(B.createTextNode("-"));bn.onclick=bb;bn.title="Toggle SM2 debug console";if(bd.match(/msie 6/i)){bn.style.position="absolute";bn.style.cursor="hand"}for(br in bq){if(bq.hasOwnProperty(br)){bn.style[br]=bq[br]}}bo=B.createElement("div");bo.id=aZ.debugID;bo.style.display=(aZ.debugMode?"block":"none");if(aZ.debugMode&&!af(bn.id)){try{bp=P();bp.appendChild(bn)}catch(bm){throw new Error(a6("domError")+" \n"+bm.toString())}bp.appendChild(bo)}}bp=null};ag=this.getSoundById;e=function(bn,bm){return(!bn?"":aZ._wD(a6(bn),bm))};bb=function(){var bm=af(aZ.debugID),bn=af(aZ.debugID+"-toggle");if(!bm){return false}if(q){bn.innerHTML="+";bm.style.display="none"}else{bn.innerHTML="-";bm.style.display="block"}q=!q};r=function(bo,bm,bp){if(d.sm2Debugger!==a){try{sm2Debugger.handleEvent(bo,bm,bp)}catch(bn){return false}}return true};Q=function(){var bm=[];if(aZ.debugMode){bm.push(a8.sm2Debug)}if(aZ.debugFlash){bm.push(a8.flashDebug)}if(aZ.useHighPerformance){bm.push(a8.highPerf)}return bm.join(" ")};L=function(){var bo=a6("fbHandler"),bp=aZ.getMoviePercent(),bm=a8,bn={type:"FLASHBLOCK"};if(aZ.html5Only){return false}if(!aZ.ok()){if(aE){aZ.oMC.className=Q()+" "+bm.swfDefault+" "+(bp===null?bm.swfTimedout:bm.swfError);aZ._wD(bo+": "+a6("fbTimeout")+(bp?" ("+a6("fbLoaded")+")":""))}aZ.didFlashBlock=true;aS({type:"ontimeout",ignoreInit:true,error:bn});m(bn)}else{if(aZ.didFlashBlock){aZ._wD(bo+": Unblocked")}if(aZ.oMC){aZ.oMC.className=[Q(),bm.swfDefault,bm.swfLoaded+(aZ.didFlashBlock?" "+bm.swfUnblocked:"")].join(" ")}}};f=function(bo,bm,bn){if(aK[bo]===a){aK[bo]=[]}aK[bo].push({method:bm,scope:(bn||null),fired:false})};aS=function(bq){if(!bq){bq={type:(aZ.ok()?"onready":"ontimeout")}}if(!y&&bq&&!bq.ignoreInit){return false}if(bq.type==="ontimeout"&&(aZ.ok()||(z&&!bq.ignoreInit))){return false}var bt={success:(bq&&bq.ignoreInit?aZ.ok():!z)},bs=(bq&&bq.type?aK[bq.type]||[]:[]),br=[],bo,bp,bm=[bt],bn=(aE&&!aZ.ok());if(bq.error){bm[0].error=bq.error}for(bo=0,bp=bs.length;bo<bp;bo++){if(bs[bo].fired!==true){br.push(bs[bo])}}if(br.length){for(bo=0,bp=br.length;bo<bp;bo++){if(br[bo].scope){br[bo].method.apply(br[bo].scope,bm)}else{br[bo].method.apply(this,bm)}if(!bn){br[bo].fired=true}}}return true};an=function(){d.setTimeout(function(){if(aZ.useFlashBlock){L()}aS();if(typeof aZ.onload==="function"){e("onload",1);aZ.onload.apply(d);e("onloadOK",1)}if(aZ.waitForWindowLoad){G.add(d,"load",an)}},1)};u=function(){if(X!==a){return X}var bo=false,bp=navigator,bq=bp.plugins,br,bs,bt,bm=d.ActiveXObject;if(bq&&bq.length){bs="application/x-shockwave-flash";bt=bp.mimeTypes;if(bt&&bt[bs]&&bt[bs].enabledPlugin&&bt[bs].enabledPlugin.description){bo=true}}else{if(bm!==a&&!bd.match(/MSAppHost/i)){try{br=new bm("ShockwaveFlash.ShockwaveFlash")}catch(bn){br=null}bo=(!!br);br=null}}X=bo;return bo};J=function(){var bm,bp,bn=aZ.audioFormats,bo=(ao&&!!(bd.match(/os (1|2|3_0|3_1)/i)));if(bo){aZ.hasHTML5=false;aZ.html5Only=true;if(aZ.oMC){aZ.oMC.style.display="none"}}else{if(aZ.useHTML5Audio){if(!aZ.html5||!aZ.html5.canPlayType){aZ._wD("SoundManager: No HTML5 Audio() support detected.");aZ.hasHTML5=false}if(aq){aZ._wD(a0+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!X?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1)}}}if(aZ.useHTML5Audio&&aZ.hasHTML5){l=true;for(bp in bn){if(bn.hasOwnProperty(bp)){if(bn[bp].required){if(!aZ.html5.canPlayType(bn[bp].type)){l=false;bm=true}else{if(aZ.preferFlash&&(aZ.flash[bp]||aZ.flash[bn[bp].type])){bm=true}}}}}}if(aZ.ignoreFlash){bm=false;l=true}aZ.html5Only=(aZ.hasHTML5&&aZ.useHTML5Audio&&!bm);return(!aZ.html5Only)};aO=function(bp){var bm,bn,bq=0,bo;if(bp instanceof Array){for(bm=0,bn=bp.length;bm<bn;bm++){if(bp[bm] instanceof Object){if(aZ.canPlayMIME(bp[bm].type)){bq=bm;break}}else{if(aZ.canPlayURL(bp[bm])){bq=bm;break}}}if(bp[bq].url){bp[bq]=bp[bq].url}bo=bp[bq]}else{bo=bp}return bo};a4=function(bm){if(!bm._hasTimer){bm._hasTimer=true;if(!aC&&aZ.html5PollingInterval){if(T===null&&U===0){T=setInterval(ba,aZ.html5PollingInterval)}U++}}};a5=function(bm){if(bm._hasTimer){bm._hasTimer=false;if(!aC&&aZ.html5PollingInterval){U--}}};ba=function(){var bm;if(T!==null&&!U){clearInterval(T);T=null;return false}for(bm=aZ.soundIDs.length-1;bm>=0;bm--){if(aZ.sounds[aZ.soundIDs[bm]].isHTML5&&aZ.sounds[aZ.soundIDs[bm]]._hasTimer){aZ.sounds[aZ.soundIDs[bm]]._onTimer()}}};m=function(bm){bm=(bm!==a?bm:{});if(typeof aZ.onerror==="function"){aZ.onerror.apply(d,[{type:(bm.type!==a?bm.type:null)}])}if(bm.fatal!==a&&bm.fatal){aZ.disable()}};j=function(){if(!aq||!u()){return false}var bm=aZ.audioFormats,bn,bo;for(bo in bm){if(bm.hasOwnProperty(bo)){if(bo==="mp3"||bo==="mp4"){aZ._wD(aY+": Using flash fallback for "+bo+" format");aZ.html5[bo]=false;if(bm[bo]&&bm[bo].related){for(bn=bm[bo].related.length-1;bn>=0;bn--){aZ.html5[bm[bo].related[bn]]=false}}}}}};this._setSandboxType=function(bm){var bn=aZ.sandbox;bn.type=bm;bn.description=bn.types[(bn.types[bm]!==a?bm:"unknown")];if(bn.type==="localWithFile"){bn.noRemote=true;bn.noLocal=false;e("secNote",2)}else{if(bn.type==="localWithNetwork"){bn.noRemote=false;bn.noLocal=true}else{if(bn.type==="localTrusted"){bn.noRemote=false;bn.noLocal=false}}}};this._externalInterfaceOK=function(bn){if(aZ.swfLoaded){return false}var bm;r("swf",true);r("flashtojs",true);aZ.swfLoaded=true;bc=false;if(aq){j()}if(!bn||bn.replace(/\+dev/i,"")!==aZ.versionNumber.replace(/\+dev/i,"")){bm=aY+': Fatal: JavaScript file build "'+aZ.versionNumber+'" does not match Flash SWF build "'+bn+'" at '+aZ.url+". Ensure both are up-to-date.";setTimeout(function bo(){throw new Error(bm)},0);return false}setTimeout(ai,au?100:1)};o=function(bB,bC){if(v&&g){return false}function bp(){var bH=[],bJ,bI=[],bG=" + ";bJ="SoundManager "+aZ.version+(!aZ.html5Only&&aZ.useHTML5Audio?(aZ.hasHTML5?" + HTML5 audio":", no HTML5 audio support"):"");if(!aZ.html5Only){if(aZ.preferFlash){bH.push("preferFlash")}if(aZ.useHighPerformance){bH.push("useHighPerformance")}if(aZ.flashPollingInterval){bH.push("flashPollingInterval ("+aZ.flashPollingInterval+"ms)")}if(aZ.html5PollingInterval){bH.push("html5PollingInterval ("+aZ.html5PollingInterval+"ms)")}if(aZ.wmode){bH.push("wmode ("+aZ.wmode+")")}if(aZ.debugFlash){bH.push("debugFlash")}if(aZ.useFlashBlock){bH.push("flashBlock")}}else{if(aZ.html5PollingInterval){bH.push("html5PollingInterval ("+aZ.html5PollingInterval+"ms)")}}if(bH.length){bI=bI.concat([bH.join(bG)])}aZ._wD(bJ+(bI.length?bG+bI.join(", "):""),1);aW()}if(aZ.html5Only){aV();bp();aZ.oMC=af(aZ.movieID);ai();v=true;g=true;return false}var by=(bC||aZ.url),br=(aZ.altURL||by),bD="JS/Flash audio component (SoundManager 2)",bw=P(),bn=Q(),bq=null,bo=B.getElementsByTagName("html")[0],bu,bv,bE,bs,bt,bz,bF,bA;bq=(bo&&bo.dir&&bo.dir.match(/rtl/i));bB=(bB===a?aZ.id:bB);function bx(bG,bH){return'<param name="'+bG+'" value="'+bH+'" />'}aV();aZ.url=aI(aN?by:br);bC=aZ.url;aZ.wmode=(!aZ.wmode&&aZ.useHighPerformance?"transparent":aZ.wmode);if(aZ.wmode!==null&&(bd.match(/msie 8/i)||(!au&&!aZ.useHighPerformance))&&navigator.platform.match(/win32|win64/i)){aA.push(a7.spcWmode);aZ.wmode=null}bu={name:bB,id:bB,src:bC,quality:"high",allowScriptAccess:aZ.allowScriptAccess,bgcolor:aZ.bgColor,pluginspage:ae+"www.macromedia.com/go/getflashplayer",title:bD,type:"application/x-shockwave-flash",wmode:aZ.wmode,hasPriority:"true"};if(aZ.debugFlash){bu.FlashVars="debug=1"}if(!aZ.wmode){delete bu.wmode}if(au){bv=B.createElement("div");bs=['<object id="'+bB+'" data="'+bC+'" type="'+bu.type+'" title="'+bu.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ae+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',bx("movie",bC),bx("AllowScriptAccess",aZ.allowScriptAccess),bx("quality",bu.quality),(aZ.wmode?bx("wmode",aZ.wmode):""),bx("bgcolor",aZ.bgColor),bx("hasPriority","true"),(aZ.debugFlash?bx("FlashVars",bu.FlashVars):""),"</object>"].join("")}else{bv=B.createElement("embed");for(bE in bu){if(bu.hasOwnProperty(bE)){bv.setAttribute(bE,bu[bE])}}}ak();bn=Q();bw=P();if(bw){aZ.oMC=(af(aZ.movieID)||B.createElement("div"));if(!aZ.oMC.id){aZ.oMC.id=aZ.movieID;aZ.oMC.className=a8.swfDefault+" "+bn;bz=null;bt=null;if(!aZ.useFlashBlock){if(aZ.useHighPerformance){bz={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{bz={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(bq){bz.left=Math.abs(parseInt(bz.left,10))+"px"}}}if(ax){aZ.oMC.style.zIndex=10000}if(!aZ.debugFlash){for(bF in bz){if(bz.hasOwnProperty(bF)){aZ.oMC.style[bF]=bz[bF]}}}try{if(!au){aZ.oMC.appendChild(bv)}bw.appendChild(aZ.oMC);if(au){bt=aZ.oMC.appendChild(B.createElement("div"));bt.className=a8.swfBox;bt.innerHTML=bs}g=true}catch(bm){throw new Error(a6("domError")+" \n"+bm.toString())}}else{bA=aZ.oMC.className;aZ.oMC.className=(bA?bA+" ":a8.swfDefault)+(bn?" "+bn:"");aZ.oMC.appendChild(bv);if(au){bt=aZ.oMC.appendChild(B.createElement("div"));bt.className=a8.swfBox;bt.innerHTML=bs}g=true}}v=true;bp();return true};al=function(){if(aZ.html5Only){o();return false}if(K){return false}if(!aZ.url){e("noURL");return false}K=aZ.getMovie(aZ.id);if(!K){if(!aL){o(aZ.id,aZ.url)}else{if(!au){aZ.oMC.appendChild(aL)}else{aZ.oMC.innerHTML=aM}aL=null;v=true}K=aZ.getMovie(aZ.id)}if(typeof aZ.oninitmovie==="function"){setTimeout(aZ.oninitmovie,1)}N();return true};t=function(){setTimeout(bf,1000)};bf=function(){var bn,bm=false;if(!aZ.url){return false}if(bg){return false}bg=true;G.remove(d,"load",t);if(bc&&!at){e("waitFocus");return false}if(!y){bn=aZ.getMoviePercent();if(bn>0&&bn<100){bm=true}}setTimeout(function(){bn=aZ.getMoviePercent();if(bm){bg=false;aZ._wD(a6("waitSWF"));d.setTimeout(t,1);return false}if(!y){aZ._wD(aY+": No Flash response within expected time. Likely causes: "+(bn===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(aZ.debugFlash?" "+a6("checkSWF"):""),2);if(!aN&&bn){e("localFail",2);if(!aZ.debugFlash){e("tryDebug",2)}}if(bn===0){aZ._wD(a6("swf404",aZ.url),1)}r("flashtojs",false,": Timed out"+aN?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")}if(!y&&aJ){if(bn===null){if(aZ.useFlashBlock||aZ.flashLoadTimeout===0){if(aZ.useFlashBlock){L()}e("waitForever")}else{if(!aZ.useFlashBlock&&l){d.setTimeout(function(){n(a0+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");aZ.setup({preferFlash:false}).reboot();aZ.didFlashBlock=true;aZ.beginDelayedInit()},1)}else{e("waitForever");aS({type:"ontimeout",ignoreInit:true})}}}else{if(aZ.flashLoadTimeout===0){e("waitForever")}else{I(true)}}}},aZ.flashLoadTimeout)};V=function(){function bm(){G.remove(d,"focus",V)}if(at||!bc){bm();return true}aJ=true;at=true;e("gotFocus");bg=false;t();bm();return true};N=function(){if(aA.length){aZ._wD("SoundManager 2: "+aA.join(" "),1);aA=[]}};aW=function(){N();var bm,bn=[];if(aZ.useHTML5Audio&&aZ.hasHTML5){for(bm in aZ.audioFormats){if(aZ.audioFormats.hasOwnProperty(bm)){bn.push(bm+" = "+aZ.html5[bm]+(!aZ.html5[bm]&&aE&&aZ.flash[bm]?" (using flash)":(aZ.preferFlash&&aZ.flash[bm]&&aE?" (preferring flash)":(!aZ.html5[bm]?" ("+(aZ.audioFormats[bm].required?"required, ":"")+"and no flash support)":""))))}}aZ._wD("SoundManager 2 HTML5 support: "+bn.join(", "),1)}};aj=function(bm){if(y){return false}if(aZ.html5Only){e("sm2Loaded");y=true;an();r("onload",true);return true}var bp=(aZ.useFlashBlock&&aZ.flashLoadTimeout&&!aZ.getMoviePercent()),bo=true,bn;if(!bp){y=true;if(z){bn={type:(!X&&aE?"NO_FLASH":"INIT_TIMEOUT")}}}aZ._wD("SoundManager 2 "+(z?"failed to load":"loaded")+" ("+(z?"Flash security/load error":"OK")+")",z?2:1);if(z||bm){if(aZ.useFlashBlock&&aZ.oMC){aZ.oMC.className=Q()+" "+(aZ.getMoviePercent()===null?a8.swfTimedout:a8.swfError)}aS({type:"ontimeout",error:bn,ignoreInit:true});r("onload",false);m(bn);bo=false}else{r("onload",true)}if(!z){if(aZ.waitForWindowLoad&&!bi){e("waitOnload");G.add(d,"load",an)}else{if(aZ.waitForWindowLoad&&bi){e("docLoaded")}an()}}return bo};aU=function(){var bm,bn=aZ.setupOptions;for(bm in bn){if(bn.hasOwnProperty(bm)){if(aZ[bm]===a){aZ[bm]=bn[bm]}else{if(aZ[bm]!==bn[bm]){aZ.setupOptions[bm]=aZ[bm]}}}}};ai=function(){if(y){e("didInit");return false}function bm(){G.remove(d,"load",aZ.beginDelayedInit)}if(aZ.html5Only){if(!y){bm();aZ.enabled=true;aj()}return true}al();try{K._externalInterfaceTest(false);aT(true,(aZ.flashPollingInterval||(aZ.useHighPerformance?10:50)));if(!aZ.debugMode){K._disableDebug()}aZ.enabled=true;r("jstoflash",true);if(!aZ.html5Only){G.add(d,"unload",E)}}catch(bn){aZ._wD("js/flash exception: "+bn.toString());r("jstoflash",false);m({type:"JS_TO_FLASH_EXCEPTION",fatal:true});I(true);aj();return false}aj();bm();return true};C=function(){if(w){return false}w=true;aU();ak();(function(){var bm="sm2-usehtml5audio=",bn="sm2-preferflash=",bo=null,bp=null,bq=bk.toLowerCase();if(bq.indexOf(bm)!==-1){bo=(bq.charAt(bq.indexOf(bm)+bm.length)==="1");if(W){console.log((bo?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter")}aZ.setup({useHTML5Audio:bo})}if(bq.indexOf(bn)!==-1){bp=(bq.charAt(bq.indexOf(bn)+bn.length)==="1");if(W){console.log((bp?"Enabling ":"Disabling ")+"preferFlash via URL parameter")}aZ.setup({preferFlash:bp})}}());if(!X&&aZ.hasHTML5){aZ._wD("SoundManager: No Flash detected"+(!aZ.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."),1);aZ.setup({useHTML5Audio:true,preferFlash:false})}a9();if(!X&&aE){aA.push(a7.needFlash);aZ.setup({flashLoadTimeout:1})}if(B.removeEventListener){B.removeEventListener("DOMContentLoaded",C,false)}al();return true};D=function(){if(B.readyState==="complete"){C();B.detachEvent("onreadystatechange",D)}return true};bj=function(){bi=true;G.remove(d,"load",bj)};aR=function(){if(aC){if(!aZ.setupOptions.useHTML5Audio||aZ.setupOptions.preferFlash){aA.push(a7.mobileUA)}aZ.setupOptions.useHTML5Audio=true;aZ.setupOptions.preferFlash=false;if(ao||(ap&&!bd.match(/android\s2\.3/i))){aA.push(a7.globalHTML5);if(ao){aZ.ignoreFlash=true}be=true}}};aR();u();G.add(d,"focus",V);G.add(d,"load",t);G.add(d,"load",bj);if(B.addEventListener){B.addEventListener("DOMContentLoaded",C,false)}else{if(B.attachEvent){B.attachEvent("onreadystatechange",D)}else{r("onload",false);m({type:"NO_DOM2_EVENTS",fatal:true})}}}if(d.SM2_DEFER===undefined||!SM2_DEFER){b=new c()}d.SoundManager=c;d.soundManager=b}(window));(function(b){b.isScrollToFixed=function(a){return !!b(a).data("ScrollToFixed")};b.ScrollToFixed=function(L,T){var W=this;W.$el=b(L);W.el=L;W.$el.data("ScrollToFixed",W);var J=false;var Q=W.$el;var S;var M;var ab;var K=0;var ac=0;var U=-1;var N=-1;var af=null;var ak;var P;function ag(){Q.trigger("preUnfixed.ScrollToFixed");V();Q.trigger("unfixed.ScrollToFixed");N=-1;K=Q.offset().top;ac=Q.offset().left;if(W.options.offsets){ac+=(Q.offset().left-Q.position().left)}if(U==-1){U=ac}S=Q.css("position");J=true;if(W.options.bottom!=-1){Q.trigger("preFixed.ScrollToFixed");ai();Q.trigger("fixed.ScrollToFixed")}}function Y(){var c=W.options.limit;if(!c){return 0}if(typeof(c)==="function"){return c.apply(Q)}return c}function aa(){return S==="fixed"}function aj(){return S==="absolute"}function R(){return !(aa()||aj())}function ai(){if(!aa()){af.css({display:Q.css("display"),width:Q.outerWidth(true),height:Q.outerHeight(true),"float":Q.css("float")});cssOptions={position:"fixed",top:W.options.bottom==-1?ae():"",bottom:W.options.bottom==-1?"":W.options.bottom,"margin-left":"0px"};if(!W.options.dontSetWidth){cssOptions.width=Q.width()}Q.css(cssOptions);Q.addClass("scroll-to-fixed-fixed");if(W.options.className){Q.addClass(W.options.className)}S="fixed"}}function H(){var d=Y();var c=ac;if(W.options.removeOffsets){c=0;d=d-K}cssOptions={position:"absolute",top:d,left:c,"margin-left":"0px",bottom:""};if(!W.options.dontSetWidth){cssOptions.width=Q.width()}Q.css(cssOptions);S="absolute"}function V(){if(!R()){N=-1;af.css("display","none");Q.css({width:"",position:M,left:"",top:ab.top,"margin-left":""});Q.removeClass("scroll-to-fixed-fixed");if(W.options.className){Q.removeClass(W.options.className)}S=null}}function ah(c){if(c!=N){Q.css("left",ac-c);N=c}}function ae(){var c=W.options.marginTop;if(!c){return 0}if(typeof(c)==="function"){return c.apply(Q)}return c}function al(){if(!b.isScrollToFixed(Q)){return}var e=J;if(!J){ag()}var c=b(window).scrollLeft();var f=b(window).scrollTop();var d=Y();if(W.options.minWidth&&b(window).width()<W.options.minWidth){if(!R()||!e){Z();Q.trigger("preUnfixed.ScrollToFixed");V();Q.trigger("unfixed.ScrollToFixed")}}else{if(W.options.bottom==-1){if(d>0&&f>=d-ae()){if(!aj()||!e){Z();Q.trigger("preAbsolute.ScrollToFixed");H();Q.trigger("unfixed.ScrollToFixed")}}else{if(f>=K-ae()){if(!aa()||!e){Z();Q.trigger("preFixed.ScrollToFixed");ai();N=-1;Q.trigger("fixed.ScrollToFixed")}ah(c)}else{if(!R()||!e){Z();Q.trigger("preUnfixed.ScrollToFixed");V();Q.trigger("unfixed.ScrollToFixed")}}}}else{if(d>0){if(f+b(window).height()-Q.outerHeight(true)>=d-(ae()||-X())){if(aa()){Z();Q.trigger("preUnfixed.ScrollToFixed");if(M==="absolute"){H()}else{V()}Q.trigger("unfixed.ScrollToFixed")}}else{if(!aa()){Z();Q.trigger("preFixed.ScrollToFixed");ai()}ah(c);Q.trigger("fixed.ScrollToFixed")}}else{ah(c)}}}}function X(){if(!W.options.bottom){return 0}return W.options.bottom}function Z(){var c=Q.css("position");if(c=="absolute"){Q.trigger("postAbsolute.ScrollToFixed")}else{if(c=="fixed"){Q.trigger("postFixed.ScrollToFixed")}else{Q.trigger("postUnfixed.ScrollToFixed")}}}var I=function(c){if(Q.is(":visible")){J=false;al()}};var O=function(c){al()};var a=function(){var d=document.body;if(document.createElement&&d&&d.appendChild&&d.removeChild){var f=document.createElement("div");if(!f.getBoundingClientRect){return null}f.innerHTML="x";f.style.cssText="position:fixed;top:100px;";d.appendChild(f);var g=d.style.height,h=d.scrollTop;d.style.height="3000px";d.scrollTop=500;var c=f.getBoundingClientRect().top;d.style.height=g;var e=(c===100);d.removeChild(f);d.scrollTop=h;return e}return null};var ad=function(c){c=c||window.event;if(c.preventDefault){c.preventDefault()}c.returnValue=false};W.init=function(){W.options=b.extend({},b.ScrollToFixed.defaultOptions,T);W.$el.css("z-index",W.options.zIndex);af=b("<div />");S=Q.css("position");M=Q.css("position");ab=b.extend({},Q.offset());if(R()){W.$el.after(af)}b(window).bind("resize.ScrollToFixed",I);b(window).bind("scroll.ScrollToFixed",O);if(W.options.preFixed){Q.bind("preFixed.ScrollToFixed",W.options.preFixed)}if(W.options.postFixed){Q.bind("postFixed.ScrollToFixed",W.options.postFixed)}if(W.options.preUnfixed){Q.bind("preUnfixed.ScrollToFixed",W.options.preUnfixed)}if(W.options.postUnfixed){Q.bind("postUnfixed.ScrollToFixed",W.options.postUnfixed)}if(W.options.preAbsolute){Q.bind("preAbsolute.ScrollToFixed",W.options.preAbsolute)}if(W.options.postAbsolute){Q.bind("postAbsolute.ScrollToFixed",W.options.postAbsolute)}if(W.options.fixed){Q.bind("fixed.ScrollToFixed",W.options.fixed)}if(W.options.unfixed){Q.bind("unfixed.ScrollToFixed",W.options.unfixed)}if(W.options.spacerClass){af.addClass(W.options.spacerClass)}Q.bind("resize.ScrollToFixed",function(){af.height(Q.height())});Q.bind("scroll.ScrollToFixed",function(){Q.trigger("preUnfixed.ScrollToFixed");V();Q.trigger("unfixed.ScrollToFixed");al()});Q.bind("detach.ScrollToFixed",function(c){ad(c);Q.trigger("preUnfixed.ScrollToFixed");V();Q.trigger("unfixed.ScrollToFixed");b(window).unbind("resize.ScrollToFixed",I);b(window).unbind("scroll.ScrollToFixed",O);Q.unbind(".ScrollToFixed");W.$el.removeData("ScrollToFixed")});I()};W.init()};b.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1000};b.fn.scrollToFixed=function(a){return this.each(function(){(new b.ScrollToFixed(this,a))})}})(jQuery);
/*
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){var e=/\+/g;function c(f){if(b.raw){return f}return decodeURIComponent(f.replace(e," "))}function d(g){if(g.indexOf('"')===0){g=g.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}g=c(g);try{return b.json?JSON.parse(g):g}catch(f){}}var b=a.cookie=function(m,u,p){if(u!==undefined){p=a.extend({},b.defaults,p);if(typeof p.expires==="number"){var h=p.expires,s=p.expires=new Date();s.setDate(s.getDate()+h)}u=b.json?JSON.stringify(u):String(u);return(document.cookie=[b.raw?m:encodeURIComponent(m),"=",b.raw?u:encodeURIComponent(u),p.expires?"; expires="+p.expires.toUTCString():"",p.path?"; path="+p.path:"",p.domain?"; domain="+p.domain:"",p.secure?"; secure":""].join(""))}var r=m?undefined:{};var g=document.cookie?document.cookie.split("; "):[];for(var j=0,n=g.length;j<n;j++){var q=g[j].split("=");var o=c(q.shift());var f=q.join("=");if(m&&m===o){r=d(f);break}if(!m){r[o]=d(f)}}return r};b.defaults={};a.removeCookie=function(f,g){if(a.cookie(f)!==undefined){a.cookie(f,"",a.extend({},g,{expires:-1}));return true}return false}}));(function(l,t,o){var m=l([]),q=l.resize=l.extend(l.resize,{}),u,w="setTimeout",v="resize",p=v+"-special-event",n="delay",r="throttleWindow";q[n]=250;q[r]=true;l.event.special[v]={setup:function(){if(!q[r]&&this[w]){return false}var a=l(this);m=m.add(a);l.data(this,p,{w:a.width(),h:a.height()});if(m.length===1){s()}},teardown:function(){if(!q[r]&&this[w]){return false}var a=l(this);m=m.not(a);a.removeData(p);if(!m.length){clearTimeout(u)}},add:function(a){if(!q[r]&&this[w]){return false}var c;function b(h,d,e){var f=l(this),g=l.data(this,p);g.w=d!==o?d:f.width();g.h=e!==o?e:f.height();c.apply(this,arguments)}if(l.isFunction(a)){c=a;return b}else{c=a.handler;a.handler=b}}};function s(){u=t[w](function(){m.each(function(){var c=l(this),b=c.width(),a=c.height(),d=l.data(this,p);if(b!==d.w||a!==d.h){c.trigger(v,[d.w=b,d.h=a])}});s()},q[n])}})(jQuery,this);(function(a){var b={init:function(d){var c={userid:"",username:"",smileyList:smileylist,messageListHtml:"",sentMessageCallBack:function(g,h,f){},unique:1,unreadCount:0,unreadChangedCallBack:function(f){},focusCallBack:function(){}},e=a.extend(c,d);return this.each(function(){var f=a(this);var n=a("<div class='messaging-list'></div>");var j=a("<div class='messaging-form-container child-inherit-height'></div>");var S=e.unreadCount;if(e.unreadCount==""){a.post("contact/get_unread_message_count/"+e.userid,function(W){S=W;g.focus()})}f.html("");f.unbind("click");f.off("click");f.click(function(W){toggle_contact_list("hide");eventStopPropagation(W)});f.on("click",".clickable-image",function(W){eventStopPropagation(W);image_enlarge_modal(a(this),function(){f.find(".txt-message").focus()})});f.unbind("newMessage");f.append(n);f.append(j);f.attr("userid",e.userid);n.attr("userid",e.userid);n.html(e.messageListHtml);n.jScrollPane({stickToBottom:true,contentWidth:"0px",verticalDragMinHeight:40}).bind("mousewheel",function(W){W.preventDefault()});var o=n.data("jsp"),p=o.getContentPane();if(!isTrue(e.messageListHtml)){w(n)}else{G(n,1,true);F()}f.bind("refreshMessage",function(W){S=W.unread;w(n)});f.bind("newMessage",function(Z){var ag=Z.sender;var ae=Z.msg;a(".usertyping[userid="+ag+"]").hide().removeData(".contact-timer");var aa=false;if(ae.indexOf("<img")!==-1){aa=true}var W=a("<span>"+ae+"</span>");ae=W.linkify().html();ae=emotify(ae);var ac=n.find(".message-text:last").attr("dateandtime"),ad=n.find(".message-text:last").attr("userid"),af=true,ab,X,Y,ai,ak,ah="self";if(isTrue(ac)){Y=getCurrentDateTime12Hr();if(ac===Y&&ad===ag){af=false}}if(ag!==MY_USERID){ah="other";ai=e.username}else{ai=MY_USERNAME}var aj="";if(ag!==MY_USERID){aj+="<div user-panel-id='"+ag+"' class='inline position-relative'>"}else{aj+="<div>"}aj+="<a href='activity/id/"+ag+"'>"+ai+"</a>";aj+="</div>";if(!af){ab='<div class="message-text append" userid="'+ag+'" dateandtime="'+getCurrentDateTime12Hr()+'" title="Sent on '+getCurrentDateTime12Hr()+'">';ab+='<div class="message-username">';ab+=aj;ab+="</div>";ab+=ae;ab+="</div>";p.find(".message-container:last").append(ab)}else{ab='<div class="message-group">';ab+='<div class="message-container '+ah+'">';ab+='<div class="icons message-arrow"></div>';ab+='<div class="message-text" userid="'+ag+'" dateandtime="'+getCurrentDateTime12Hr()+'" title="Sent on '+getCurrentDateTime12Hr()+'">';ab+='<div class="message-username">';ab+=aj;ab+="</div>";ab+=ae;ab+="</div>";ab+="</div>";ab+='<div class="clear"></div>';ab+='<div class="message-datetime">'+getCurrentDateTime12Hr()+"</div>";ab+="</div>";p.append(ab)}if(ag==MY_USERID){G(n,1,aa)}else{S++;e.unreadChangedCallBack(S);G(n,0,aa)}});f.bind("messageRead",function(){S=0;e.unreadChangedCallBack(S)});function w(Y){Y.data("getting_msg",false);Y.data("no_more_msg",false);Y.unbind("jsp-scroll-y");var Z=Y.data("xhr"),aa,W,X;if(Z){Z.abort()}W=Y.data("jsp");X=W.getContentPane();X.html("").append('<img src="image/loading3.gif" class="loading3">');W.reinitialise();Z=a.post("contact/get_more_message/"+e.userid+"/0",function(ab){X.html(ab);F();G(Y,1,true)});Y.data("xhr",Z)}function y(Y){var aa=Y.data("getting_msg"),ab=Y.data("no_more_msg"),Z=Y.data("xhr"),ac,ad,X,W;if(aa===true||ab===true){return}Y.data("getting_msg",true);W=Y.data("jsp");X=W.getContentPane();ac=X.find(".message-text").length;ad=Y.attr("userid");X.prepend('<img src="image/loading3.gif" class="margin-left loading3">');if(Z){Z.abort()}Z=a.post("contact/get_more_message/"+e.userid+"/"+ac,function(ae){Y.find(".loading3").remove();X.prepend(ae);F();G(Y,2,true);Y.data("getting_msg",false);if(a.trim(ae)!==""){}else{Y.data("no_more_msg",true)}});Y.data("xhr",Z)}function G(W,Y,Z){if(Y===0&&!W.find(".jspVerticalBar").is(":visible")&&t()){Y=1}if(Y===1){J(W)}else{if(Y===2){K(W)}}var X=function(){W.unbind("jsp-scroll-y");var aa=W.data("jsp");if(!isTrue(aa)){return}aa.reinitialise();if(Y===1){J(W)}else{if(Y===2){K(W)}}W.bind("jsp-scroll-y",function(ab,ae,ad,ac){if(ad){y(a(this))}if(ac){D(e.userid)}})};if(isTrue(Z)){W.waitForImages(function(){X()})}else{X()}}function J(W){if(W.length>0){var X=W.data("jsp");if(isTrue(X)){X.scrollToPercentY(100)}}}function K(W){var X=W.data("jsp");var Y=W.find(".message-group:first").outerHeight();X.scrollToY(Y-30)}function t(){var W=n.data("jsp");if(n.outerHeight()+W.getContentPositionY()>=W.getContentHeight()){return true}return false}function D(){if(S<=0||!t()){return}a.post("contact/mark_all_user_msg_read/"+e.userid);pubnub_publish(MY_USERID,"messageIsRead(%2)"+e.userid);S=0;e.unreadChangedCallBack(S)}var R,U,Q,v,I,B,T;R="";R+='<div class="messageform-container" id="messageform'+e.unique+'">';R+=' <form class="messageform commonform">';R+='     <div class="usertyping hidden-object" userid="'+e.userid+'">';R+='          <img src="image/usertyping.gif"><span class="username">'+e.username+"</span> Is Typing...";R+="     </div>";R+='     <div class="row">';R+="         <div class=\"col-xs-5 col-sm-6 col-md-7 box1\" style='padding-right:0px;'>";R+='             <textarea class="txt-message text-alike-div"></textarea>';R+="         </div>";R+='         <div class="col-xs-1 hidden-xs box2">';R+='             <div class="input-emotion inset-button row">';R+='                 <img class="img-responsive inline-block" src="image/emotions.png">';R+="             </div>";R+="         </div>";R+='         <div class="col-xs-3 col-sm-1 box2">';R+='             <div class="upload-image row inset-button" id="filecontainer'+e.unique+"\" data-toggle='tooltip' title='Upload Image Files' data-container='body'>";R+='                 <a id="pickfiles'+e.unique+'"></a>';R+='                     <img class="img-responsive inline-block" src="image/uploadpic.png">';R+="             </div>";R+="         </div>";R+='         <div class="col-xs-1 hidden-xs box2">';R+="             <div class=\"message-type row inset-button selected web\" data-toggle='tooltip' title='Send By Web Msg' data-container='body'>";R+='                 <img class="img-responsive" src="image/computer_icon.png">';R+="             </div>";R+="             <div class=\"message-type row inset-button sms hide-overflow-tooltip\" data-toggle='tooltip' data-html='true' title='Send By SMS<br>(If you cannot reach this contact by using web messaging)' data-placement='bottom'>";R+='                 <img class="img-responsive" src="image/phone_icon.png">';R+="             </div>";R+="         </div>";R+='         <div class="col-xs-4 col-sm-3 col-md-2 box2" style="padding-left:0px;">';R+="             ";R+='             <button class="btn btn-amber btn-lg btn-block send-message" type="submit">';R+="                     Send";R+="             </button>";R+="         </div>";R+="     </div>";R+=" </form>";R+="</div>";j.append(R);var l=a("<div class='messageform-parent'></div>");j.wrap(l);var r=a("<div class='messageform-emotions'></div>");var C;for(C in e.smileyList){var Q=a("<a class='' title='"+C+"'>"+e.smileyList[C]+"<span class='hidden-object'>"+C+"</span></a>");r.append(Q)}v=false;var g=j.find(".txt-message");var h=j.find("form");var q=j.find(".message-type");var m=j.find(".input-emotion");var s=a('<div class="popover smileys-popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>');m.popover({html:true,content:r,container:j,placement:"top",template:s});g.click(function(){D()});g.focusin(function(){D();e.focusCallBack();update_current_conversation()});g.focus();m.on("shown.bs.popover",function(){a(".smileys-popover").find("a").click(function(){g.focus();O(j,e.userid);A(g.get(0),a(this).find("span").html())})});m.click(function(){toggle_selected(a(this))});s.mouseleave(function(){u()});s.click(function(){g.focus()});m.click(function(){g.focus()});g.keyup(function(W){switch(W.keyCode){case 13:if(!W.shiftKey){W.preventDefault();h.submit();return false}break;default:break}});g.keydown(function(W){switch(W.keyCode){case 13:if(!W.shiftKey){W.preventDefault()}break;case 116:break;default:O(j,e.userid);break}});q.click(function(){q.unselect();a(this).select();if(a(this).hasClass("sms")){loading(j);a.post("contact/can_send_sms/"+e.userid,function(W){switch(W){case"0":break;case"1":alert("Phone number is not revealed to you");break;case"2":alert("You can only send 3 sms per day");break;case"3":alert("This user is not in working hour now");break;case"4":alert("You have just sent sms to this user within 1 hour");break;case"5":check_is_login();break;default:}clear_loading(j);g.focus();if(W!=="0"){q.unselect();j.find(".message-type.web").select()}})}g.focus()});h.submit(function(){M(this);return false});function u(){m.unselect();m.popover("hide")}function H(){q.removeClass("selected");q.each(function(){if(a(this).hasClass("web")){a(this).addClass("selected")}})}var V=function(W){if((a.trim(g.val())==="")){insert_tooltip(g,"Please write something!","top",1500);return false}return true};function O(W,Z){var X="sendTyping(%2)"+MY_USERID+"(%2)",Y=W.data("self-typing"),aa;D(Z);if((Y===undefined||Y===false)&&isTrue(Z)){W.data("self-typing",true);pubnub_publish(Z,X);aa=W.data("self-timer");if(typeof aa!==undefined){clearTimeout(aa)}aa=setTimeout(function(){W.data("self-typing",false)},1500);W.data("self-timer",aa)}}var M=function(W){if(V(W)){var Y=g.val(),X;if(j.find(".message-type.web").hasClass("selected")){X="web"}else{X="sms"}N(e.username,e.userid,Y,X);g.val("").focus();e.sentMessageCallBack(MY_USERID,e.userid,MY_USERNAME,Y);q.unselect();f.find(".message-type.web").select();u()}};function N(ah,ag,ac,ab){var aa=ac.length,af=400,ae=[],W=0,Z;while(W<aa){Z=ac.indexOf(" ",W+af);if(Z===-1){Z=aa}ae.push(ac.slice(W,Z));W=Z}if(ae.length>0){a.post("contact/send_message_ajax/"+ag,{message:ae[0],username:MY_USERNAME,messagetype:ab},function(aj){var ak;for(ak in ae){if(ak==0){continue}a.ajaxQueue({url:"contact/append_message",data:{id:aj,msg:ae[ak]},type:"POST"})}})}var ai;var ad=randomize();for(ai in ae){if(ai>0){ab="web"}if(ae[ai].indexOf("<img")===-1){ae[ai]=(a("<i>").text(ae[ai]).html())}else{ae[ai]=ae[ai]}if(ab==="sms"){ae[ai]+="<div class='sms-msg icons'></div>"}ae[ai]=nl2br(ae[ai]);var Y,X;if(ae.length===1){Y="mySentMessage";X="sendMessage"}else{if(ai==0){Y="mySentMessageStart";X="sendMessageStart"}else{if(ai==ae.length-1){Y="mySentMessageEnd";X="sendMessageEnd"}else{Y="mySentMessageImt";X="sendMessageImt"}}}pubnub_publish(MY_USERID,Y+"(%2)"+ag+"(%2)"+ah+"(%2)"+ad+"(%2)"+ae[ai]);pubnub_publish(ag,X+"(%2)"+MY_USERID+"(%2)"+MY_USERNAME+"(%2)"+ad+"(%2)"+ae[ai])}}var L=function(W){N(e.username,e.userid,W,"web");e.sentMessageCallBack(MY_USERID,e.userid,MY_USERNAME,W);f.find(".message-type.web").select();g.focus()};a("#pickfiles"+e.unique).pluploader({container_id:"filecontainer"+e.unique,fileAddedCallBack:function(W){loading(j);O(f,e.userid)},fileUploadedCallBack:function(W,Y){var X=a.parseJSON(Y.response);L("<img class='clickable-image' src='upload/"+X.result+"'>");clear_loading(j)}});function z(W){var ac=0,X=0,aa,ab,ad,Z,Y;if(typeof W.selectionStart=="number"&&typeof W.selectionEnd=="number"){ac=W.selectionStart;X=W.selectionEnd}else{ab=document.selection.createRange();if(ab&&ab.parentElement()==W){Z=W.value.length;aa=W.value.replace(/\r\n/g,"\n");ad=W.createTextRange();ad.moveToBookmark(ab.getBookmark());Y=W.createTextRange();Y.collapse(false);if(ad.compareEndPoints("StartToEnd",Y)>-1){ac=X=Z}else{ac=-ad.moveStart("character",-Z);ac+=aa.slice(0,ac).split("\n").length-1;if(ad.compareEndPoints("EndToEnd",Y)>-1){X=Z}else{X=-ad.moveEnd("character",-Z);X+=aa.slice(0,X).split("\n").length-1}}}}return{start:ac,end:X}}function E(W,X){return X-(W.value.slice(0,X).split("\r\n").length-1)}function P(W,Z,X){if(typeof W.selectionStart=="number"&&typeof W.selectionEnd=="number"){W.selectionStart=Z;W.selectionEnd=X}else{if(typeof W.createTextRange!="undefined"){var Y=W.createTextRange();var aa=E(W,Z);Y.collapse(true);if(Z==X){Y.move("character",aa)}else{Y.moveEnd("character",E(W,X));Y.moveStart("character",aa)}Y.select()}}}function A(W,Z){var Y=z(W).end;var X=Y+Z.length;var aa=W.value;W.value=aa.slice(0,Y)+Z+aa.slice(Y);P(W,X,X)}function F(){f.find(".to-process").each(function(){a(this).linkify();a(this).html(emotify(a(this).html()));a(this).removeClass("to-process")})}})}};a.fn.messagingBox=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={userid:"",username:"",initialState:"open",restoreHtml:"",right:"",supposedUnreadCount:0,loadedCallBack:function(f){}},e=a.extend(c,d);return this.each(function(){var f=a(this);var g=a(".fixed-messaging");if(g.find(".message-circle-container[userid="+e.userid+"]").length>0){f=g.find(".message-circle-container[userid="+e.userid+"]");f.messageCircle("openCircle");return}f.addClass("shrink").addClass("transition");f.addClass("message-circle-container");g.prepend(f);if(!isTrue(e.right)){reposition_circle(false)}else{f.data("restore_from_store",true);f.css("right",e.right)}if(!isTrue(e.restoreHtml)){a.get("contact/get_message_circle/"+e.userid,function(m){j(m)})}else{var h=a(e.restoreHtml);var l=h.find(".messaging-list").find(".jspPane").html();e.username=h.find(".name-text").html();e.userid=h.find(".messaging-list").attr("userid");h.find(".messaging").html(l);j(h)}f.attr("userid",e.userid);function j(m){f.append(m);var o=g.find(".message-circle-container").length+1;if(e.username===""){e.username=f.find(".name-text").html()}f.find(".messaging").messagingBox({userid:e.userid,username:e.username,unique:o,unreadCount:f.find(".notification-count").html(),messageListHtml:f.find(".messaging").html(),unreadChangedCallBack:function(p){f.messageCircle("changeUnread",p)}});attach_overflow_hidden_tooltip();f.find(".close-button").click(function(p){eventStopPropagation(p);f.messageCircle("destroyCircle")});f.find(".hide-messaging").click(function(p){eventStopPropagation(p);f.messageCircle("closeAndShrinkCircle")});f.hover(function(){f.messageCircle("stretchCircle")},function(){f.messageCircle("shrinkCircle")});f.click(function(p){eventStopPropagation(p);toggle_contact_list("hide");f.messageCircle("openCircle")});var n=(function(){var r,s=3,q=document.createElement("div"),p=q.getElementsByTagName("i");while(q.innerHTML="<!--[if gt IE "+(++s)+"]><i></i><![endif]-->",p[0]){}return s>4?s:r}());a(document).click(function(p){if((!n&&p.button==0)||(n&&p.button==1)){f.messageCircle("closeAndShrinkCircle")}});e.loadedCallBack(f);if(e.initialState==="open"){if(isTrue(e.restoreHtml)){f.messageCircle("openCircle",true)}else{f.messageCircle("openCircle")}}else{if(!f.data("restore_from_store")){store_messaging_html()}}if(e.initialState==="close"){if(!isTrue(e.restoreHtml)){f.messageCircle("closeAndShrinkCircle",false,true)}}f.data("restore_from_store",false)}})},refreshUnread:function(c){return this.each(function(){var d=a(this);if(c!=d.find(".notification-count").html()){d.messageCircle("changeUnread",c);d.find(".messaging").trigger({type:"refreshMessage",unread:c})}})},changeUnread:function(c){return this.each(function(){var d=a(this);d.find(".notification-count").html(c);if(c>0){d.find(".notification-count").show()}else{d.find(".notification-count").hide()}store_messaging_html()})},openCircle:function(c){return this.each(function(){var d=a(this);var f=false;var e=a(".fixed-messaging");e.find(".message-circle-container[userid!='"+d.attr("userid")+"']").messageCircle("closeAndShrinkCircle",true);d.removeClass("shrink");if(!d.hasClass("expand")&&!isTrue(c)){f=true}d.addClass("expand");d.find(".txt-message").focus();if(f){publish_circle_state("open",d);if(!d.data("restore_from_store")){store_messaging_html()}}})},openPreview:function(c){return this.each(function(){var d=a(this);if(d.hasClass("expand")){return}d.find(".message-preview-container").html(c);d.addClass("expand2");timer2=d.data("new-message-timer");if(typeof timer2!==undefined){clearTimeout(timer2)}timer2=setTimeout(function(){d.messageCircle("shrinkCircle")},3000);d.data("new-message-timer",timer2)})},destroyCircle:function(c){return this.each(function(){var f=a(this);var d=f.find(".message-circle");var e=f.find(".close-button");var g=f.find(".username");f.removeClass("expand");f.removeClass("expand2");e.fadeOut();d.animate({bottom:"-80px"},300);g.delay(150).animate({bottom:"-13px"},100);setTimeout(function(){f.remove();reposition_circle(false);update_unread_title();if(!isTrue(c)){publish_circle_state("destroy",f);store_messaging_html()}},500)})},closeAndShrinkCircle:function(c,d){return this.each(function(){var e=a(this);var f=false;if(e.hasClass("expand")&&!isTrue(c)){f=true}e.removeClass("expand");e.addClass("shrink");e.find(".txt-message").blur();if(f){publish_circle_state("close_shrink",e);store_messaging_html()}if(d){publish_circle_state("new_close_shrink",e)}})},shrinkCircle:function(){return this.each(function(){var c=a(this);c.removeClass("expand2").addClass("shrink")})},moveFront:function(c){return this.each(function(){var d=a(this);var e=a(".fixed-messaging");e.prepend(d);d.removeClass("vanish");reposition_circle(false);if(!isTrue(c)){store_messaging_html();publish_circle_state("movefront",d)}refresh_more_circle_menu();setTimeout(function(){d.addClass("expand");d.find(".txt-message").focus()},500)})},stretchCircle:function(){return this.each(function(){var c=a(this);c.removeClass("shrink")})}};a.fn.messageCircle=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);$(document).ready(function(){circle_event_subscript();jQuery(window).bind("blur",function(){$.removeCookie("current_conversation",{path:"/"})});update_unread_title();bind_timeago_to_contacts();$(window).on("unload",function(){$.removeCookie("current_conversation",{path:"/"});store_messaging_html()});if($(".fixed-bottom-bar").length<=0){return}$(".fixed-contact-list").find(".header").click(function(b){toggle_contact_list("any");eventStopPropagation(b)});$(".fixed-contact-list").click(function(b){eventStopPropagation(b)});$(document).click(function(b){toggle_contact_list("hide");$(".more-circle-menu").hide()});$(".fixed-contact-list").find(".contact-listing-container").jScrollPane().bind("mousewheel",function(b){b.preventDefault()});$(".fixed-contact-list").on("click",".contact-container",function(){open_circle(true,$(this).attr("userid"),$(this).find(".username").html(),"open")});$(".fixed-contact-list").find("#new-message-bubble").click(function(){$(".fixed-contact-list").find("#new-message-bubble").find("span").each(function(){open_circle(true,$(this).attr("userid"),$(this).html(),"close");$(this).remove()});$(".fixed-contact-list").find("#new-message-bubble").hide()});$(window).resize(function(){reposition_circle()});refresh_contact_list();retrieve_messaging_html();var a=false;pubnub_connect_callback.push(function(){if(a){return}a=true;$.post("contact/get_unread_message_userids",function(c){var b=$.parseJSON(c);var d;for(d in b){$("#new-message-bubble").append("<span class='unread-userid hidden-object' userid='"+b[d].fromuserid+"' unreadcount='"+b[d].unreadcount+"'>"+b[d].username+"</span>")}if($("#new-message-bubble").find(".unread-userid").length>0){$("#new-message-bubble").show()}new_message_bubble_handle()})})});function store_messaging_html(){if(isTrue(MY_USERID)){if($(".messaging-to-store").attr("ready")==1){localStorage.setItem("messaging",$(".messaging-to-store").html())}}}function retrieve_messaging_html(){if(isTrue(localStorage.getItem("messaging"))){var a=$(localStorage.getItem("messaging"));$(a.find(".message-circle-container").get().reverse()).each(function(){var b=$(this);var c="close";if(b.hasClass("expand")){c="open"}open_circle(false,b.attr("userid"),"",c,null,null,b.html(),b.css("right"))});reposition_circle(true)}$(".messaging-to-store").attr("ready",1);setTimeout(function(){for(i=0;i<messaging_ready_callback.length;i+=1){messaging_ready_callback[i]()}},1000)}function bind_timeago_to_contacts(){$(".LAYOUT_CONTACT_LISTING").find(".timeago").timeago()}function update_current_conversation(){var a="";if($(".PAGE_MESSAGING").length>0){a=$(".PAGE_MESSAGING").find(".messaging-list").attr("userid")}else{a=$(".message-circle-container.expand").attr("userid")}if(!isTrue(a)){a=0}$.removeCookie("current_conversation",{path:"/"});$.cookie("current_conversation",a,{path:"/"})}function get_current_conversation(){var a=$.cookie("current_conversation");return a}function toggle_contact_list(b){var a=$(".fixed-contact-list");if(a.hasClass("shown")||b==="hide"){a.removeClass("shown")}else{a.addClass("shown");$(".fixed-contact-list").find(".contact-listing-container").data("jsp").reinitialise()}reposition_circle_on_contact_list()}function resize_fake_border(a){var c=135,b;b=$(".fixed-messaging").find(".message-circle-container").length*c;if($(".fixed-contact-list").hasClass("shown")){b+=280}else{b+=85}if(isTrue(a)){$(".fixed-bottom-bar").find(".fake-border").css("width",b)}else{$(".fixed-bottom-bar").find(".fake-border").animate({width:b},300)}refresh_more_circle_menu()}function reposition_circle_on_contact_list(){var a=135;if($(".fixed-contact-list").hasClass("shown")){$(".fixed-messaging").animate({right:280},200,function(){reposition_circle(false)})}else{$(".fixed-messaging").animate({right:85},300,function(){reposition_circle(false)})}resize_fake_border()}function refresh_more_circle_menu(){var b=false;var d=0;var c=$("<span></span>");if($(".fixed-messaging").length<=0){return}$(".fixed-messaging").find(".message-circle-container.vanish").each(function(g){$container=$(this);var f=parseInt($container.find(".notification-count").html(),10);var h=$container.find(".name-text").text();if(f>0){h=h+" ("+f+")";d++}var e=$("<div>"+h+"</div>");e.click(function(j){$container.messageCircle("moveFront")});c.append(e);b=true});if(d>0){$(".more-circle-notification").html(d).show()}else{$(".more-circle-notification").html(0).hide()}$(".more-circle-menu").html(c);if(b){$(".more-circle-container").fadeIn()}else{$(".more-circle-container").fadeOut()}var a=$(".fixed-messaging").find(".message-circle-container.vanish").length;if(a>0){$(".more-circle-count").html(" ("+a+")").show()}else{$(".more-circle-count").hide()}}var reposition_timeout;function reposition_circle(b,a){if(isTrue(reposition_timeout)){clearTimeout(reposition_timeout)}reposition_timeout=setTimeout(function(){var d=135,c=$(".fixed-contact-list").outerWidth();$(".fixed-messaging").find(".message-circle-container").each(function(e){$circle=$(this);if((e*d)+d+c+100>viewport("width")){$circle.addClass("vanish")}else{$circle.removeClass("vanish")}$(this).css("right",e*d)});resize_fake_border(b)},100)}function new_message_bubble_handle(){$(".fixed-contact-list").find("#new-message-bubble").find("span").each(function(){var a=$(".message-circle-container[userid="+$(this).attr("userid")+"]");if(a.length>0){a.messageCircle("refreshUnread",$(this).attr("unreadcount"));$(this).remove()}});if($(".fixed-contact-list").find("#new-message-bubble").find("span").length<=0){$(".fixed-contact-list").find("#new-message-bubble").remove()}update_unread_title()}function open_circle(c,h,j,b,a,d,f,g){if(a!==null&&a!==undefined){eventStopPropagation(a)}if(h==MY_USERID){return}if(!isTrue(MY_USERID)){check_is_login()}if(!isTrue(c)){c=false}if(!isTrue(j)){j=""}if(viewport("width")<768){if(c){direct_to_url("contact/messaging/"+h,"_blank")}}if(!isTrue(d)){d=function(){}}if(!isTrue(b)){b="open"}if(!isTrue(f)){f=""}if(!isTrue(g)){g=""}$("<div></div>").messageCircle({userid:h,username:j,initialState:b,loadedCallBack:d,restoreHtml:f,right:g})}function toggle_more_circle(a){if($(".more-circle-menu").is(":visible")){$(".more-circle-menu").hide()}else{$(".more-circle-menu").show()}eventStopPropagation(a)}function publish_circle_state(n,a){var h="";if(n==="open"||n==="new_close_shrink"){var h=randomize();var l=new Date();var c=l.getFullYear().toString()+"-"+l.getMonth().toString()+"-"+l.getDate().toString()+"-"+l.getHours().toString()+"-"+l.getMinutes().toString()+"-"+l.getSeconds().toString();h+="statedt:"+c;var f;var m=[];for(f=0;f<localStorage.length;f++){if(localStorage.key(f).indexOf("statedt:")>-1){var e=localStorage.key(f).substring(localStorage.key(f).indexOf("statedt:")+8);var b=e.split("-");var j=new Date(b[0],b[1],b[2],b[3],b[4],b[5],0);var d=j.getTime()-l.getTime();var g=Math.abs(d/1000);if(g>100){m.push(localStorage.key(f))}}}var o;for(o in m){localStorage.removeItem(m[o])}localStorage.setItem(h,a.html())}pubnub_publish(MY_USERID,"circleState(%2)"+TAB_IDENTIFIER+"(%2)"+n+"(%2)"+a.attr("userid")+"(%2)"+a.find(".name-text").html()+"(%2)"+h)}function reload_self_contact_list(){$.post("contact/find_contacts",{keyword:""},function(a){$(".contact-list-self").html(a);refresh_contact_list();bind_timeago_to_contacts()})}function refresh_contact_list(){$(".contact-list-self").each(function(){var a=$(this).find(".contact-list"),d=[],c=[],b;a.find(".contact-container-parent").each(function(){if($(this).find(".online").length>0){d.push(this)}else{c.push(this)}});$(d).sort(function(e,f){var g=$(e).find(".username").text().toUpperCase(),h=$(f).find(".username").text().toUpperCase();return(g<h)?-1:(g>h)?1:0}).appendTo(a);$(c).sort(function(e,f){var g=$(e).find(".username").text().toUpperCase(),h=$(f).find(".username").text().toUpperCase();return(g<h)?-1:(g>h)?1:0}).appendTo(a);b=d.length;$(".total-online").html(b);$(".total-contact").html(d.length+c.length)})}function check_user_status(a){if($(".user-state[userid="+a+"]").length>0){if($(".user-state[userid="+a+"]").hasClass("online")){return"online"}else{return"offline"}}else{$.get("user/get_user_status/"+a,function(b){if(b){update_user_status(a,b)}})}return"offline"}function update_user_status(c,b,a){if(b==="online"||b==1||b==="on"){$(".user-state[userid="+c+"]").removeClass("online").removeClass("offline").addClass("online")}else{if(c==MY_USERID){return}$(".user-state[userid="+c+"]").removeClass("online").removeClass("offline").addClass("offline");if(!isTrue(a)){a=ISODateString(new Date())}$(".timeago[userid="+c+"]").attr("title",a).data("timeago",null).timeago()}if($(".message-circle-container[userid="+c+"]").length>0){store_messaging_html()}refresh_contact_list()}function contact_change_publish(){pubnub_publish(MY_USERID,"refreshContact(%2)")}function update_unread_title(){var b=document.title;var c=/^\(\d+\)\s/gim;var d="";var a=0;b=b.replace(c,"");if($(".PAGE_MESSAGING").length>0){a=parseInt($(".PAGE_MESSAGING").find(".conversation-new-count").html(),10)}else{$(".fixed-messaging").find(".notification-count").each(function(){var e=parseInt($(this).html(),10);if(e>0){a++}})}$(".fixed-contact-list").find("#new-message-bubble").find("span").each(function(){a++});if(a>0){d="("+a+") "}document.title=d+b}function circle_interaction_new_message(b){if(b.type==="mySentMessage"){return}var a=$(".message-circle-container[userid="+b.userid+"]");if(a.length>0){refresh_more_circle_menu();a.messageCircle("openPreview",b.message)}else{open_circle(false,b.userid,b.username,"close",null,function(c){c.messageCircle("openPreview",b.message);update_unread_title()})}}function subscript_new_message(b){var a=$(".messaging[userid="+b.userid+"]");if(a.length>0){if(b.type==="sendMessage"){var d=b.userid}else{if(b.type==="mySentMessage"){var d=MY_USERID}}a.trigger({type:"newMessage",msg:b.message,sender:d});refresh_more_circle_menu()}if(b.type==="sendMessage"&&get_current_conversation()!=b.userid&&viewport("width")>767){var c=Math.floor(Math.random()*1000);setTimeout(function(){if(b.random!==localStorage.getItem("last_message_random")){localStorage.setItem("last_message_random",b.random);playSound("message")}},c)}update_unread_title();store_messaging_html()}new_message_callback.push(subscript_new_message);function subscript_user_typing(a){var c=$(".usertyping[userid="+a.userid+"]"),b;if(c.length>0){b=c.data("contact-timer");if(typeof b!==undefined){clearTimeout(b)}b=setTimeout(function(){c.hide()},2000);c.data("contact-timer",b);c.show()}}user_typing_callback.push(subscript_user_typing);function subscript_message_is_read(b){var a=$(".message-circle-container[userid="+b.userid+"]");a.find(".messaging").trigger("messageRead");update_unread_title();refresh_more_circle_menu()}message_is_read_callback.push(subscript_message_is_read);contact_change_callback.push(reload_self_contact_list);function subscript_circle_state(b){if(b.identifier!=TAB_IDENTIFIER){var a=$(".message-circle-container[userid="+b.userid+"]");if(a.length>0){if(b.state==="open"){a.messageCircle("openCircle",true)}else{if(b.state==="close_shrink"){a.messageCircle("closeAndShrinkCircle",true)}else{if(b.state==="destroy"){a.messageCircle("destroyCircle",true)}else{if(b.state==="movefront"){a.messageCircle("moveFront",true)}}}}}else{if(b.state==="open"){open_circle(false,b.userid,"","open",null,null,localStorage.getItem(b.state_identifier))}else{if(b.state==="new_close_shrink"){open_circle(false,b.userid,"","close",null,null,localStorage.getItem(b.state_identifier))}}}}}function circle_event_subscript(){if($(".fixed-messaging").length>0){new_message_callback.push(circle_interaction_new_message);circle_state_callback.push(subscript_circle_state)}}$(document).ready(function(){var b,d,a,c;$(".navbar").find(".notifications").hover(function(){clearTimeout(a);close_shortlist();$(".notification-menu").show();$(".navbar").find(".notifications").addClass("selected")},function(){if(!$(".notification-popup").is(":visible")){close_notification()}}).click(function(f){eventStopPropagation(f)});$(".notification-menu").find(".item").click(function(m){var l=$(this),g=$(this).find(".notification-popup"),j=g.find(".content").data("jsp"),h=j.getContentPane(),f=l.find(".pointing-arrow"),n=l.attr("type");eventStopPropagation(m);if(l.hasClass("selected")){return}close_sub_notification();c=false;l.find(".notification-counter").find(".inner").html(0);h.html("<img src='image/loading3.gif'>");l.addClass("selected");f.css("left",15).show().animate({left:5},100);g.fadeIn("fast");refresh_notification_count();if(b){b.abort()}b=$.post("notification/get_notifications_html_by_type/0",{type:n},function(e){h.html(e);if(h.find(".no-result").length>0){h.addClass("zero-result");g.find(".view-all").hide()}else{h.removeClass("zero-result");g.find(".view-all").show()}j.reinitialise();$.post("notification/update_lastseen_notification",{type:n});pubnub_publish(MY_USERID,"checkNotification(%2)"+n)})});$(".shortlist-container").find(".shortlist").click(function(j){close_sub_notification();close_notification();eventStopPropagation(j);$this=$(this);var f=$this.find(".shortlist-popup-container"),h=f.find(".content").data("jsp"),g=h.getContentPane();g.html("<img src='image/loading3.gif'>");if($this.hasClass("selected")){close_shortlist();return}$this.addClass("selected");$this.find(".notification-counter").find(".inner").html(0);refresh_notification_count();if(d){d.abort()}f.find(".shortlist-popup").fadeIn("fast");d=$.post("shortlist/get_shortlist_html",function(e){g.html(e);if(g.find(".no-result").length>0){g.addClass("zero-result");f.find(".view-all").hide()}else{g.removeClass("zero-result");f.find(".view-all").show()}h.reinitialise();$.post("shortlist/update_lastseen_shortlist");pubnub_publish(MY_USERID,"checkNotification(%2)shortlist")})});$(".notification-popup").click(function(f){eventStopPropagation(f)});$(".notification-popup").find(".content").jScrollPane().bind("mousewheel",function(f){f.preventDefault()}).bind("jsp-scroll-y",function(g,l,j,h){if($(this).parents(".shortlist-popup").length>0){return}if(h){var f=$(this).data("jsp");var e=f.getContentPane();var n=e.parents(".item").attr("type");var m=e.find(".notification-item").length;if(e.find(".loading").length>0){return}if(isTrue(c)){return}e.append("<img class='loading' src='image/loading3.gif'>");f.reinitialise();$.post("notification/get_notifications_html_by_type/"+m,{type:n},function(o){if((o.indexOf("notification-item"))===-1){c=true}e.find(".loading").remove();e.append(o);f.reinitialise()})}});refresh_notification_count()});$(document).click(function(){close_all_topmenu_popup()});function close_all_topmenu_popup(){close_sub_notification();close_notification();close_shortlist()}function close_sub_notification(){var a=$(".notification-menu").find(".item");a.removeClass("selected");$(".notification-popup").hide();a.find(".sub-notification-count").hide().html("0");a.find(".pointing-arrow").hide()}function close_notification(){$(".notification-menu").hide();$(".navbar").find(".notifications").removeClass("selected")}function close_shortlist(){$(".shortlist-container").find(".shortlist").removeClass("selected")}function refresh_notification_count(){var c=$(".discussion-reply").find(".notification-counter"),d=$(".new-item").find(".notification-counter"),a=$(".agent-request").find(".notification-counter"),b=$(".agent-review").find(".notification-counter"),e=$(".total-notification-counter"),f=c.find(".inner").html(),g=d.find(".inner").html(),h=a.find(".inner").html(),j=b.find(".inner").html(),l=parseInt(f,10)+parseInt(g,10)+parseInt(h,10)+parseInt(j,10);e.find(".inner").html(l);$(".notification-counter").each(function(){if(parseInt($(this).find(".inner").html(),10)>0){$(this).parents(".notification-counter-container").css("display","inline-block")}else{$(this).parents(".notification-counter-container").hide()}})}function mark_notification_as_read(b,c,a){if($(b).parents(".notification-item").hasClass("unread")){$(b).parents(".notification-item").removeClass("unread");$.post("notification/mark_notification_seen",{targetid:c,action:a})}return true}function shortlist_publish(a){pubnub_publish(MY_USERID,"modifyShortlist(%2)"+a)}function remove_notification_count(b){var a=$("."+b);a.find(".notification-counter").find(".inner").html(0);refresh_notification_count()}function add_notification_count(c){var a=$("."+c),b=a.find(".notification-counter").find(".inner").html();b=parseInt(b,10)+1;a.find(".notification-counter").find(".inner").html(b);refresh_notification_count()}var shortlistChanged=function(b){var a=b.number;$(".total-shortlist").html(parseInt($(".total-shortlist").html(),10)+parseInt(a,10))};shortlist_changed_callback.push(shortlistChanged);var newNotification=function(a){switch(a.type){case"replyTopic":add_notification_count("discussion-reply");break;case"editItem":case"deleteItem":add_notification_count("shortlist");break;case"newItem":add_notification_count("new-item");break;case"agentRequest":case"acceptAgent":add_notification_count("agent-request");break;case"agentReview":case"agentReviewReply":add_notification_count("agent-review");break;default:break}};new_notification_callback.push(newNotification);var notificationChecked=function(a){remove_notification_count(a.type);var b=[],c;switch(a.type){case"discussion-reply":b.push("replyTopic");break;case"new-item":b.push("newItem");break;case"shortlist":b.push("editItem");b.push("deleteItem");break;case"agent-request":b.push("agentRequest");b.push("acceptAgent");break;case"agent-review":b.push("agentReview");b.push("agentReviewReply");break}for(c in b){notification_keepstack=jQuery.grep(notification_keepstack,function(d){return d.type!==b[c]})}};notification_checked_callback.push(notificationChecked);$(document).ready(function(){$(".navbar-header").hover(function(){$(this).find(".smoke").addClass("animate")},function(){$(this).find(".smoke").removeClass("animate")});$(".nav > li").hover(function(){$li=$(this);$img=$li.find("a:first").find("img");$div=$li.find("a:first").find("div");$li.css("width",$li.outerWidth());$div.css("position","absolute");$div.css("margin","auto 0");$div.addClass("rotate");$img.css("display","inline-block");$img.stop(true).delay(250).animate({height:"25px"},300,"easeOutBack");if($li.find(".sub-menu").length>0){$li.find(".sub-menu").show()}},function(){$div=$(this).find("a:first").find("div");$div.removeClass("rotate");$img=$(this).find("a").find("img");$img.stop(true);$img.css("height",0);$img.css("display","none");if($(this).find(".sub-menu").length>0){$(this).find(".sub-menu").hide()}});$(".nav > li").click(function(c){if(c.button===0){var d=$(this).children("a").attr("href");direct_to_url(d)}});$(".nav > li").find("a").click(function(c){eventStopPropagation(c)});$(".button-goto").click(function(c){eventStopPropagation(c);$this=$(this);if($this.hasClass("selected")){a()}else{$this.select();$(".phone-style-menu").show();$("body").css("marginLeft",250);$("body").css("overflow","hidden");b=$(window).height();$(".phone-style-menu").css("height",b-60)}});$(document).click(function(c){a(c)});$(".phone-style-menu").click(function(c){eventStopPropagation(c)});function a(c){if($(".button-goto").hasClass("selected")){if(isTrue(c)){c.preventDefault()}$(".button-goto").unselect();$(".phone-style-menu").hide();$("body").css("marginLeft",0);$("body").css("overflow","auto")}}$(document).resize(function(){});var b=$(window).height();$(window).resize(function(){if($(window).height()==b){return}b=$(window).height();$(".phone-style-menu").css("height",b-60)})});var QUEUE_REWARD_ID=[];function queue_reward(a){QUEUE_REWARD_ID.push(a)}function pop_reward(){var a;for(a in QUEUE_REWARD_ID){$.post("reward/get_experience_panel_by_points_id",{points_id:QUEUE_REWARD_ID[a],count:QUEUE_REWARD_ID.length-1},function(b){if($(b).hasClass("experience-panel-container")){$("body").append(b);show_experience_panel()}});QUEUE_REWARD_ID.splice(a,1);break}}function ajax_pop_reward(a){var c;var b;loading(a.find(".panel-content"));for(c in QUEUE_REWARD_ID){b=QUEUE_REWARD_ID[c];$.post("reward/get_experience_content_by_points_id",{points_id:QUEUE_REWARD_ID[c],count:QUEUE_REWARD_ID.length-1},function(d){a.find(".panel-content").html(d);animate_experience_bar();$.post("reward/mark_reward_as_read",{points_id:b})});QUEUE_REWARD_ID.splice(c,1);break}}function mark_all_reward_read(){QUEUE_REWARD_ID=[];$.post("reward/mark_all_reward_as_read")}function remove_experience_panel(c){var b=$(c);var a=$(c).parents(".experience-panel-container");if(QUEUE_REWARD_ID.length>=1){ajax_pop_reward(a)}else{a.animate({top:"-600px"},500)}}function show_experience_panel(){var a=$(".experience-panel-container");a.hover(function(){change_count_down_state("pause")},function(){change_count_down_state("start")});a.delay(3000).animate({top:"-30px"},1500,"easeOutBounce",function(){$.post("reward/mark_reward_as_read",{points_id:a.attr("points_id")});animate_experience_bar()})}function change_count_down_state(b){$(".experience-panel-container").data("timer-state","pause");var a=$(".experience-panel-container").data("timer");if(b==="start"){$(".experience-panel-container").data("timer-state","start");start_count_down()}else{window.clearInterval(a)}}function start_count_down(){if($(".experience-panel-container").data("timer-state")==="pause"){return}var a=$(".experience-panel-container").data("timer");if(isTrue(a)){clearTimeout(a)}var a=setInterval(function(){var b=$(".experience-panel-container").find(".countdown");b.html(b.html()-1);if(b.html()=="0"){remove_experience_panel(b);window.clearInterval(a)}},1000);$(".experience-panel-container").data("timer",a)}function animate_experience_bar(){var b=$(".experience-panel-container").find(".experience-bar").find(".inner-bar");var a=$(".experience-panel-container").find(".currentpoints");var c=$(".experience-panel-container").find(".nextlevelpoints");var f;var d=parseInt(a.attr("changed_points").replace(/,/g,""),10);if(isTrue(a.data("leftover"))){d=parseInt(a.data("leftover"),10)}var e=parseInt(a.html().replace(/,/g,""),10);var h=parseInt(c.html().replace(/,/g,""),10);f=(e+d)/h*100;start_count_down();if(f>100){f=100;var g=e+d-h;a.data("leftover",g)}else{if(f<0){f=0;var g=e+d;a.data("leftover",g)}}b.animate({width:f+"%"},{duration:500,step:function(j){b.find(".current-percentage").html(Math.round(j)+"%")},done:function(){if(f>=100){animate_change_level($(this),1)}else{if(f<=0){animate_change_level($(this),-1)}}}});a.each(function(){var j=$(this);var m={property:parseInt(j.html(),10)};if(f>=100){var n={property:c.html()}}else{if(f<=0){var n={property:0}}else{var n={property:parseInt(j.html(),10)+d}}}var l=500;jQuery(m).animate(n,{duration:l,step:function(){j.html(Math.round(this.property))}})})}function animate_change_level(a,d){var c=a.parents(".inner-bar-container").find(".level-up");var b=a.parents(".inner-bar-container").find(".level-drop");var e=parseInt(a.find(".current-level").html(),10);var f=e+d;if(f==0){return}$.post("reward/get_up_level_required_exp",{level:f},function(g){if(d>0){c.show();c.animate({top:"-25px",opacity:0},250,function(){c.hide();c.css("top",0).css("opacity",1);$(".uplevel-change").each(function(){$(this).html(parseInt($(this).html(),10)+1)});$(".experience-panel-container").find(".nextlevelpoints").html(g);$(".experience-panel-container").find(".currentpoints").html(0);a.css("width",0);animate_experience_bar()})}else{b.show();b.animate({top:"-25px",opacity:0},250,function(){b.hide();b.css("top",0).css("opacity",1);$(".uplevel-change").each(function(){$(this).html(parseInt($(this).html(),10)-1)});$(".experience-panel-container").find(".nextlevelpoints").html(g);$(".experience-panel-container").find(".currentpoints").html(g);a.css("width","100%");animate_experience_bar()})}})}(function(a){function o(z){var w={};if(z.selectionStart===undefined){z.focus();var y=document.selection.createRange();w.length=y.text.length;y.moveStart("character",-z.value.length);w.end=y.text.length;w.start=w.end-w.length}else{w.start=z.selectionStart;w.end=z.selectionEnd;w.length=w.end-w.start}return w}function u(A,z,w){if(A.selectionStart===undefined){A.focus();var y=A.createTextRange();y.collapse(true);y.moveEnd("character",w);y.moveStart("character",z);y.select()}else{A.selectionStart=z;A.selectionEnd=w}}function t(w,y){a.each(y,function(z,A){if(typeof A==="function"){y[z]=A(w,y,z)}else{if(typeof w.autoNumeric[A]==="function"){y[z]=w.autoNumeric[A](w,y,z)}}})}function m(y,w){if(typeof(y[w])==="string"){y[w]*=1}}function c(w,A){t(w,A);A.oEvent=null;A.tagList=["B","CAPTION","CITE","CODE","DD","DEL","DIV","DFN","DT","EM","H1","H2","H3","H4","H5","H6","INS","KDB","LABEL","LI","OUTPUT","P","Q","S","SAMPLE","SPAN","STRONG","TD","TH","U","VAR"];var B=A.vMax.toString().split("."),D=(!A.vMin&&A.vMin!==0)?[]:A.vMin.toString().split(".");m(A,"vMax");m(A,"vMin");m(A,"mDec");A.allowLeading=true;A.aNeg=A.vMin<0?"-":"";B[0]=B[0].replace("-","");D[0]=D[0].replace("-","");A.mInt=Math.max(B[0].length,D[0].length,1);if(A.mDec===null){var C=0,E=0;if(B[1]){C=B[1].length}if(D[1]){E=D[1].length}A.mDec=Math.max(C,E)}if(A.altDec===null&&A.mDec>0){if(A.aDec==="."&&A.aSep!==","){A.altDec=","}else{if(A.aDec===","&&A.aSep!=="."){A.altDec="."}}}var z=A.aNeg?"([-\\"+A.aNeg+"]?)":"(-?)";A.aNegRegAutoStrip=z;A.skipFirstAutoStrip=new RegExp(z+"[^-"+(A.aNeg?"\\"+A.aNeg:"")+"\\"+A.aDec+"\\d].*?(\\d|\\"+A.aDec+"\\d)");A.skipLastAutoStrip=new RegExp("(\\d\\"+A.aDec+"?)[^\\"+A.aDec+"\\d]\\D*$");var y="-"+A.aNum+"\\"+A.aDec;A.allowedAutoStrip=new RegExp("[^"+y+"]","gi");A.numRegAutoStrip=new RegExp(z+"(?:\\"+A.aDec+"?(\\d+\\"+A.aDec+"\\d+)|(\\d*(?:\\"+A.aDec+"\\d*)?))");return A}function h(A,B,D){if(B.aSign){while(A.indexOf(B.aSign)>-1){A=A.replace(B.aSign,"")}}A=A.replace(B.skipFirstAutoStrip,"$1$2");A=A.replace(B.skipLastAutoStrip,"$1");A=A.replace(B.allowedAutoStrip,"");if(B.altDec){A=A.replace(B.altDec,B.aDec)}var w=A.match(B.numRegAutoStrip);A=w?[w[1],w[2],w[3]].join(""):"";if((B.lZero==="allow"||B.lZero==="keep")&&D!=="strip"){var z=[],y="";z=A.split(B.aDec);if(z[0].indexOf("-")!==-1){y="-";z[0]=z[0].replace("-","")}if(z[0].length>B.mInt&&z[0].charAt(0)==="0"){z[0]=z[0].slice(1)}A=y+z.join(B.aDec)}if((D&&B.lZero==="deny")||(D&&B.lZero==="allow"&&B.allowLeading===false)){var C="^"+B.aNegRegAutoStrip+"0*(\\d"+(D==="leading"?")":"|$)");C=new RegExp(C);A=A.replace(C,"$1$2")}return A}function r(z,w,y){w=w.split(",");if(y==="set"||y==="focusout"){z=z.replace("-","");z=w[0]+z+w[1]}else{if((y==="get"||y==="focusin"||y==="pageLoad")&&z.charAt(0)===w[0]){z=z.replace(w[0],"-");z=z.replace(w[1],"")}}return z}function v(A,w,y){if(w&&y){var z=A.split(w);if(z[1]&&z[1].length>y){if(y>0){z[1]=z[1].substring(0,y);A=z.join(w)}else{A=z[0]}}}return A}function n(z,w,y){if(w&&w!=="."){z=z.replace(w,".")}if(y&&y!=="-"){z=z.replace(y,"-")}if(!z.match(/\d/)){z+="0"}return z}function l(B,A){var y=B.indexOf("."),w=+B;if(y!==-1){if(w<1e-06&&w>-1){B=+B;if(B<1e-06&&B>0){B=(B+10).toString();B=B.substring(1)}if(B<0&&B>-1){B=(B-10).toString();B="-"+B.substring(2)}B=B.toString()}else{var z=B.split(".");if(z[1]!==undefined){if(+z[1]===0){B=z[0]}else{z[1]=z[1].replace(/0*$/,"");B=z.join(".")}}}}return(A.lZero==="keep")?B:B.replace(/^0*(\d)/,"$1")}function s(z,w,y){if(y&&y!=="-"){z=z.replace("-",y)}if(w&&w!=="."){z=z.replace(".",w)}return z}function b(w,y){w=h(w,y);w=v(w,y.aDec,y.mDec);w=n(w,y.aDec,y.aNeg);var z=+w;if(y.oEvent==="set"&&(z<y.vMin||z>y.vMax)){a.error("The value ("+z+") from the 'set' method falls outside of the vMin / vMax range")}return z>=y.vMin&&z<=y.vMax}function j(w,y,z){if(w===""||w===y.aNeg){if(y.wEmpty==="zero"){return w+"0"}if(y.wEmpty==="sign"||z){return w+y.aSign}return w}return null}function e(A,D){A=h(A,D);var E=A.replace(",","."),y=j(A,D,true);if(y!==null){return y}var w="";if(D.dGroup===2){w=/(\d)((\d)(\d{2}?)+)$/}else{if(D.dGroup===4){w=/(\d)((\d{4}?)+)$/}else{w=/(\d)((\d{3}?)+)$/}}var B=A.split(D.aDec);if(D.altDec&&B.length===1){B=A.split(D.altDec)}var C=B[0];if(D.aSep){while(w.test(C)){C=C.replace(w,"$1"+D.aSep+"$2")}}if(D.mDec!==0&&B.length>1){if(B[1].length>D.mDec){B[1]=B[1].substring(0,D.mDec)}A=C+D.aDec+B[1]}else{A=C}if(D.aSign){var z=A.indexOf(D.aNeg)!==-1;A=A.replace(D.aNeg,"");A=D.pSign==="p"?D.aSign+A:A+D.aSign;if(z){A=D.aNeg+A}}if(D.oEvent==="set"&&E<0&&D.nBracket!==null){A=r(A,D.nBracket,D.oEvent)}return A}function g(A,H){A=(A==="")?"0":A.toString();m(H,"mDec");var C="",z=0,D="",F=(typeof(H.aPad)==="boolean"||H.aPad===null)?(H.aPad?H.mDec:0):+H.aPad;var J=function(M){var N=F===0?(/(\.[1-9]*)0*$/):F===1?(/(\.\d[1-9]*)0*$/):new RegExp("(\\.\\d{"+F+"}[1-9]*)0*$");M=M.replace(N,"$1");if(F===0){M=M.replace(/\.$/,"")}return M};if(A.charAt(0)==="-"){D="-";A=A.replace("-","")}if(!A.match(/^\d/)){A="0"+A}if(D==="-"&&+A===0){D=""}if((+A>0&&H.lZero!=="keep")||(A.length>0&&H.lZero==="allow")){A=A.replace(/^0*(\d)/,"$1")}var y=A.lastIndexOf("."),K=y===-1?A.length-1:y,w=(A.length-1)-K;if(w<=H.mDec){C=A;if(w<F){if(y===-1){C+="."}while(w<F){var L="000000".substring(0,F-w);C+=L;w+=L.length}}else{if(w>F){C=J(C)}else{if(w===0&&F===0){C=C.replace(/\.$/,"")}}}return D+C}var G=y+H.mDec,I=+A.charAt(G+1),B=A.substring(0,G+1).split(""),E=(A.charAt(G)===".")?(A.charAt(G-1)%2):(A.charAt(G)%2);if((I>4&&H.mRound==="S")||(I>4&&H.mRound==="A"&&D==="")||(I>5&&H.mRound==="A"&&D==="-")||(I>5&&H.mRound==="s")||(I>5&&H.mRound==="a"&&D==="")||(I>4&&H.mRound==="a"&&D==="-")||(I>5&&H.mRound==="B")||(I===5&&H.mRound==="B"&&E===1)||(I>0&&H.mRound==="C"&&D==="")||(I>0&&H.mRound==="F"&&D==="-")||(I>0&&H.mRound==="U")){for(z=(B.length-1);z>=0;z-=1){if(B[z]!=="."){B[z]=+B[z]+1;if(B[z]<10){break}if(z>0){B[z]="0"}}}}B=B.slice(0,G+1);C=J(B.join(""));return(+C===0)?C:D+C}function f(y,w){this.settings=w;this.that=y;this.$that=a(y);this.formatted=false;this.settingsClone=c(this.$that,this.settings);this.value=y.value}f.prototype={init:function(w){this.value=this.that.value;this.settingsClone=c(this.$that,this.settings);this.ctrlKey=w.ctrlKey;this.cmdKey=w.metaKey;this.shiftKey=w.shiftKey;this.selection=o(this.that);if(w.type==="keydown"||w.type==="keyup"){this.kdCode=w.keyCode}this.which=w.which;this.processed=false;this.formatted=false},setSelection:function(z,w,y){z=Math.max(z,0);w=Math.min(w,this.that.value.length);this.selection={start:z,end:w,length:w-z};if(y===undefined||y){u(this.that,z,w)}},setPosition:function(w,y){this.setSelection(w,w,y)},getBeforeAfter:function(){var z=this.value,w=z.substring(0,this.selection.start),y=z.substring(this.selection.end,z.length);return[w,y]},getBeforeAfterStriped:function(){var w=this.getBeforeAfter();w[0]=h(w[0],this.settingsClone);w[1]=h(w[1],this.settingsClone);return w},normalizeParts:function(w,A){var B=this.settingsClone;A=h(A,B);var C=A.match(/^\d/)?true:"leading";w=h(w,B,C);if((w===""||w===B.aNeg)&&B.lZero==="deny"){if(A>""){A=A.replace(/^0*(\d)/,"$1")}}var z=w+A;if(B.aDec){var y=z.match(new RegExp("^"+B.aNegRegAutoStrip+"\\"+B.aDec));if(y){w=w.replace(y[1],y[1]+"0");z=w+A}}if(B.wEmpty==="zero"&&(z===B.aNeg||z==="")){w+="0"}return[w,A]},setValueParts:function(w,B){var C=this.settingsClone,z=this.normalizeParts(w,B),y=z.join(""),A=z[0].length;if(b(y,C)){y=v(y,C.aDec,C.mDec);if(A>y.length){A=y.length}this.value=y;this.setPosition(A,false);return true}return false},signPosition:function(){var A=this.settingsClone,w=A.aSign,B=this.that;if(w){var y=w.length;if(A.pSign==="p"){var z=A.aNeg&&B.value&&B.value.charAt(0)===A.aNeg;return z?[1,y+1]:[0,y]}var C=B.value.length;return[C-y,C]}return[1000,-1]},expandSelectionOnSign:function(y){var z=this.signPosition(),w=this.selection;if(w.start<z[1]&&w.end>z[0]){if((w.start<z[0]||w.end>z[1])&&this.value.substring(Math.max(w.start,z[0]),Math.min(w.end,z[1])).match(/^\s*$/)){if(w.start<z[0]){this.setSelection(w.start,z[0],y)}else{this.setSelection(z[1],w.end,y)}}else{this.setSelection(Math.min(w.start,z[0]),Math.max(w.end,z[1]),y)}}},checkPaste:function(){if(this.valuePartsBeforePaste!==undefined){var y=this.getBeforeAfter(),w=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste;y[0]=y[0].substr(0,w[0].length)+h(y[0].substr(w[0].length),this.settingsClone);if(!this.setValueParts(y[0],y[1])){this.value=w.join("");this.setPosition(w[0].length,false)}}},skipAllways:function(A){var B=this.kdCode,F=this.which,z=this.ctrlKey,y=this.cmdKey,C=this.shiftKey;if(((z||y)&&A.type==="keyup"&&this.valuePartsBeforePaste!==undefined)||(C&&B===45)){this.checkPaste();return false}if((B>=112&&B<=123)||(B>=91&&B<=93)||(B>=9&&B<=31)||(B<8&&(F===0||F===B))||B===144||B===145||B===45){return true}if((z||y)&&B===65){return true}if((z||y)&&(B===67||B===86||B===88)){if(A.type==="keydown"){this.expandSelectionOnSign()}if(B===86||B===45){if(A.type==="keydown"||A.type==="keypress"){if(this.valuePartsBeforePaste===undefined){this.valuePartsBeforePaste=this.getBeforeAfter()}}else{this.checkPaste()}}return A.type==="keydown"||A.type==="keypress"||B===67}if(z||y){return true}if(B===37||B===39){var w=this.settingsClone.aSep,D=this.selection.start,E=this.that.value;if(A.type==="keydown"&&w&&!this.shiftKey){if(B===37&&E.charAt(D-2)===w){this.setPosition(D-1)}else{if(B===39&&E.charAt(D+1)===w){this.setPosition(D+1)}}}return true}if(B>=34&&B<=40){return true}return false},processAllways:function(){var w;if(this.kdCode===8||this.kdCode===46){if(!this.selection.length){w=this.getBeforeAfterStriped();if(this.kdCode===8){w[0]=w[0].substring(0,w[0].length-1)}else{w[1]=w[1].substring(1,w[1].length)}this.setValueParts(w[0],w[1])}else{this.expandSelectionOnSign(false);w=this.getBeforeAfterStriped();this.setValueParts(w[0],w[1])}return true}return false},processKeypress:function(){var B=this.settingsClone,w=String.fromCharCode(this.which),z=this.getBeforeAfterStriped(),y=z[0],A=z[1];if(w===B.aDec||(B.altDec&&w===B.altDec)||((w==="."||w===",")&&this.kdCode===110)){if(!B.mDec||!B.aDec){return true}if(B.aNeg&&A.indexOf(B.aNeg)>-1){return true}if(y.indexOf(B.aDec)>-1){return true}if(A.indexOf(B.aDec)>0){return true}if(A.indexOf(B.aDec)===0){A=A.substr(1)}this.setValueParts(y+B.aDec,A);return true}if(w==="-"||w==="+"){if(!B.aNeg){return true}if(y===""&&A.indexOf(B.aNeg)>-1){y=B.aNeg;A=A.substring(1,A.length)}if(y.charAt(0)===B.aNeg){y=y.substring(1,y.length)}else{y=(w==="-")?B.aNeg+y:y}this.setValueParts(y,A);return true}if(w>="0"&&w<="9"){if(B.aNeg&&y===""&&A.indexOf(B.aNeg)>-1){y=B.aNeg;A=A.substring(1,A.length)}if(B.vMax<=0&&B.vMin<B.vMax&&this.value.indexOf(B.aNeg)===-1&&w!=="0"){y=B.aNeg+y}this.setValueParts(y+w,A);return true}return true},formatQuick:function(){var F=this.settingsClone,D=this.getBeforeAfterStriped(),z=this.value;if((F.aSep===""||(F.aSep!==""&&z.indexOf(F.aSep)===-1))&&(F.aSign===""||(F.aSign!==""&&z.indexOf(F.aSign)===-1))){var G=[],C="";G=z.split(F.aDec);if(G[0].indexOf("-")>-1){C="-";G[0]=G[0].replace("-","");D[0]=D[0].replace("-","")}if(G[0].length>F.mInt&&D[0].charAt(0)==="0"){D[0]=D[0].slice(1)}D[0]=C+D[0]}var H=e(this.value,this.settingsClone),E=H.length;if(H){var y=D[0].split(""),w=0;for(w;w<y.length;w+=1){if(!y[w].match("\\d")){y[w]="\\"+y[w]}}var A=new RegExp("^.*?"+y.join(".*?"));var B=H.match(A);if(B){E=B[0].length;if(((E===0&&H.charAt(0)!==F.aNeg)||(E===1&&H.charAt(0)===F.aNeg))&&F.aSign&&F.pSign==="p"){E=this.settingsClone.aSign.length+(H.charAt(0)==="-"?1:0)}}else{if(F.aSign&&F.pSign==="s"){E-=F.aSign.length}}}this.that.value=H;this.setPosition(E);this.formatted=true}};function d(w){if(typeof w==="string"){w=w.replace(/\[/g,"\\[").replace(/\]/g,"\\]");w="#"+w.replace(/(:|\.)/g,"\\$1")}return a(w)}function p(w,A,B){var y=w.data("autoNumeric");if(!y){y={};w.data("autoNumeric",y)}var z=y.holder;if((z===undefined&&A)||B){z=new f(w.get(0),A);y.holder=z}return z}var q={init:function(w){return this.each(function(){var y=a(this),B=y.data("autoNumeric"),D=y.data();if(typeof B!=="object"){var z={aNum:"0123456789",aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"999999999.99",vMin:"0.00",mDec:null,mRound:"S",aPad:true,nBracket:null,wEmpty:"empty",lZero:"allow",aForm:true,onSomeEvent:function(){}};B=a.extend({},z,D,w);if(B.aDec===B.aSep){a.error("autoNumeric will not function properly when the decimal character aDec: '"+B.aDec+"' and thousand separator aSep: '"+B.aSep+"' are the same character");return this}y.data("autoNumeric",B)}else{return this}B.lastSetValue="";B.runOnce=false;var A=p(y,B);if(a.inArray(y.prop("tagName"),B.tagList)===-1&&y.prop("tagName")!=="INPUT"){a.error("The <"+y.prop("tagName")+"> is not supported by autoNumeric()");return this}if(B.runOnce===false&&B.aForm){if(y.is("input[type=text], input[type=hidden], input:not([type])")){var C=true;if(y[0].value===""&&B.wEmpty==="empty"){y[0].value="";C=false}if(y[0].value===""&&B.wEmpty==="sign"){y[0].value=B.aSign;C=false}if(C){y.autoNumeric("set",y.val())}}if(a.inArray(y.prop("tagName"),B.tagList)!==-1&&y.text()!==""){y.autoNumeric("set",y.text())}}B.runOnce=true;if(y.is("input[type=text], input[type=hidden], input:not([type])")){y.on("keydown.autoNumeric",function(E){A=p(y);if(A.settings.aDec===A.settings.aSep){a.error("autoNumeric will not function properly when the decimal character aDec: '"+A.settings.aDec+"' and thousand separator aSep: '"+A.settings.aSep+"' are the same character");return this}if(A.that.readOnly){A.processed=true;return true}A.init(E);A.settings.oEvent="keydown";if(A.skipAllways(E)){A.processed=true;return true}if(A.processAllways()){A.processed=true;A.formatQuick();E.preventDefault();return false}A.formatted=false;return true});y.on("keypress.autoNumeric",function(E){var F=p(y),G=F.processed;F.init(E);F.settings.oEvent="keypress";if(F.skipAllways(E)){return true}if(G){E.preventDefault();return false}if(F.processAllways()||F.processKeypress()){F.formatQuick();E.preventDefault();return false}F.formatted=false});y.on("keyup.autoNumeric",function(E){var F=p(y);F.init(E);F.settings.oEvent="keyup";var G=F.skipAllways(E);F.kdCode=0;delete F.valuePartsBeforePaste;if(y[0].value===F.settings.aSign){if(F.settings.pSign==="s"){u(this,0,0)}else{u(this,F.settings.aSign.length,F.settings.aSign.length)}}if(G){return true}if(this.value===""){return true}if(!F.formatted){F.formatQuick()}});y.on("focusin.autoNumeric",function(){var F=p(y);F.settingsClone.oEvent="focusin";if(F.settingsClone.nBracket!==null){var E=y.val();y.val(r(E,F.settingsClone.nBracket,F.settingsClone.oEvent))}F.inVal=y.val();var G=j(F.inVal,F.settingsClone,true);if(G!==null){y.val(G);if(F.settings.pSign==="s"){u(this,0,0)}else{u(this,F.settings.aSign.length,F.settings.aSign.length)}}});y.on("focusout.autoNumeric",function(){var F=p(y),H=F.settingsClone,J=y.val(),G=J;F.settingsClone.oEvent="focusout";var I="";if(H.lZero==="allow"){H.allowLeading=false;I="leading"}if(J!==""){J=h(J,H,I);if(j(J,H)===null&&b(J,H,y[0])){J=n(J,H.aDec,H.aNeg);J=g(J,H);J=s(J,H.aDec,H.aNeg)}else{J=""}}var E=j(J,H,false);if(E===null){E=e(J,H)}if(E!==G){y.val(E)}if(E!==F.inVal){y.change();delete F.inVal}if(H.nBracket!==null&&y.autoNumeric("get")<0){F.settingsClone.oEvent="focusout";y.val(r(y.val(),H.nBracket,H.oEvent))}})}})},destroy:function(){return a(this).each(function(){var w=a(this);w.off(".autoNumeric");w.removeData("autoNumeric")})},update:function(w){return a(this).each(function(){var y=d(a(this)),z=y.data("autoNumeric");if(typeof z!=="object"){a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");return this}var A=y.autoNumeric("get");z=a.extend(z,w);p(y,z,true);if(z.aDec===z.aSep){a.error("autoNumeric will not function properly when the decimal character aDec: '"+z.aDec+"' and thousand separator aSep: '"+z.aSep+"' are the same character");return this}y.data("autoNumeric",z);if(y.val()!==""||y.text()!==""){return y.autoNumeric("set",A)}return})},set:function(w){return a(this).each(function(){var y=d(a(this)),z=y.data("autoNumeric"),B=w.toString(),A=w.toString();if(typeof z!=="object"){a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method");return this}if((A===y.attr("value")||A===y.text())&&z.runOnce===false){B=B.replace(",",".")}if(A!==y.attr("value")&&y.prop("tagName")==="INPUT"&&z.runOnce===false){B=h(B,z)}if(!a.isNumeric(+B)){return""}B=l(B,z);z.oEvent="set";z.lastSetValue=B;B.toString();if(B!==""){B=g(B,z)}B=s(B,z.aDec,z.aNeg);if(!b(B,z)){B=g("",z)}B=e(B,z);if(y.is("input[type=text], input[type=hidden], input:not([type])")){return y.val(B)}if(a.inArray(y.prop("tagName"),z.tagList)!==-1){return y.text(B)}a.error("The <"+y.prop("tagName")+"> is not supported by autoNumeric()");return false})},get:function(){var w=d(a(this)),z=w.data("autoNumeric");if(typeof z!=="object"){a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");return this}z.oEvent="get";var y="";if(w.is("input[type=text], input[type=hidden], input:not([type])")){y=w.eq(0).val()}else{if(a.inArray(w.prop("tagName"),z.tagList)!==-1){y=w.eq(0).text()}else{a.error("The <"+w.prop("tagName")+"> is not supported by autoNumeric()");return false}}if((y===""&&z.wEmpty==="empty")||(y===z.aSign&&(z.wEmpty==="sign"||z.wEmpty==="empty"))){return""}if(z.nBracket!==null&&y!==""){y=r(y,z.nBracket,z.oEvent)}if(z.runOnce||z.aForm===false){y=h(y,z)}y=n(y,z.aDec,z.aNeg);if(+y===0&&z.lZero!=="keep"){y="0"}if(z.lZero==="keep"){return y}y=l(y,z);return y},getString:function(){var z=false,w=d(a(this)),D=w.serialize(),B=D.split("&"),y=0;for(y;y<B.length;y+=1){var A=B[y].split("=");var C=a('*[name="'+decodeURIComponent(A[0])+'"]').data("autoNumeric");if(typeof C==="object"){if(A[1]!==null&&a('*[name="'+decodeURIComponent(A[0])+'"]').data("autoNumeric")!==undefined){A[1]=a('input[name="'+decodeURIComponent(A[0])+'"]').autoNumeric("get");B[y]=A.join("=");z=true}}}if(z===true){return B.join("&")}a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method");return this},getArray:function(){var z=false,w=d(a(this)),y=w.serializeArray();a.each(y,function(B,A){var C=a('*[name="'+decodeURIComponent(A.name)+'"]').data("autoNumeric");if(typeof C==="object"){if(A.value!==""&&a('*[name="'+decodeURIComponent(A.name)+'"]').data("autoNumeric")!==undefined){A.value=a('input[name="'+decodeURIComponent(A.name)+'"]').autoNumeric("get").toString()}z=true}});if(z===true){return y}a.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getArray' method");return this},getSettings:function(){var w=d(a(this));return w.eq(0).data("autoNumeric")}};a.fn.autoNumeric=function(w){if(q[w]){return q[w].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof w==="object"||!w){return q.init.apply(this,arguments)}a.error('Method "'+w+'" is not supported by autoNumeric()')}}(jQuery));
/*
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function g(){}function h(d,e){for(var f=d.length;f--;){if(d[f].listener===e){return f}}return -1}function j(b){return function(){return this[b].apply(this,arguments)}}var l=g.prototype,m=this,n=m.EventEmitter;l.getListeners=function(e){var f,o,p=this._getEvents();if("object"==typeof e){f={};for(o in p){p.hasOwnProperty(o)&&e.test(o)&&(f[o]=p[o])}}else{f=p[e]||(p[e]=[])}return f},l.flattenListeners=function(d){var e,f=[];for(e=0;e<d.length;e+=1){f.push(d[e].listener)}return f},l.getListenersAsObject=function(d){var e,f=this.getListeners(d);return f instanceof Array&&(e={},e[d]=f),e||f},l.addListener=function(b,o){var p,q=this.getListenersAsObject(b),r="object"==typeof o;for(p in q){q.hasOwnProperty(p)&&-1===h(q[p],o)&&q[p].push(r?o:{listener:o,once:!1})}return this},l.on=j("addListener"),l.addOnceListener=function(c,d){return this.addListener(c,{listener:d,once:!0})},l.once=j("addOnceListener"),l.defineEvent=function(b){return this.getListeners(b),this},l.defineEvents=function(c){for(var d=0;d<c.length;d+=1){this.defineEvent(c[d])}return this},l.removeListener=function(b,o){var p,q,r=this.getListenersAsObject(b);for(q in r){r.hasOwnProperty(q)&&(p=h(r[q],o),-1!==p&&r[q].splice(p,1))}return this},l.off=j("removeListener"),l.addListeners=function(c,d){return this.manipulateListeners(!1,c,d)},l.removeListeners=function(c,d){return this.manipulateListeners(!0,c,d)},l.manipulateListeners=function(o,p,q){var r,s,t=o?this.removeListener:this.addListener,u=o?this.removeListeners:this.addListeners;if("object"!=typeof p||p instanceof RegExp){for(r=q.length;r--;){t.call(this,p,q[r])}}else{for(r in p){p.hasOwnProperty(r)&&(s=p[r])&&("function"==typeof s?t.call(this,r,s):u.call(this,r,s))}}return this},l.removeEvent=function(e){var f,o=typeof e,p=this._getEvents();if("string"===o){delete p[e]}else{if("object"===o){for(f in p){p.hasOwnProperty(f)&&e.test(f)&&delete p[f]}}else{delete this._events}}return this},l.removeAllListeners=j("removeEvent"),l.emitEvent=function(o,p){var q,r,s,t,u=this.getListenersAsObject(o);for(s in u){if(u.hasOwnProperty(s)){for(r=u[s].length;r--;){q=u[s][r],q.once===!0&&this.removeListener(o,q.listener),t=q.listener.apply(this,p||[]),t===this._getOnceReturnValue()&&this.removeListener(o,q.listener)}}}return this},l.trigger=j("emitEvent"),l.emit=function(c){var d=Array.prototype.slice.call(arguments,1);return this.emitEvent(c,d)},l.setOnceReturnValue=function(b){return this._onceReturnValue=b,this},l._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},l._getEvents=function(){return this._events||(this._events={})},g.noConflict=function(){return m.EventEmitter=n,g},"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof module&&module.exports?module.exports=g:this.EventEmitter=g}).call(this),
/*
 * eventie v1.0.3
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
function(f){var g=document.documentElement,h=function(){};g.addEventListener?h=function(d,e,m){d.addEventListener(e,m,!1)}:g.attachEvent&&(h=function(a,e,m){a[e+m]=m.handleEvent?function(){var c=f.event;c.target=c.target||c.srcElement,m.handleEvent.call(m,c)}:function(){var b=f.event;b.target=b.target||b.srcElement,m.call(a,b)},a.attachEvent("on"+e,a[e+m])});var j=function(){};g.removeEventListener?j=function(d,e,m){d.removeEventListener(e,m,!1)}:g.detachEvent&&(j=function(e,m,n){e.detachEvent("on"+m,e[m+n]);try{delete e[m+n]}catch(o){e[m+n]=void 0}});var l={bind:h,unbind:j};"function"==typeof define&&define.amd?define(l):f.eventie=l}(this),
/*
 * imagesLoaded v3.0.2
 * JavaScript is all like "You images are done yet or what?"
 */
function(j){function l(d,e){for(var f in e){d[f]=e[f]}return d}function m(b){return"[object Array]"===s.call(b)}function n(c){var f=[];if(m(c)){f=c}else{if("number"==typeof c.length){for(var g=0,h=c.length;h>g;g++){f.push(c[g])}}else{f.push(c)}}return f}function o(b,d){function f(e,t,u){if(!(this instanceof f)){return new f(e,t)}"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=n(e),this.options=l({},this.options),"function"==typeof t?u=t:l(this.options,t),u&&this.on("always",u),this.getImages(),p&&(this.jqDeferred=new p.Deferred);var v=this;setTimeout(function(){v.check()})}function g(c){this.img=c}f.prototype=new b,f.prototype.options={},f.prototype.getImages=function(){this.images=[];for(var t=0,u=this.elements.length;u>t;t++){var v=this.elements[t];"IMG"===v.nodeName&&this.addImage(v);for(var w=v.querySelectorAll("img"),y=0,z=w.length;z>y;y++){var A=w[y];this.addImage(A)}}},f.prototype.addImage=function(c){var e=new g(c);this.images.push(e)},f.prototype.check=function(){function t(c,A){return u.options.debug&&r&&q.log("confirm",c,A),u.progress(c),v++,v===w&&u.complete(),!0}var u=this,v=0,w=this.images.length;if(this.hasAnyBroken=!1,!w){return this.complete(),void 0}for(var y=0;w>y;y++){var z=this.images[y];z.on("confirm",t),z.check()}},f.prototype.progress=function(c){this.hasAnyBroken=this.hasAnyBroken||!c.isLoaded,this.emit("progress",this,c),this.jqDeferred&&this.jqDeferred.notify(this,c)},f.prototype.complete=function(){var c=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(c,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},p&&(p.fn.imagesLoaded=function(e,t){var u=new f(this,e,t);return u.jqDeferred.promise(p(this))});var h={};return g.prototype=new b,g.prototype.check=function(){var c=h[this.img.src];if(c){return this.useCached(c),void 0}if(h[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var e=this.proxyImage=new Image;d.bind(e,"load",this),d.bind(e,"error",this),e.src=this.img.src},g.prototype.useCached=function(c){if(c.isConfirmed){this.confirm(c.isLoaded,"cached was confirmed")}else{var e=this;c.on("confirm",function(t){return e.confirm(t.isLoaded,"cache emitted confirmed"),!0})}},g.prototype.confirm=function(c,e){this.isConfirmed=!0,this.isLoaded=c,this.emit("confirm",this,e)},g.prototype.handleEvent=function(c){var e="on"+c.type;this[e]&&this[e](c)},g.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},g.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},g.prototype.unbindProxyEvents=function(){d.unbind(this.proxyImage,"load",this),d.unbind(this.proxyImage,"error",this)},f}var p=j.jQuery,q=j.console,r="undefined"!=typeof q,s=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter","eventie"],o):j.imagesLoaded=o(j.EventEmitter,j.eventie)}(window);(function(c,a,b){(function(d){if(typeof define==="function"&&define.amd){define(["jquery"],d)}else{if(jQuery&&!jQuery.fn.qtip){d(jQuery)}}}(function(d){var aB=true,I=false,ac=null,aF="x",aG="y",aE="width",M="height",ay="top",W="left",l="bottom",al="right",p="center",J="flip",K="flipinvert",at="shift",ai,ag,A,q,af={},aa="qtip",e="data-hasqtip",f="data-qtip-id",aD=["ui-widget","ui-tooltip"],aq="."+aa,P="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),t=aa+"-fixed",r=aa+"-default",u=aa+"-focus",v=aa+"-hover",s=aa+"-disabled",aj="_replacedByqTip",ad="oldtitle",az,m={ie:(function(){var X=3,C=a.createElement("div");while((C.innerHTML="<!--[if gt IE "+(++X)+"]><i></i><![endif]-->")){if(!C.getElementsByTagName("i")[0]){break}}return X>4?X:NaN}()),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||I};function ah(aH,Y,X,C){this.id=X;this.target=aH;this.tooltip=ac;this.elements={target:aH};this._id=aa+"-"+X;this.timers={img:{}};this.options=Y;this.plugins={};this.cache={event:{},target:d(),disabled:I,attr:C,onTooltip:I,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=I}ag=ah.prototype;ag._when=function(C){return d.when.apply(d,C)};ag.render=function(aM){if(this.rendered||this.destroyed){return this}var aL=this,aJ=this.options,X=this.cache,aH=this.elements,aN=aJ.content.text,aO=aJ.content.title,C=aJ.content.button,aK=aJ.position,aI="."+this._id+" ",Y=[],aP;d.attr(this.target[0],"aria-describedby",this._id);this.tooltip=aH.tooltip=aP=d("<div/>",{id:this._id,"class":[aa,r,aJ.style.classes,aa+"-pos-"+aJ.position.my.abbrev()].join(" "),width:aJ.style.width||"",height:aJ.style.height||"",tracking:aK.target==="mouse"&&aK.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":I,"aria-describedby":this._id+"-content","aria-hidden":aB}).toggleClass(s,this.disabled).attr(f,this.id).data(aa,this).appendTo(aK.container).append(aH.content=d("<div />",{"class":aa+"-content",id:this._id+"-content","aria-atomic":aB}));this.rendered=-1;this.positioning=aB;if(aO){this._createTitle();if(!d.isFunction(aO)){Y.push(this._updateTitle(aO,I))}}if(C){this._createButton()}if(!d.isFunction(aN)){Y.push(this._updateContent(aN,I))}this.rendered=aB;this._setWidget();d.each(af,function(aR){var aQ;if(this.initialize==="render"&&(aQ=this(aL))){aL.plugins[aR]=aQ}});this._unassignEvents();this._assignEvents();this._when(Y).then(function(){aL._trigger("render");aL.positioning=I;if(!aL.hiddenDuringWait&&(aJ.show.ready||aM)){aL.toggle(aB,X.event,I)}aL.hiddenDuringWait=I});ai.api[this.id]=this;return this};ag.destroy=function(C){if(this.destroyed){return this.target}function X(){if(this.destroyed){return}this.destroyed=aB;var Y=this.target,aH=Y.attr(ad);if(this.rendered){this.tooltip.stop(1,0).find("*").remove().end().remove()}d.each(this.plugins,function(aI){this.destroy&&this.destroy()});clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this._unassignEvents();Y.removeData(aa).removeAttr(f).removeAttr(e).removeAttr("aria-describedby");if(this.options.suppress&&aH){Y.attr("title",aH).removeAttr(ad)}this._unbind(Y);this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=ac;delete ai.api[this.id]}if((C!==aB||this.triggering==="hide")&&this.rendered){this.tooltip.one("tooltiphidden",d.proxy(X,this));!this.triggering&&this.hide()}else{X.call(this)}return this.target};function V(C){return C===ac||d.type(C)!=="object"}function U(C){return !(d.isFunction(C)||(C&&C.attr)||C.length||(d.type(C)==="object"&&(C.jquery||C.then)))}function ao(aH){var X,aI,C,Y;if(V(aH)){return I}if(V(aH.metadata)){aH.metadata={type:aH.metadata}}if("content" in aH){X=aH.content;if(V(X)||X.jquery||X.done){X=aH.content={text:(aI=U(X)?I:X)}}else{aI=X.text}if("ajax" in X){C=X.ajax;Y=C&&C.once!==I;delete X.ajax;X.text=function(aL,aJ){var aM=aI||d(this).attr(aJ.options.content.attr)||"Loading...",aK=d.ajax(d.extend({},C,{context:aJ})).then(C.success,ac,C.error).then(function(aN){if(aN&&Y){aJ.set("content.text",aN)}return aN},function(aP,aO,aN){if(aJ.destroyed||aP.status===0){return}aJ.set("content.text",aO+": "+aN)});return !Y?(aJ.set("content.text",aM),aK):aM}}if("title" in X){if(!V(X.title)){X.button=X.title.button;X.title=X.title.text}if(U(X.title||I)){X.title=I}}}if("position" in aH&&V(aH.position)){aH.position={my:aH.position,at:aH.position}}if("show" in aH&&V(aH.show)){aH.show=aH.show.jquery?{target:aH.show}:aH.show===aB?{ready:aB}:{event:aH.show}}if("hide" in aH&&V(aH.hide)){aH.hide=aH.hide.jquery?{target:aH.hide}:{event:aH.hide}}if("style" in aH&&V(aH.style)){aH.style={classes:aH.style}}d.each(af,function(){this.sanitize&&this.sanitize(aH)});return aH}q=ag.checks={builtin:{"^id$":function(aH,Y,aJ,aI){var C=aJ===aB?ai.nextid:aJ,X=aa+"-"+C;if(C!==I&&C.length>0&&!d("#"+X).length){this._id=X;if(this.rendered){this.tooltip[0].id=this._id;this.elements.content[0].id=this._id+"-content";this.elements.title[0].id=this._id+"-title"}}else{aH[Y]=aI}},"^prerender":function(X,C,Y){Y&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(X,C,Y){this._updateContent(Y)},"^content.attr$":function(X,C,aH,Y){if(this.options.content.text===this.target.attr(Y)){this._updateContent(this.target.attr(aH))}},"^content.title$":function(X,C,Y){if(!Y){return this._removeTitle()}Y&&!this.elements.title&&this._createTitle();this._updateTitle(Y)},"^content.button$":function(X,C,Y){this._updateButton(Y)},"^content.title.(text|button)$":function(X,C,Y){this.set("content."+C,Y)},"^position.(my|at)$":function(X,C,Y){"string"===typeof Y&&(X[C]=new A(Y,C==="at"))},"^position.container$":function(X,C,Y){this.rendered&&this.tooltip.appendTo(Y)},"^show.ready$":function(X,C,Y){Y&&(!this.rendered&&this.render(aB)||this.toggle(aB))},"^style.classes$":function(X,C,aH,Y){this.rendered&&this.tooltip.removeClass(Y).addClass(aH)},"^style.(width|height)":function(X,C,Y){this.rendered&&this.tooltip.css(C,Y)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(X,C,Y){this.rendered&&this.tooltip.toggleClass(r,!!Y)},"^events.(render|show|move|hide|focus|blur)$":function(X,C,Y){this.rendered&&this.tooltip[(d.isFunction(Y)?"":"un")+"bind"]("tooltip"+C,Y)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(!this.rendered){return}var C=this.options.position;this.tooltip.attr("tracking",C.target==="mouse"&&C.adjust.mouse);this._unassignEvents();this._assignEvents()}}};function z(aJ,Y){var C=0,aH,aI=aJ,X=Y.split(".");while(aI=aI[X[C++]]){if(C<X.length){aH=aI}}return[aH||aJ,X.pop()]}ag.get=function(C){if(this.destroyed){return this}var X=z(this.options,C.toLowerCase()),Y=X[0][X[1]];return Y.precedance?Y.string():Y};function ar(aH,C){var X,aI,Y;for(X in this.checks){for(aI in this.checks[X]){if(Y=(new RegExp(aI,"i")).exec(aH)){C.push(Y);if(X==="builtin"||this.plugins[X]){this.checks[X][aI].apply(this.plugins[X]||this,C)}}}}}var am=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,an=/^prerender|show\.ready/i;ag.set=function(Y,aK){if(this.destroyed){return this}var aI=this.rendered,aJ=I,aH=this.options,C=this.checks,X;if("string"===typeof Y){X=Y;Y={};Y[X]=aK}else{Y=d.extend({},Y)}d.each(Y,function(aL,aO){if(aI&&an.test(aL)){delete Y[aL];return}var aM=z(aH,aL.toLowerCase()),aN;aN=aM[0][aM[1]];aM[0][aM[1]]=aO&&aO.nodeType?d(aO):aO;aJ=am.test(aL)||aJ;Y[aL]=[aM[0],aM[1],aO,aN]});ao(aH);this.positioning=aB;d.each(Y,d.proxy(ar,this));this.positioning=I;if(this.rendered&&this.tooltip[0].offsetWidth>0&&aJ){this.reposition(aH.position.target==="mouse"?ac:this.cache.event)}return this};ag._update=function(X,Y,aH){var aI=this,C=this.cache;if(!this.rendered||!X){return I}if(d.isFunction(X)){X=X.call(this.elements.target,C.event,this)||""}if(d.isFunction(X.then)){C.waiting=aB;return X.then(function(aJ){C.waiting=I;return aI._update(aJ,Y)},ac,function(aJ){return aI._update(aJ,Y)})}if(X===I||(!X&&X!=="")){return I}if(X.jquery&&X.length>0){Y.empty().append(X.css({display:"block",visibility:"visible"}))}else{Y.html(X)}return this._waitForContent(Y).then(function(aJ){if(aJ.images&&aJ.images.length&&aI.rendered&&aI.tooltip[0].offsetWidth>0){aI.reposition(C.event,!aJ.length)}})};ag._waitForContent=function(X){var C=this.cache;C.waiting=aB;return(d.fn.imagesLoaded?X.imagesLoaded():d.Deferred().resolve([])).done(function(){C.waiting=I}).promise()};ag._updateContent=function(C,X){this._update(C,this.elements.content,X)};ag._updateTitle=function(C,X){if(this._update(C,this.elements.title,X)===I){this._removeTitle(I)}};ag._createTitle=function(){var C=this.elements,X=this._id+"-title";if(C.titlebar){this._removeTitle()}C.titlebar=d("<div />",{"class":aa+"-titlebar "+(this.options.style.widget?D("header"):"")}).append(C.title=d("<div />",{id:X,"class":aa+"-title","aria-atomic":aB})).insertBefore(C.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(Y){d(this).toggleClass("ui-state-active ui-state-focus",Y.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(Y){d(this).toggleClass("ui-state-hover",Y.type==="mouseover")});if(this.options.content.button){this._createButton()}};ag._removeTitle=function(X){var C=this.elements;if(C.title){C.titlebar.remove();C.titlebar=C.title=C.button=ac;if(X!==I){this.reposition()}}};ag.reposition=function(aK,aJ){if(!this.rendered||this.positioning||this.destroyed){return this}this.positioning=aB;var Y=this.cache,aW=this.tooltip,aS=this.options.position,aT=aS.target,aO=aS.my,X=aS.at,a0=aS.viewport,aH=aS.container,C=aS.adjust,aM=C.method.split(" "),aY=aW.outerWidth(I),aX=aW.outerHeight(I),aV=0,aU=0,aZ=aW.css("position"),aR={left:0,top:0},a1=aW[0].offsetWidth>0,aL=aK&&aK.type==="scroll",a2=d(c),aI=aH[0].ownerDocument,aN=this.mouse,aQ,aP;if(d.isArray(aT)&&aT.length===2){X={x:W,y:ay};aR={left:aT[0],top:aT[1]}}else{if(aT==="mouse"){X={x:W,y:ay};if(aN&&aN.pageX&&(C.mouse||!aK||!aK.pageX)){aK=aN}else{if(!aK||!aK.pageX){if((!C.mouse||this.options.show.distance)&&Y.origin&&Y.origin.pageX){aK=Y.origin}else{if(!aK||(aK&&(aK.type==="resize"||aK.type==="scroll"))){aK=Y.event}}}}if(aZ!=="static"){aR=aH.offset()}if(aI.body.offsetWidth!==(c.innerWidth||aI.documentElement.clientWidth)){aP=d(a.body).offset()}aR={left:aK.pageX-aR.left+(aP&&aP.left||0),top:aK.pageY-aR.top+(aP&&aP.top||0)};if(C.mouse&&aL&&aN){aR.left-=(aN.scrollX||0)-a2.scrollLeft();aR.top-=(aN.scrollY||0)-a2.scrollTop()}}else{if(aT==="event"){if(aK&&aK.target&&aK.type!=="scroll"&&aK.type!=="resize"){Y.target=d(aK.target)}else{if(!aK.target){Y.target=this.elements.target}}}else{if(aT!=="event"){Y.target=d(aT.jquery?aT:this.elements.target)}}aT=Y.target;aT=d(aT).eq(0);if(aT.length===0){return this}else{if(aT[0]===a||aT[0]===c){aV=m.iOS?c.innerWidth:aT.width();aU=m.iOS?c.innerHeight:aT.height();if(aT[0]===c){aR={top:(a0||aT).scrollTop(),left:(a0||aT).scrollLeft()}}}else{if(af.imagemap&&aT.is("area")){aQ=af.imagemap(this,aT,X,af.viewport?aM:I)}else{if(af.svg&&aT&&aT[0].ownerSVGElement){aQ=af.svg(this,aT,X,af.viewport?aM:I)}else{aV=aT.outerWidth(I);aU=aT.outerHeight(I);aR=aT.offset()}}}}if(aQ){aV=aQ.width;aU=aQ.height;aP=aQ.offset;aR=aQ.position}aR=this.reposition.offset(aT,aR,aH);if((m.iOS>3.1&&m.iOS<4.1)||(m.iOS>=4.3&&m.iOS<4.33)||(!m.iOS&&aZ==="fixed")){aR.left-=a2.scrollLeft();aR.top-=a2.scrollTop()}if(!aQ||(aQ&&aQ.adjustable!==I)){aR.left+=X.x===al?aV:X.x===p?aV/2:0;aR.top+=X.y===l?aU:X.y===p?aU/2:0}}}aR.left+=C.x+(aO.x===al?-aY:aO.x===p?-aY/2:0);aR.top+=C.y+(aO.y===l?-aX:aO.y===p?-aX/2:0);if(af.viewport){aR.adjusted=af.viewport(this,aR,aS,aV,aU,aY,aX);if(aP&&aR.adjusted.left){aR.left+=aP.left}if(aP&&aR.adjusted.top){aR.top+=aP.top}}else{aR.adjusted={left:0,top:0}}if(!this._trigger("move",[aR,a0.elem||a0],aK)){return this}delete aR.adjusted;if(aJ===I||!a1||isNaN(aR.left)||isNaN(aR.top)||aT==="mouse"||!d.isFunction(aS.effect)){aW.css(aR)}else{if(d.isFunction(aS.effect)){aS.effect.call(aW,this,d.extend({},aR));aW.queue(function(a3){d(this).css({opacity:"",height:""});if(m.ie){this.style.removeAttribute("filter")}a3()})}}this.positioning=I;return this};ag.reposition.offset=function(X,aK,C){if(!C[0]){return aK}var aH=d(X[0].ownerDocument),aM=!!m.ie&&a.compatMode!=="CSS1Compat",aI=C[0],aO,aL,aJ,Y;function aN(aP,aQ){aK.left+=aQ*aP.scrollLeft();aK.top+=aQ*aP.scrollTop()}do{if((aL=d.css(aI,"position"))!=="static"){if(aL==="fixed"){aJ=aI.getBoundingClientRect();aN(aH,-1)}else{aJ=d(aI).position();aJ.left+=(parseFloat(d.css(aI,"borderLeftWidth"))||0);aJ.top+=(parseFloat(d.css(aI,"borderTopWidth"))||0)}aK.left-=aJ.left+(parseFloat(d.css(aI,"marginLeft"))||0);aK.top-=aJ.top+(parseFloat(d.css(aI,"marginTop"))||0);if(!aO&&(Y=d.css(aI,"overflow"))!=="hidden"&&Y!=="visible"){aO=d(aI)}}}while((aI=aI.offsetParent));if(aO&&(aO[0]!==aH[0]||aM)){aN(aO,1)}return aK};var n=(A=ag.reposition.Corner=function(C,Y){C=(""+C).replace(/([A-Z])/," $1").replace(/middle/gi,p).toLowerCase();this.x=(C.match(/left|right/i)||C.match(/center/)||["inherit"])[0].toLowerCase();this.y=(C.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!Y;var X=C.charAt(0);this.precedance=(X==="t"||X==="b"?aG:aF)}).prototype;n.invert=function(X,C){this[X]=this[X]===W?al:this[X]===al?W:C||this[X]};n.string=function(){var C=this.x,X=this.y;return C===X?C:this.precedance===aG||(this.forceY&&X!=="center")?X+" "+C:C+" "+X};n.abbrev=function(){var C=this.string().split(" ");return C[0].charAt(0)+(C[1]&&C[1].charAt(0)||"")};n.clone=function(){return new A(this.string(),this.forceY)};ag.toggle=function(aS,aK){var aH=this.cache,aM=this.options,aT=this.tooltip;if(aK){if((/over|enter/).test(aK.type)&&(/out|leave/).test(aH.event.type)&&aM.show.target.add(aK.target).length===aM.show.target.length&&aT.has(aK.relatedTarget).length){return this}aH.event=w(aK)}this.waiting&&!aS&&(this.hiddenDuringWait=aB);if(!this.rendered){return aS?this.render(1):this}else{if(this.destroyed||this.disabled){return this}}var aU=aS?"show":"hide",aN=this.options[aU],aO=this.options[!aS?"show":"hide"],aP=this.options.position,aI=this.options.content,aW=this.tooltip.css("width"),aV=this.tooltip.is(":visible"),Y=aS||aN.target.length===1,aQ=!aK||aN.target.length<2||aH.target[0]===aK.target,aL,X,aR,aJ,C;if((typeof aS).search("boolean|number")){aS=!aV}aL=!aT.is(":animated")&&aV===aS&&aQ;X=!aL?!!this._trigger(aU,[90]):ac;if(this.destroyed){return this}if(X!==I&&aS){this.focus(aK)}if(!X||aL){return this}d.attr(aT[0],"aria-hidden",!!!aS);if(aS){aH.origin=w(this.mouse);if(d.isFunction(aI.text)){this._updateContent(aI.text,I)}if(d.isFunction(aI.title)){this._updateTitle(aI.title,I)}if(!az&&aP.target==="mouse"&&aP.adjust.mouse){d(a).bind("mousemove."+aa,this._storeMouse);az=aB}if(!aW){aT.css("width",aT.outerWidth(I))}this.reposition(aK,arguments[2]);if(!aW){aT.css("width","")}if(!!aN.solo){(typeof aN.solo==="string"?d(aN.solo):d(aq,aN.solo)).not(aT).not(aN.target).qtip("hide",d.Event("tooltipsolo"))}}else{clearTimeout(this.timers.show);delete aH.origin;if(az&&!d(aq+'[tracking="true"]:visible',aN.solo).not(aT).length){d(a).unbind("mousemove."+aa);az=I}this.blur(aK)}C=d.proxy(function(){if(aS){if(m.ie){aT[0].style.removeAttribute("filter")}aT.css("overflow","");if("string"===typeof aN.autofocus){d(this.options.show.autofocus,aT).focus()}this.options.show.target.trigger("qtip-"+this.id+"-inactive")}else{aT.css({display:"",visibility:"",opacity:"",left:"",top:""})}this._trigger(aS?"visible":"hidden")},this);if(aN.effect===I||Y===I){aT[aU]();C()}else{if(d.isFunction(aN.effect)){aT.stop(1,1);aN.effect.call(aT,this);aT.queue("fx",function(aX){C();aX()})}else{aT.fadeTo(90,aS?1:0,C)}}if(aS){aN.target.trigger("qtip-"+this.id+"-inactive")}return this};ag.show=function(C){return this.toggle(aB,C)};ag.hide=function(C){return this.toggle(I,C)};ag.focus=function(X){if(!this.rendered||this.destroyed){return this}var aI=d(aq),aJ=this.tooltip,C=parseInt(aJ[0].style.zIndex,10),aH=ai.zindex+aI.length,Y;if(!aJ.hasClass(u)){if(this._trigger("focus",[aH],X)){if(C!==aH){aI.each(function(){if(this.style.zIndex>C){this.style.zIndex=this.style.zIndex-1}});aI.filter("."+u).qtip("blur",X)}aJ.addClass(u)[0].style.zIndex=aH}}return this};ag.blur=function(C){if(!this.rendered||this.destroyed){return this}this.tooltip.removeClass(u);this._trigger("blur",[this.tooltip.css("zIndex")],C);return this};ag.disable=function(C){if(this.destroyed){return this}if(C==="toggle"){C=!(this.rendered?this.tooltip.hasClass(s):this.disabled)}else{if("boolean"!==typeof C){C=aB}}if(this.rendered){this.tooltip.toggleClass(s,C).attr("aria-disabled",C)}this.disabled=!!C;return this};ag.enable=function(){return this.disable(I)};ag._createButton=function(){var aI=this,Y=this.elements,aJ=Y.tooltip,C=this.options.content.button,aH=typeof C==="string",X=aH?C:"Close tooltip";if(Y.button){Y.button.remove()}if(C.jquery){Y.button=C}else{Y.button=d("<a />",{"class":"qtip-close "+(this.options.style.widget?"":aa+"-icon"),title:X,"aria-label":X}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}))}Y.button.appendTo(Y.titlebar||aJ).attr("role","button").click(function(aK){if(!aJ.hasClass(s)){aI.hide(aK)}return I})};ag._updateButton=function(C){if(!this.rendered){return I}var X=this.elements.button;if(C){this._createButton()}else{X.remove()}};function D(C){return aD.concat("").join(C?"-"+C+" ":" ")}ag._setWidget=function(){var Y=this.options.style.widget,X=this.elements,aH=X.tooltip,C=aH.hasClass(s);aH.removeClass(s);s=Y?"ui-state-disabled":"qtip-disabled";aH.toggleClass(s,C);aH.toggleClass("ui-helper-reset "+D(),Y).toggleClass(r,this.options.style.def&&!Y);if(X.content){X.content.toggleClass(D("content"),Y)}if(X.titlebar){X.titlebar.toggleClass(D("header"),Y)}if(X.button){X.button.toggleClass(aa+"-icon",!Y)}};function w(C){return C&&{type:C.type,pageX:C.pageX,pageY:C.pageY,target:C.target,relatedTarget:C.relatedTarget,scrollX:C.scrollX||c.pageXOffset||a.body.scrollLeft||a.documentElement.scrollLeft,scrollY:C.scrollY||c.pageYOffset||a.body.scrollTop||a.documentElement.scrollTop}||{}}function G(C,X){if(X>0){return setTimeout(d.proxy(C,this),X)}else{C.call(this)}}function au(C){if(this.tooltip.hasClass(s)){return I}clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this.timers.show=G.call(this,function(){this.toggle(aB,C)},this.options.show.delay)}function N(X){if(this.tooltip.hasClass(s)){return I}var aI=d(X.relatedTarget),aH=aI.closest(aq)[0]===this.tooltip[0],Y=aI[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==aI[0]&&(this.options.position.target==="mouse"&&aH)||(this.options.hide.fixed&&((/mouse(out|leave|move)/).test(X.type)&&(aH||Y)))){try{X.preventDefault();X.stopImmediatePropagation()}catch(C){}return}this.timers.hide=G.call(this,function(){this.toggle(I,X)},this.options.hide.delay,this)}function Q(C){if(this.tooltip.hasClass(s)||!this.options.hide.inactive){return I}clearTimeout(this.timers.inactive);this.timers.inactive=G.call(this,function(){this.hide(C)},this.options.hide.inactive)}function ak(C){if(this.rendered&&this.tooltip[0].offsetWidth>0){this.reposition(C)}}ag._storeMouse=function(C){(this.mouse=w(C)).type="mousemove"};ag._bind=function(aJ,X,Y,aI,C){var aH="."+this._id+(aI?"-"+aI:"");X.length&&d(aJ).bind((X.split?X:X.join(aH+" "))+aH,d.proxy(Y,C||this))};ag._unbind=function(X,C){d(X).unbind("."+this._id+(C?"-"+C:""))};var ab="."+aa;function H(Y,C,X){d(a.body).delegate(Y,(C.split?C:C.join(ab+" "))+ab,function(){var aH=ai.api[d.attr(this,f)];aH&&!aH.disabled&&X.apply(aH,arguments)})}d(function(){H(aq,["mouseenter","mouseleave"],function(C){var Y=C.type==="mouseenter",aI=d(C.currentTarget),aH=d(C.relatedTarget||C.target),X=this.options;if(Y){this.focus(C);aI.hasClass(t)&&!aI.hasClass(s)&&clearTimeout(this.timers.hide)}else{if(X.position.target==="mouse"&&X.hide.event&&X.show.target&&!aH.closest(X.show.target[0]).length){this.hide(C)}}aI.toggleClass(v,Y)});H("["+f+"]",P,Q)});ag._trigger=function(aH,C,Y){var X=d.Event("tooltip"+aH);X.originalEvent=(Y&&d.extend({},Y))||this.cache.event||ac;this.triggering=aH;this.tooltip.trigger(X,[this].concat(C||[]));this.triggering=I;return !X.isDefaultPrevented()};ag._bindEvents=function(aH,C,aJ,Y,aI,X){if(Y.add(aJ).length===Y.length){var aK=[];C=d.map(C,function(aM){var aL=d.inArray(aM,aH);if(aL>-1){aK.push(aH.splice(aL,1)[0]);return}return aM});aK.length&&this._bind(aJ,aK,function(aL){var aM=this.rendered?this.tooltip[0].offsetWidth>0:false;(aM?X:aI).call(this,aL)})}this._bind(aJ,aH,aI);this._bind(Y,C,X)};ag._assignInitialEvents=function(C){var aI=this.options,aK=aI.show.target,Y=aI.hide.target,aJ=aI.show.event?d.trim(""+aI.show.event).split(" "):[],X=aI.hide.event?d.trim(""+aI.hide.event).split(" "):[];if(/mouse(over|enter)/i.test(aI.show.event)&&!/mouse(out|leave)/i.test(aI.hide.event)){X.push("mouseleave")}this._bind(aK,"mousemove",function(aL){this._storeMouse(aL);this.cache.onTarget=aB});function aH(aL){if(this.disabled||this.destroyed){return I}this.cache.event=w(aL);this.cache.target=aL?d(aL.target):[b];clearTimeout(this.timers.show);this.timers.show=G.call(this,function(){this.render(typeof aL==="object"||aI.show.ready)},aI.show.delay)}this._bindEvents(aJ,X,aK,Y,aH,function(){clearTimeout(this.timers.show)});if(aI.show.ready||aI.prerender){aH.call(this,C)}};ag._assignEvents=function(){var aL=this,aJ=this.options,aK=aJ.position,aO=this.tooltip,aN=aJ.show.target,aI=aJ.hide.target,X=aK.container,aP=aK.viewport,Y=d(a),C=d(a.body),aQ=d(c),aM=aJ.show.event?d.trim(""+aJ.show.event).split(" "):[],aH=aJ.hide.event?d.trim(""+aJ.hide.event).split(" "):[];d.each(aJ.events,function(aS,aR){aL._bind(aO,aS==="toggle"?["tooltipshow","tooltiphide"]:["tooltip"+aS],aR,null,aO)});if(/mouse(out|leave)/i.test(aJ.hide.event)&&aJ.hide.leave==="window"){this._bind(Y,["mouseout","blur"],function(aR){if(!/select|option/.test(aR.target.nodeName)&&!aR.relatedTarget){this.hide(aR)}})}if(aJ.hide.fixed){aI=aI.add(aO.addClass(t))}else{if(/mouse(over|enter)/i.test(aJ.show.event)){this._bind(aI,"mouseleave",function(){clearTimeout(this.timers.show)})}}if((""+aJ.hide.event).indexOf("unfocus")>-1){this._bind(X.closest("html"),["mousedown","touchstart"],function(aT){var aR=d(aT.target),aS=this.rendered&&!this.tooltip.hasClass(s)&&this.tooltip[0].offsetWidth>0,aU=aR.parents(aq).filter(this.tooltip[0]).length>0;if(aR[0]!==this.target[0]&&aR[0]!==this.tooltip[0]&&!aU&&!this.target.has(aR[0]).length&&aS){this.hide(aT)}})}if("number"===typeof aJ.hide.inactive){this._bind(aN,"qtip-"+this.id+"-inactive",Q);this._bind(aI.add(aO),ai.inactiveEvents,Q,"-inactive")}this._bindEvents(aM,aH,aN,aI,au,N);this._bind(aN.add(aO),"mousemove",function(aS){if("number"===typeof aJ.hide.distance){var aU=this.cache.origin||{},aT=this.options.hide.distance,aR=Math.abs;if(aR(aS.pageX-aU.pageX)>=aT||aR(aS.pageY-aU.pageY)>=aT){this.hide(aS)}}this._storeMouse(aS)});if(aK.target==="mouse"){if(aK.adjust.mouse){if(aJ.hide.event){this._bind(aN,["mouseenter","mouseleave"],function(aR){this.cache.onTarget=aR.type==="mouseenter"})}this._bind(Y,"mousemove",function(aR){if(this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(s)&&this.tooltip[0].offsetWidth>0){this.reposition(aR)}})}}if(aK.adjust.resize||aP.length){this._bind(d.event.special.resize?aP:aQ,"resize",ak)}if(aK.adjust.scroll){this._bind(aQ.add(aK.container),"scroll",ak)}};ag._unassignEvents=function(){var C=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],c,a];this._unbind(d([]).pushStack(d.grep(C,function(X){return typeof X==="object"})))};function R(aI,aK,aP){var aO,aQ,C,X,aR,Y=d(a.body),aN=aI[0]===a?Y:aI,aL=(aI.metadata)?aI.metadata(aP.metadata):ac,aM=aP.metadata.type==="html5"&&aL?aL[aP.metadata.name]:ac,aJ=aI.data(aP.metadata.name||"qtipopts");try{aJ=typeof aJ==="string"?d.parseJSON(aJ):aJ}catch(aH){}X=d.extend(aB,{},ai.defaults,aP,typeof aJ==="object"?ao(aJ):ac,ao(aM||aL));aQ=X.position;X.id=aK;if("boolean"===typeof X.content.text){C=aI.attr(X.content.attr);if(X.content.attr!==I&&C){X.content.text=C}else{return I}}if(!aQ.container.length){aQ.container=Y}if(aQ.target===I){aQ.target=aN}if(X.show.target===I){X.show.target=aN}if(X.show.solo===aB){X.show.solo=aQ.container.closest("body")}if(X.hide.target===I){X.hide.target=aN}if(X.position.viewport===aB){X.position.viewport=aQ.container}aQ.container=aQ.container.eq(0);aQ.at=new A(aQ.at,aB);aQ.my=new A(aQ.my);if(aI.data(aa)){if(X.overwrite){aI.qtip("destroy",true)}else{if(X.overwrite===I){return I}}}aI.attr(e,aK);if(X.suppress&&(aR=aI.attr("title"))){aI.removeAttr("title").attr(ad,aR).attr("title","")}aO=new ah(aI,X,aK,!!C);aI.data(aa,aO);aI.one("remove.qtip-"+aK+" removeqtip.qtip-"+aK,function(){var aS;if((aS=d(this).data(aa))){aS.destroy(true)}});return aO}ai=d.fn.qtip=function(aJ,aI,aH){var X=(""+aJ).toLowerCase(),aL=ac,C=d.makeArray(arguments).slice(1),Y=C[C.length-1],aK=this[0]?d.data(this[0],aa):ac;if((!arguments.length&&aK)||X==="api"){return aK}else{if("string"===typeof aJ){this.each(function(){var aM=d.data(this,aa);if(!aM){return aB}if(Y&&Y.timeStamp){aM.cache.event=Y}if(aI&&(X==="option"||X==="options")){if(aH!==b||d.isPlainObject(aI)){aM.set(aI,aH)}else{aL=aM.get(aI);return I}}else{if(aM[X]){aM[X].apply(aM,C)}}});return aL!==ac?aL:this}else{if("object"===typeof aJ||!arguments.length){aK=ao(d.extend(aB,{},aJ));return this.each(function(aN){var aM,aO;aO=d.isArray(aK.id)?aK.id[aN]:aK.id;aO=!aO||aO===I||aO.length<1||ai.api[aO]?ai.nextid++:aO;aM=R(d(this),aO,aK);if(aM===I){return aB}else{ai.api[aO]=aM}d.each(af,function(){if(this.initialize==="initialize"){this(aM)}});aM._assignInitialEvents(Y)})}}}};d.qtip=ah;ai.api={};d.each({attr:function(X,aI){if(this.length){var Y=this[0],aH="title",C=d.data(Y,"qtip");if(X===aH&&C&&"object"===typeof C&&C.options.suppress){if(arguments.length<2){return d.attr(Y,ad)}if(C&&C.options.content.attr===aH&&C.cache.attr){C.set("content.text",aI)}return this.attr(ad,aI)}}return d.fn["attr"+aj].apply(this,arguments)},clone:function(X){var aH=d([]),Y="title",C=d.fn["clone"+aj].apply(this,arguments);if(!X){C.filter("["+ad+"]").attr("title",function(){return d.attr(this,ad)}).removeAttr(ad)}return C}},function(X,C){if(!C||d.fn[X+aj]){return aB}var Y=d.fn[X+aj]=d.fn[X];d.fn[X]=function(){return C.apply(this,arguments)||Y.apply(this,arguments)}});if(!d.ui){d["cleanData"+aj]=d.cleanData;d.cleanData=function(Y){for(var aH=0,X;(X=d(Y[aH])).length;aH++){if(X.attr(e)){try{X.triggerHandler("removeqtip")}catch(C){}}}d["cleanData"+aj].apply(this,arguments)}}ai.version="2.2.0";ai.nextid=0;ai.inactiveEvents=P;ai.zindex=15000;ai.defaults={prerender:I,id:I,overwrite:aB,suppress:aB,content:{text:aB,attr:"title",title:I,button:I},position:{my:"top left",at:"bottom right",target:I,container:I,viewport:I,adjust:{x:0,y:0,mouse:aB,scroll:aB,resize:aB,method:"flipinvert flipinvert"},effect:function(C,X,Y){d(this).animate(X,{duration:200,queue:I})}},show:{target:I,event:"mouseenter",effect:aB,delay:90,solo:I,ready:I,autofocus:I},hide:{target:I,event:"mouseleave",effect:aB,delay:0,fixed:I,inactive:I,leave:"window",distance:I},style:{classes:"",widget:I,width:I,height:I,def:aB},events:{render:ac,move:ac,show:ac,hide:ac,toggle:ac,visible:ac,hidden:ac,focus:ac,blur:ac}};var aw,ax=".qtip-tip",Z="margin",j="border",y="color",h="background-color",aA="transparent",O=" !important",L=!!a.createElement("canvas").getContext,T=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i;function o(C){return C.charAt(0).toUpperCase()+C.slice(1)}var F={},E=["Webkit","O","Moz","ms"];function aC(X,aH){var aJ=aH.charAt(0).toUpperCase()+aH.slice(1),aI=(aH+" "+E.join(aJ+" ")+aJ).split(" "),C,aK,Y=0;if(F[aH]){return X.css(F[aH])}while((C=aI[Y++])){if((aK=X.css(C))!==b){return F[aH]=C,aK}}}function S(C,X){return Math.ceil(parseFloat(aC(C,X)))}if(!L){var B=function(Y,C,X){return"<qtipvml:"+Y+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(C||"")+' style="behavior: url(#default#VML); '+(X||"")+'" />'}}else{var ae=c.devicePixelRatio||1,g=(function(){var C=a.createElement("canvas").getContext("2d");return C.backingStorePixelRatio||C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||1}()),ap=ae/g}function av(X,C){this._ns="tip";this.options=C;this.offset=C.offset;this.size=[C.width,C.height];this.init((this.qtip=X))}d.extend(av.prototype,{init:function(X){var C,Y;Y=this.element=X.elements.tip=d("<div />",{"class":aa+"-tip"}).prependTo(X.tooltip);if(L){C=d("<canvas />").appendTo(this.element)[0].getContext("2d");C.lineJoin="miter";C.miterLimit=100000;C.save()}else{C=B("shape",'coordorigin="0,0"',"position:absolute;");this.element.html(C+C);X._bind(d("*",Y).add(Y),["click","mousedown"],function(aH){aH.stopPropagation()},this._ns)}X._bind(X.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(C){var X=this.qtip.elements.titlebar;return X&&(C.y===ay||(C.y===p&&this.element.position().top+(this.size[1]/2)+this.options.offset<X.outerHeight(aB)))},_parseCorner:function(C){var X=this.qtip.options.position.my;if(C===I||X===I){C=I}else{if(C===aB){C=new A(X.string())}else{if(!C.string){C=new A(C);C.fixed=aB}}}return C},_parseWidth:function(C,aH,aI){var X=this.qtip.elements,Y=j+o(aH)+"Width";return(aI?S(aI,Y):(S(X.content,Y)||S(this._useTitle(C)&&X.titlebar||X.content,Y)||S(X.tooltip,Y)))||0},_parseRadius:function(C){var X=this.qtip.elements,Y=j+o(C.y)+o(C.x)+"Radius";return m.ie<9?0:S(this._useTitle(C)&&X.titlebar||X.content,Y)||S(X.tooltip,Y)||0},_invalidColour:function(X,Y,C){var aH=X.css(Y);return !aH||(C&&aH===X.css(C))||T.test(aH)?I:aH},_parseColours:function(aH){var aJ=this.qtip.elements,aK=this.element.css("cssText",""),C=j+o(aH[aH.precedance])+o(y),Y=this._useTitle(aH)&&aJ.titlebar||aJ.content,aI=this._invalidColour,X=[];X[0]=aI(aK,h)||aI(Y,h)||aI(aJ.content,h)||aI(aJ.tooltip,h)||aK.css(h);X[1]=aI(aK,C,y)||aI(Y,C,y)||aI(aJ.content,C,y)||aI(aJ.tooltip,C,y)||aJ.tooltip.css(C);d("*",aK).add(aK).css("cssText",h+":"+aA+O+";"+j+":0"+O+";");return X},_calculateSize:function(Y){var aQ=Y.precedance===aG,aP=this.options.width,aH=this.options.height,aJ=Y.abbrev()==="c",C=(aQ?aP:aH)*(aJ?0.5:1),aK=Math.pow,aN=Math.round,X,aL,aM,aO=Math.sqrt(aK(C,2)+aK(aH,2)),aI=[(this.border/C)*aO,(this.border/aH)*aO];aI[2]=Math.sqrt(aK(aI[0],2)-aK(this.border,2));aI[3]=Math.sqrt(aK(aI[1],2)-aK(this.border,2));X=aO+aI[2]+aI[3]+(aJ?0:aI[0]);aL=X/aO;aM=[aN(aL*aP),aN(aL*aH)];return aQ?aM:aM.reverse()},_calculateTip:function(C,aI,aH){aH=aH||1;aI=aI||this.size;var aK=aI[0]*aH,X=aI[1]*aH,aL=Math.ceil(aK/2),Y=Math.ceil(X/2),aJ={br:[0,0,aK,X,aK,0],bl:[0,0,aK,0,0,X],tr:[0,X,aK,0,aK,X],tl:[0,0,0,X,aK,X],tc:[0,X,aL,0,aK,X],bc:[0,0,aK,0,aL,X],rc:[0,0,aK,Y,0,X],lc:[aK,0,aK,X,0,Y]};aJ.lt=aJ.br;aJ.rt=aJ.bl;aJ.lb=aJ.tr;aJ.rb=aJ.tl;return aJ[C.abbrev()]},_drawCoords:function(C,X){C.beginPath();C.moveTo(X[0],X[1]);C.lineTo(X[2],X[3]);C.lineTo(X[4],X[5]);C.closePath()},create:function(){var C=this.corner=(L||m.ie)&&this._parseCorner(this.options.corner);if((this.enabled=!!this.corner&&this.corner.abbrev()!=="c")){this.qtip.cache.corner=C.clone();this.update()}this.element.toggle(this.enabled);return this.corner},update:function(aK,aR){if(!this.enabled){return this}var aM=this.qtip.elements,aU=this.element,aN=aU.children(),aQ=this.options,aL=this.size,aO=aQ.mimic,aT=Math.round,aH,aS,aI,aJ,X,aV,aP,Y,C;if(!aK){aK=this.qtip.cache.corner||this.corner}if(aO===I){aO=aK}else{aO=new A(aO);aO.precedance=aK.precedance;if(aO.x==="inherit"){aO.x=aK.x}else{if(aO.y==="inherit"){aO.y=aK.y}else{if(aO.x===aO.y){aO[aK.precedance]=aK[aK.precedance]}}}}aS=aO.precedance;if(aK.precedance===aF){this._swapDimensions()}else{this._resetDimensions()}aH=this.color=this._parseColours(aK);if(aH[1]!==aA){Y=this.border=this._parseWidth(aK,aK[aK.precedance]);if(aQ.border&&Y<1&&!T.test(aH[1])){aH[0]=aH[1]}this.border=Y=aQ.border!==aB?aQ.border:Y}else{this.border=Y=0}aP=this.size=this._calculateSize(aK);aU.css({width:aP[0],height:aP[1],lineHeight:aP[1]+"px"});if(aK.precedance===aG){aV=[aT(aO.x===W?Y:aO.x===al?aP[0]-aL[0]-Y:(aP[0]-aL[0])/2),aT(aO.y===ay?aP[1]-aL[1]:0)]}else{aV=[aT(aO.x===W?aP[0]-aL[0]:0),aT(aO.y===ay?Y:aO.y===l?aP[1]-aL[1]-Y:(aP[1]-aL[1])/2)]}if(L){aI=aN[0].getContext("2d");aI.restore();aI.save();aI.clearRect(0,0,6000,6000);aJ=this._calculateTip(aO,aL,ap);X=this._calculateTip(aO,this.size,ap);aN.attr(aE,aP[0]*ap).attr(M,aP[1]*ap);aN.css(aE,aP[0]).css(M,aP[1]);this._drawCoords(aI,X);aI.fillStyle=aH[1];aI.fill();aI.translate(aV[0]*ap,aV[1]*ap);this._drawCoords(aI,aJ);aI.fillStyle=aH[0];aI.fill()}else{aJ=this._calculateTip(aO);aJ="m"+aJ[0]+","+aJ[1]+" l"+aJ[2]+","+aJ[3]+" "+aJ[4]+","+aJ[5]+" xe";aV[2]=Y&&/^(r|b)/i.test(aK.string())?m.ie===8?2:1:0;aN.css({coordsize:(aP[0]+Y)+" "+(aP[1]+Y),antialias:""+(aO.string().indexOf(p)>-1),left:aV[0]-(aV[2]*Number(aS===aF)),top:aV[1]-(aV[2]*Number(aS===aG)),width:aP[0]+Y,height:aP[1]+Y}).each(function(aX){var aW=d(this);aW[aW.prop?"prop":"attr"]({coordsize:(aP[0]+Y)+" "+(aP[1]+Y),path:aJ,fillcolor:aH[0],filled:!!aX,stroked:!aX}).toggle(!!(Y||aX));!aX&&aW.html(B("stroke",'weight="'+(Y*2)+'px" color="'+aH[1]+'" miterlimit="1000" joinstyle="miter"'))})}c.opera&&setTimeout(function(){aM.tip.css({display:"inline-block",visibility:"visible"})},1);if(aR!==I){this.calculate(aK,aP)}},calculate:function(C,aL){if(!this.enabled){return I}var aK=this,Y=this.qtip.elements,aM=this.element,aN=this.options.offset,aH=Y.tooltip.hasClass("ui-widget"),aI={},aJ,X;C=C||this.corner;aJ=C.precedance;aL=aL||this._calculateSize(C);X=[C.x,C.y];if(aJ===aF){X.reverse()}d.each(X,function(aR,aS){var aO,aP,aQ;if(aS===p){aO=aJ===aG?W:ay;aI[aO]="50%";aI[Z+"-"+aO]=-Math.round(aL[aJ===aG?0:1]/2)+aN}else{aO=aK._parseWidth(C,aS,Y.tooltip);aP=aK._parseWidth(C,aS,Y.content);aQ=aK._parseRadius(C);aI[aS]=Math.max(-aK.border,aR?aP:(aN+(aQ>aO?aQ:-aO)))}});aI[C[aJ]]-=aL[aJ===aF?0:1];aM.css({margin:"",top:"",bottom:"",left:"",right:""}).css(aI);return aI},reposition:function(aI,X,aN,aT){if(!this.enabled){return}var Y=X.cache,aL=this.corner.clone(),C=aN.adjusted,aK=X.options.position.adjust.method.split(" "),aJ=aK[0],aS=aK[1]||aK[0],aP={left:I,top:I,x:0,y:0},aM,aH={},aO;function aQ(aU,aX,aW,aY,aV){if(aU===at&&aL.precedance===aX&&C[aY]&&aL[aW]!==p){aL.precedance=aL.precedance===aF?aG:aF}else{if(aU!==at&&C[aY]){aL[aX]=aL[aX]===p?(C[aY]>0?aY:aV):(aL[aX]===aY?aV:aY)}}}function aR(aW,aV,aU){if(aL[aW]===p){aH[Z+"-"+aV]=aP[aW]=aM[Z+"-"+aV]-C[aV]}else{aO=aM[aU]!==b?[C[aV],-aM[aV]]:[-C[aV],aM[aV]];if((aP[aW]=Math.max(aO[0],aO[1]))>aO[0]){aN[aV]-=C[aV];aP[aV]=I}aH[aM[aU]!==b?aU:aV]=aP[aW]}}if(this.corner.fixed!==aB){aQ(aJ,aF,aG,W,al);aQ(aS,aG,aF,ay,l);if(aL.string()!==Y.corner.string()&&(Y.cornerTop!==C.top||Y.cornerLeft!==C.left)){this.update(aL,I)}}aM=this.calculate(aL);if(aM.right!==b){aM.left=-aM.right}if(aM.bottom!==b){aM.top=-aM.bottom}aM.user=this.offset;if(aP.left=(aJ===at&&!!C.left)){aR(aF,W,al)}if(aP.top=(aS===at&&!!C.top)){aR(aG,ay,l)}this.element.css(aH).toggle(!((aP.x&&aP.y)||(aL.x===p&&aP.y)||(aL.y===p&&aP.x)));aN.left-=aM.left.charAt?aM.user:aJ!==at||aP.top||!aP.left&&!aP.top?aM.left+this.border:0;aN.top-=aM.top.charAt?aM.user:aS!==at||aP.left||!aP.left&&!aP.top?aM.top+this.border:0;Y.cornerLeft=C.left;Y.cornerTop=C.top;Y.corner=aL.clone()},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);if(this.qtip.elements.tip){this.qtip.elements.tip.find("*").remove().end().remove()}}});aw=af.tip=function(C){return new av(C,C.options.style.tip)};aw.initialize="render";aw.sanitize=function(C){if(C.style&&"tip" in C.style){var X=C.style.tip;if(typeof X!=="object"){X=C.style.tip={corner:X}}if(!(/string|boolean/i).test(typeof X.corner)){X.corner=aB}}};q.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(C){this.size=[C.width,C.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};d.extend(aB,ai.defaults,{style:{tip:{corner:aB,mimic:I,width:6,height:6,border:aB,offset:0}}});af.viewport=function(Y,aW,aX,a0,aZ,aO,aN){var aY=aX.target,a1=Y.elements.tooltip,aT=aX.my,aH=aX.at,C=aX.adjust,aQ=C.method.split(" "),aR=aQ[0],aS=aQ[1]||aQ[0],a2=aX.viewport,aK=aX.container,aI=Y.cache,X={left:0,top:0},aP,aV,aU,aL,aM,a6,a3,a5,a4;if(!a2.jquery||aY[0]===c||aY[0]===a.body||C.method==="none"){return X}aL=aK.offset()||X;aM=aK.css("position")==="static";aP=a1.css("position")==="fixed";a6=a2[0]===c?a2.width():a2.outerWidth(I);a3=a2[0]===c?a2.height():a2.outerHeight(I);a5={left:aP?0:a2.scrollLeft(),top:aP?0:a2.scrollTop()};a4=a2.offset()||X;function aJ(bk,bh,bp,a7,bl,bm,bd,bo,ba){var bb=aW[bl],bf=aT[bk],a9=aH[bk],bc=bp===at,be=bf===bl?ba:bf===bm?-ba:-ba/2,a8=a9===bl?bo:a9===bm?-bo:-bo/2,bn=a5[bl]+a4[bl]-(aM?0:aL[bl]),bi=bn-bb,bj=bb+ba-(bd===aE?a6:a3)-bn,bg=be-(aT.precedance===bk||bf===aT[bh]?a8:0)-(a9===p?bo/2:0);if(bc){bg=(bf===bl?1:-1)*be;aW[bl]+=bi>0?bi:bj>0?-bj:0;aW[bl]=Math.max(-aL[bl]+a4[bl],bb-bg,Math.min(Math.max(-aL[bl]+a4[bl]+(bd===aE?a6:a3),bb+bg),aW[bl],bf==="center"?bb-be:1000000000))}else{a7*=(bp===K?2:0);if(bi>0&&(bf!==bl||bj>0)){aW[bl]-=bg+a7;aV.invert(bk,bl)}else{if(bj>0&&(bf!==bm||bi>0)){aW[bl]-=(bf===p?-bg:bg)+a7;aV.invert(bk,bm)}}if(aW[bl]<a5&&-aW[bl]>bj){aW[bl]=bb;aV=aT.clone()}}return aW[bl]-bb}if(aR!=="shift"||aS!=="shift"){aV=aT.clone()}X={left:aR!=="none"?aJ(aF,aG,aR,C.x,W,al,aE,a0,aO):0,top:aS!=="none"?aJ(aG,aF,aS,C.y,ay,l,M,aZ,aN):0};if(aV&&aI.lastClass!==(aU=aa+"-pos-"+aV.abbrev())){a1.removeClass(Y.cache.lastClass).addClass((Y.cache.lastClass=aU))}return X}}))}(window,document));(function(a){var b={init:function(d){var c={interval:7*1000,onChangePage:function(){}},e=a.extend(c,d);return this.each(function(){var n=a(this);var l=n.find(".slider-screen");var j=n.find(".right-arrow");var f=n.find(".left-arrow");var g=n.find(".slider-paging");var h=n.find(".slider-preview");var o=0;var t=l.length-1;var m=a("<div class='slider-screen-preview'><div class='arrow'></div><div class='content'></div></div>");var s;var r;r=setInterval(function(){j.click()},e.interval);n.hover(function(){clearInterval(r)},function(){r=setInterval(function(){if(n.attr("paused")!="true"){j.click()}},e.interval)});a("body").append(m);l.hide().first().show();l.each(function(v){var u=a("<div class='slider-page'>"+(parseInt(v,10)+1)+"</div>");u.data("index",v);u.click(function(){if(a(this).hasClass("selected")){return}q(v)});u.hover(function(){var w=a(this);m.css("top",w.offset().top+40);var y=w.offset().left+w.outerWidth()/2-m.outerWidth()/2;clearTimeout(s);if(!m.is(":visible")){m.css("left",y);m.find(".content").append(h.eq(w.data("index")).find("img").clone());m.fadeIn()}else{m.animate({left:y},100);p(h.eq(w.data("index")).find("img").clone(),"left")}},function(){s=setTimeout(function(){m.hide()},300)});if(v===o){u.select()}g.append(u)});j.click(function(u){eventStopPropagation(u);var v=0;if(o+1>t){v=0}else{v=o+1}q(v)});f.click(function(u){eventStopPropagation(u);var v=0;if(o-1<0){v=t}else{v=o-1}q(v)});function q(A){e.onChangePage();var u=l.eq(o);var v=l.eq(A);var B=n.outerWidth();if(o>A){var y=B;var z=-B}else{var y=-B;var z=B}var w="easeOutExpo";u.stop(true).animate({left:y},900,w,function(){u.hide()});v.stop(true).css("left",z).show();v.animate({left:0},900,w);g.find(".slider-page").unselect().eq(A).select();o=A}function p(u,w){var v=m.find(".content").find("img");var A=v.outerWidth();switch(w){case"left":var z=-A;var y=A;break;case"right":var z=A;var y=-A;break}v.animate({marginLeft:z},200,function(){v.remove()});m.find(".content").append(u);u.hide().css("float","left").css("margin-left",y).show();u.animate({marginLeft:0},200)}})},pause:function(){return this.each(function(){a(this).attr("paused","true")})},unpause:function(){return this.each(function(){a(this).attr("paused","false")})}};a.fn.soulSlider=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){var b={init:function(d){var c={text:"",delay:40,appendText:""},e=a.extend(c,d);return this.each(function(){var h=a(this);var j="";var l=h.data("timer");if(isTrue(l)){clearInterval(l)}var m=h.data("timer2");if(isTrue(m)){clearTimeout(m)}var n=h.data("timer3");if(isTrue(n)){clearTimeout(n)}if(e.appendText===""){h.html("")}else{h.html(e.text)}var g=h.next();if(g.html()==="_"){var f=g}else{var f=a("<span>_</span>");h.after(f)}var l=setInterval(function(){f.toggle()},300);h.data("timer",l);if(e.appendText===""){o()}else{p()}function o(){if(h.html().length<e.text.length){var q=setTimeout(function(){var r=h.html().length;h.html(h.html()+e.text.substr(r,1));o()},e.delay);h.data("timer2",q)}else{setTimeout(function(){clearInterval(l);f.hide()},300)}}function p(){if(j.length<e.appendText.length){var q=setTimeout(function(){var r=j.length;j+=e.appendText.substr(r,1);h.html(h.html()+e.appendText.substr(r,1));p()},e.delay);h.data("timer3",q)}else{setTimeout(function(){clearInterval(l);f.hide()},300)}}})}};a.fn.typeWriter=function(c){if(b[c]){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.tooltip")}}}})(jQuery);(function(a){a.path={};var b={rotate:function(f,e){var g=e*Math.PI/180,d=Math.cos(g),h=Math.sin(g);return[d*f[0]-h*f[1],h*f[0]+d*f[1]]},scale:function(d,c){return[c*d[0],c*d[1]]},add:function(c,d){return[c[0]+d[0],c[1]+d[1]]},minus:function(c,d){return[c[0]-d[0],c[1]-d[1]]}};a.path.bezier=function(c,d){c.start=a.extend({angle:0,length:0.3333},c.start);c.end=a.extend({angle:0,length:0.3333},c.end);this.p1=[c.start.x,c.start.y];this.p4=[c.end.x,c.end.y];var f=b.minus(this.p4,this.p1),e=b.scale(f,c.start.length),g=b.scale(f,-1),h=b.scale(g,c.end.length);e=b.rotate(e,c.start.angle);this.p2=b.add(this.p1,e);h=b.rotate(h,c.end.angle);this.p3=b.add(this.p4,h);this.f1=function(j){return(j*j*j)};this.f2=function(j){return(3*j*j*(1-j))};this.f3=function(j){return(3*j*(1-j)*(1-j))};this.f4=function(j){return((1-j)*(1-j)*(1-j))};this.css=function(q){var l=this.f1(q),m=this.f2(q),n=this.f3(q),o=this.f4(q),j={};if(d){j.prevX=this.x;j.prevY=this.y}j.x=this.x=(this.p1[0]*l+this.p2[0]*m+this.p3[0]*n+this.p4[0]*o+0.5)|0;j.y=this.y=(this.p1[1]*l+this.p2[1]*m+this.p3[1]*n+this.p4[1]*o+0.5)|0;j.left=j.x+"px";j.top=j.y+"px";return j}};a.path.arc=function(d,e){for(var c in d){this[c]=d[c]}this.dir=this.dir||1;while(this.start>this.end&&this.dir>0){this.start-=360}while(this.start<this.end&&this.dir<0){this.start+=360}this.css=function(h){var f=(this.start*(h)+this.end*(1-(h)))*Math.PI/180,g={};if(e){g.prevX=this.x;g.prevY=this.y}g.x=this.x=(Math.sin(f)*this.radius+this.center[0]+0.5)|0;g.y=this.y=(Math.cos(f)*this.radius+this.center[1]+0.5)|0;g.left=g.x+"px";g.top=g.y+"px";return g}};a.fx.step.path=function(d){var c=d.end.css(1-d.pos);if(c.prevX!=null){a.cssHooks.transform.set(d.elem,"rotate("+Math.atan2(c.prevY-c.y,c.prevX-c.x)+")")}d.elem.style.top=c.top;d.elem.style.left=c.left}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){a.timeago=function(h){if(h instanceof Date){return e(h)}else{if(typeof h==="string"){return e(a.timeago.parse(h))}else{if(typeof h==="number"){return e(new Date(h))}else{return e(a.timeago.datetime(h))}}}};var b=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:60000,allowPast:true,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(l){if(!this.settings.allowPast&&!this.settings.allowFuture){throw"timeago allowPast and allowFuture settings can not both be set to false."}var h=this.settings.strings;var o=h.prefixAgo;var s=h.suffixAgo;if(this.settings.allowFuture){if(l<0){o=h.prefixFromNow;s=h.suffixFromNow}}if(!this.settings.allowPast&&l>=0){return this.settings.strings.inPast}var p=Math.abs(l)/1000;var n=p/60;var m=n/60;var j=m/24;var u=j/365;function r(y,v){var w=a.isFunction(y)?y(v,l):y;var z=(h.numbers&&h.numbers[v])||v;return w.replace(/%d/i,z)}var t=p<45&&r(h.seconds,Math.round(p))||p<90&&r(h.minute,1)||n<45&&r(h.minutes,Math.round(n))||n<90&&r(h.hour,1)||m<24&&r(h.hours,Math.round(m))||m<42&&r(h.day,1)||j<30&&r(h.days,Math.round(j))||j<45&&r(h.month,1)||j<365&&r(h.months,Math.round(j/30))||u<1.5&&r(h.year,1)||r(h.years,Math.round(u));var q=h.wordSeparator||"";if(h.wordSeparator===undefined){q=" "}return a.trim([o,t,s].join(q))},parse:function(h){var j=a.trim(h);j=j.replace(/\.\d+/,"");j=j.replace(/-/,"/").replace(/-/,"/");j=j.replace(/T/," ").replace(/Z/," UTC");j=j.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");j=j.replace(/([\+\-]\d\d)$/," $100");return new Date(j)},datetime:function(h){var j=b.isTime(h)?a(h).attr("datetime"):a(h).attr("title");return b.parse(j)},isTime:function(h){return a(h).get(0).tagName.toLowerCase()==="time"}});var d={init:function(){var j=a.proxy(g,this);j();var h=b.settings;if(h.refreshMillis>0){this._timeagoInterval=setInterval(j,h.refreshMillis)}},update:function(j){var h=b.parse(j);a(this).data("timeago",{datetime:h});if(b.settings.localeTitle){a(this).attr("title",h.toLocaleString())}g.apply(this)},updateFromDOM:function(){a(this).data("timeago",{datetime:b.parse(b.isTime(this)?a(this).attr("datetime"):a(this).attr("title"))});g.apply(this)},dispose:function(){if(this._timeagoInterval){window.clearInterval(this._timeagoInterval);this._timeagoInterval=null}}};a.fn.timeago=function(h,l){var j=h?d[h]:d.init;if(!j){throw new Error("Unknown function name '"+h+"' for timeago")}this.each(function(){j.call(this,l)});return this};function g(){var j=f(this);var h=b.settings;if(!isNaN(j.datetime)){if(h.cutoff==0||c(j.datetime)<h.cutoff){a(this).text(e(j.datetime))}}return this}function f(h){h=a(h);if(!h.data("timeago")){h.data("timeago",{datetime:b.datetime(h)});var j=a.trim(h.text());if(b.settings.localeTitle){h.attr("title",h.data("timeago").datetime.toLocaleString())}else{if(j.length>0&&!(b.isTime(h)&&h.attr("title"))){h.attr("title",j)}}}return h.data("timeago")}function e(h){return b.inWords(c(h))}function c(h){return(new Date().getTime()-h.getTime())}document.createElement("abbr");document.createElement("time")}));!function(a){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==";var b={zoom:0.1};var d;if(document.onmousewheel!==undefined){d="onmousewheel"}else{if(document.onwheel!==undefined){d="onwheel"}}a.fn.wheelzoom=function(e){var f=a.extend({},b,e);if(!this[0]||!d||!("backgroundSize" in this[0].style)){return this}return this.each(function(){var h=this,g=a(h);function j(){var w=g.width(),p=g.height(),o=w,l=p,m=0,n=0,q=parseInt(g.css("border-left-width"),10),r=parseInt(g.css("border-top-width"),10),s=parseInt(g.css("padding-left"),10),t=parseInt(g.css("padding-top"),10);function u(){o=w;l=p;m=n=0;v()}function v(){if(m>0){m=0}else{if(m<w-o){m=w-o}}if(n>0){n=0}else{if(n<p-l){n=p-l}}h.style.backgroundSize=o+"px "+l+"px";h.style.backgroundPosition=(m+s)+"px "+(n+t)+"px"}g.css({background:"url("+h.src+") 0 0 no-repeat",backgroundSize:w+"px "+p+"px",backgroundPosition:s+"px "+t+"px"}).bind("wheelzoom.reset",u);h.width=h.width||h.naturalWidth;h.height=h.height||h.naturalHeight;h.src=c;h[d]=function(D){var C=0;D.preventDefault();if(D.deltaY){C=D.deltaY}else{if(D.wheelDelta){C=-D.wheelDelta}}var E=g.offset();var F=D.pageX-E.left-q-s;var G=D.pageY-E.top-r-t;var y=F-m;var z=G-n;var A=y/o;var B=z/l;if(C<0){o+=o*f.zoom;l+=l*f.zoom}else{o-=o*f.zoom;l-=l*f.zoom}m=F-(o*A);n=G-(l*B);if(o<=w||l<=p){u()}else{v()}};h.onmousedown=function(z){var A=z;z.preventDefault();function y(B){B.preventDefault();m+=(B.pageX-A.pageX);n+=(B.pageY-A.pageY);A=B;v()}a(document).on("mousemove",y).one("mouseup",function(){a(document).unbind("mousemove",y)})}}if(h.complete){j()}else{g.one("load",j)}})};a.fn.wheelzoom.defaults=b}(window.jQuery);
/* jQuery Ajax Queue - v0.1.2pre - 2013-03-19
* https://github.com/gnarf37/jquery-ajaxQueue
* Copyright (c) 2013 Corey Frang; Licensed MIT */
(function(a){var b=a({});a.ajaxQueue=function(c){var f,d=a.Deferred(),g=d.promise();function e(h){f=a.ajax(c);f.done(d.resolve).fail(d.reject).then(h,h)}b.queue(e);g.abort=function(l){if(f){return f.abort(l)}var j=b.queue(),h=a.inArray(e,j);if(h>-1){j.splice(h,1)}d.rejectWith(c.context||c,[g,l,""]);return g};return g}})(jQuery);!function(a,f,c,e){function d(g,h){this._defaults=b,this.element=g,this.setOptions(h),this.init()}var b={tagName:"a",newLine:"\n",target:"_blank",linkClass:null,linkClasses:[],linkAttributes:null};d.prototype={constructor:d,init:function(){1===this.element.nodeType?d.linkifyNode.call(this,this.element):this.element=d.linkify.call(this,this.element.toString())},setOptions:function(g){this.settings=d.extendSettings(g,this.settings)},toString:function(){return this.element.toString()}},d.extendSettings=function(g,j){var h;j=j||{};for(h in b){j[h]||(j[h]=b[h])}for(h in g){j[h]=g[h]}return j},d.linkMatch=new RegExp(["(",'\\s|[^a-zA-Z0-9.\\+_\\/"\\>\\-]|^',")(?:","(","[a-zA-Z0-9\\+_\\-]+","(?:","\\.[a-zA-Z0-9\\+_\\-]+",")*@",")?(","http:\\/\\/|https:\\/\\/|ftp:\\/\\/",")?(","(?:(?:[a-z0-9][a-z0-9_%\\-_+]*\\.)+)",")(","(?:com|ca|co|edu|gov|net|org|dev|biz|cat|int|pro|tel|mil|aero|asia|coop|info|jobs|mobi|museum|name|post|travel|local|[a-z]{2})",")(","(?:","[\\/|\\?]","(?:","[\\-a-zA-Z0-9_%#*&+=~!?,;:.\\/]*",")*",")","[\\-\\/a-zA-Z0-9_%#*&+=~]","|","\\/?",")?",")(",'[^a-zA-Z0-9\\+_\\/"\\<\\-]|$',")"].join(""),"g"),d.emailLinkMatch=/(<[a-z]+ href=\")(http:\/\/)([a-zA-Z0-9\+_\-]+(?:\.[a-zA-Z0-9\+_\-]+)*@)/g,d.linkify=function(n,l){var g,m,h,j=[];this.constructor===d&&this.settings?(m=this.settings,l&&(m=d.extendSettings(l,m))):m=d.extendSettings(l),h=m.linkClass?m.linkClass.split(/\s+/):[],h.push.apply(h,m.linkClasses),n=n.replace(/</g,"&lt;").replace(/(\s)/g,"$1$1"),j.push("$1<"+m.tagName,'href="http://$2$4$5$6"'),j.push('class="linkified'+(h.length>0?" "+h.join(" "):"")+'"'),m.target&&j.push('target="'+m.target+'"');for(g in m.linkAttributes){j.push([g,'="',m.linkAttributes[g].replace(/\"/g,"&quot;").replace(/\$/g,"&#36;"),'"'].join(""))}return j.push(">$2$3$4$5$6</"+m.tagName+">$7"),n=n.replace(d.linkMatch,j.join(" ")),n=n.replace(d.emailLinkMatch,"$1mailto:$3"),n=n.replace(/(\s){2}/g,"$1"),n=n.replace(/\n/g,m.newLine)},d.linkifyNode=function(n){var j,h,g,l,m;if(n&&"object"==typeof n&&1===n.nodeType&&"a"!==n.tagName.toLowerCase()&&!/[^\s]linkified[\s$]/.test(n.className)){for(j=[],l=d._dummyElement||c.createElement("div"),h=n.firstChild,g=n.childElementCount;h;){if(3===h.nodeType){for(;l.firstChild;){l.removeChild(l.firstChild)}for(l.innerHTML=d.linkify.call(this,h.textContent||h.innerText),j.push.apply(j,l.childNodes);l.firstChild;){l.removeChild(l.firstChild)}}else{1===h.nodeType?j.push(d.linkifyNode(h)):j.push(h)}h=h.nextSibling}for(;n.firstChild;){n.removeChild(n.firstChild)}for(m=0;m<j.length;m++){n.appendChild(j[m])}}return n},d._dummyElement=c.createElement("div"),a.fn.linkify=function(g){return this.each(function(){var h;(h=a.data(this,"plugin-linkify"))?(h.setOptions(g),h.init()):a.data(this,"plugin-linkify",new d(this,g))})},a.fn.linkify.Constructor=d,a(f).on("load",function(){a("[data-linkify]").each(function(){var g,h=a(this),l=h.attr("data-linkify"),j={tagName:h.attr("data-linkify-tagname")||e,newLine:h.attr("data-linkify-newline")||e,target:h.attr("data-linkify-target")||e,linkClass:h.attr("data-linkify-linkclass")||e};g="this"===l?h:h.find(l),g.linkify(j)})}),a("body").on("click",".linkified",function(){var g=a(this),l=g.attr("href"),h=/^mailto:/i.test(l),j=g.attr("target");return h?f.location.href=l:f.open(l,j),!1})}(jQuery,window,document);function propose_to_customer(b,d,c,e){var a=$(b).parents(".result-item-simple");if(confirm("Click OK to submit your proposal.")){loading(a);$.post("pending_item/propose_be_agent",{item_id:d,customer_id:c},function(f){if(f=="0"){alert("10 agents have requested to represent the seller. No more is allowed.")}else{if(isTrue(e)){location.reload();return}$.post("pending_item/get_single_pending_request_html",{item_id:d},function(g){a.find(".content").html($(g).find(".content").html());clear_loading(a)})}})}}function accept_customer_request(b,e,c,d){var a=$(b);if(confirm("Click OK to accept representing the user. The item will be posted under your name after this.")){$.post("pending_item/accept_agent",{targetuserid:e,item_id:c},function(f){if(f=="NOT_AGENT"){alert("The specific agent is not longer an agent.")}else{if(f=="ALREADY_HAD_AGENT"){alert("This property already had an agent.")}else{if(isTrue(d)){location.reload();return}a.parents(".result-item-simple").find(".accepted").show();a.remove()}}})}}$(".PAGE_ABOUT").on("click",".feature-button",function(){var a=$.trim($(this).find(".text").text().toLowerCase());$(".PAGE_ABOUT").find(".text-container").find("h1").each(function(){if($.trim($(this).text()).toLowerCase().indexOf(a)!==-1){$("body").scrollTo(this,800,{easing:"easeOutQuad",offset:-110});return false}})});$(".PAGE_ABOUT").on("click",".question",function(){if($(this).hasClass("show")){$(this).removeClass("show");$(this).next(".answer").slideUp()}else{$(this).addClass("show");$(this).next(".answer").slideDown()}});$(".PAGE_ABOUT").find(".features-container").find("img:not(.register-image)").addClass("clickable-image").css("width",265).css("height",195).css("margin-left",50);$(".PAGE_ABOUT .about1").find(".text-container").each(function(a){if(!$(this).hasClass("no-indicator")){$(this).parent("div").append("<div class='icons indicator'>"+(a+1)+"</div>")}});$(".PAGE_ABOUT .about1").find(".orange-gradient-box").before('<div class="clear"></div>');$(".PAGE_ABOUT .about1").find(".white-gradient-box").before('<div class="clear"></div>');$(".PAGE_ABOUT .about1").find(".orange-gradient-box.right-side").append('<img class="image-shadow" src="image/left_shadow.png" alt="">');$(".PAGE_ABOUT .about1").find(".orange-gradient-box.left-side").append('<img class="image-shadow" src="image/right_shadow.png" alt="">');$(".PAGE_ABOUT .about2").find("h4").wrap("<div class='question'></div>");$(".PAGE_ABOUT .about2").find(".question").append("<div class='arrow-bg'><div class='arrow icons'></div></div>");if($(".PAGE_ABOUT").length>0){$(document).ready(function(){var a=window.location.hash.replace("#","");if(isTrue(a)){focus_question(a)}$(".PAGE_ABOUT").find(".orange-gradient-box").each(function(){var b=$(this).outerHeight();$(this).find(".image-container img").css("height",b-35)})});$(".section-fixed").scrollToFixed({marginTop:80,limit:function(){var a=$(".PAGE_ABOUT").offset().top+$(".PAGE_ABOUT").outerHeight()-$(".section-fixed").outerHeight(true)-20;return a}})}function focus_question(a){$("body").scrollTo($(".PAGE_ABOUT").find("."+a),0,{offset:-100});if(!$("."+a).parents(".question").hasClass("show")){$("."+a).parent(".question").click()}}if($(".PAGE_DASHBOARD").find(".contacts-post").length>0){$.post("posting/get_contacts_latest_post/1/-1/0",function(a){$(".contacts-post").html(a);$(".PAGE_DASHBOARD").find(".contacts-post").find(".switching").switchImageHover()})}if($(".PAGE_DASHBOARD").find(".popular-post").length>0){$.post("posting/get_popular_post/1/-1/0",function(a){$(".popular-post").html(a);$(".PAGE_DASHBOARD").find(".popular-post").find(".switching").switchImageHover()})}if($(".PAGE_DASHBOARD").find(".user-post").length>0){$.post("posting/get_user_latest_post/1/"+PAGE_DASHBOARD_userid+"/-1/0",function(a){$(".user-post").html(a);$(".PAGE_DASHBOARD").find(".user-post").find(".switching").switchImageHover()})}$(".PAGE_DASHBOARD .content-container").find(".inner").resize(function(){if(viewport("width")<768){var a=$(this).outerHeight();$(this).parent("div").css("height",a+50);$(".dashboard-container").css("min-height",0)}else{var a=$(this).outerHeight();$(this).parent("div").css("height",0);$(".dashboard-container").css("min-height",a+50)}});$(".PAGE_DASHBOARD .content-container").find(".inner").resize();function change_page(a,j){if($(a).hasClass("selected")){return}var h=$(a).parent("div").find(".dot-paging.selected");if(h.index()>$(a).index()){direction="right"}else{direction="left"}$(a).parents(".paginations-container").find(".dot-paging").removeClass("selected");$(a).addClass("selected");$(a).parents(".item-listing-vertical-container").find(".item-views").remove();$(a).parents(".item-listing-vertical-container").find(".switching").remove();if(direction==="right"){var f=$(a).parents(".item-listing-vertical-container").find(".item-listing-vertical").find(".items");f.parents(".top-items-container").css("width",700);var g=$("<div class='top-items-container left-hidden'></div>");var e=$(a).parents(".item-listing-vertical-container");var d=$(a).parents(".paginations-container");d.before(g);$.post(j,function(l){g.append(l);$(f).animate({"margin-left":"260px"},500);$(g).animate({"margin-left":"0px"},500,function(){$(this).removeClass("left-hidden");if($(f).parents(".item-listing-vertical").parent(".top-items-container").length>0){$(f).parents(".item-listing-vertical").parent(".top-items-container").remove()}else{$(f).parents(".item-listing-vertical").remove()}});$(a).parents(".item-listing-vertical-container").find(".switching").switchImageHover()})}else{if(direction==="left"){var b=$(a).parents(".item-listing-vertical-container").find(".item-listing-vertical").find(".items");var c=$("<div class='top-items-container right-hidden'></div>");var e=$(a).parents(".item-listing-vertical-container");var d=$(a).parents(".paginations-container");d.before(c);$.post(j,function(l){c.append(l);$(b).animate({"margin-left":"-260px"},500);$(c).animate({"margin-left":"0px"},500,function(){$(this).removeClass("right-hidden");if($(b).parents(".item-listing-vertical").parent(".top-items-container").length>0){$(b).parents(".item-listing-vertical").parent(".top-items-container").remove()}else{$(b).parents(".item-listing-vertical").remove()}});$(a).parents(".item-listing-vertical-container").find(".switching").switchImageHover()})}}}function addcontact(){alert("Added to your contact list.");$.post("contact/add_contact/"+PAGE_DASHBOARD_userid,function(){location.reload()})}function deletecontact(){var a=confirm("Are you sure you want to delete this contact from your contact list?");if(a===true){$.post("contact/delete_contact/"+PAGE_DASHBOARD_userid,function(){location.reload()})}}$(".dashboard-menu").find(".menu-item-container:not(.selected)").hover(function(){var a=$(this);var b=a.find(".menu-item");$menuimage_container=a.find(".menu-image-container");$menuimage=a.find(".menu-image");b.addClass("hovered");b.stop(true).animate({top:"49px"},300);$menuimage_container.stop(true).css("display","block").animate({width:"90px",height:"50px",left:"0px"},600,"easeOutBack")},function(){var a=$(this);var b=a.find(".menu-item");$menuimage_container=a.find(".menu-image-container");$menuimage=a.find(".menu-image");b.removeClass("hovered");b.stop(true).animate({top:"0px"},300,"easeInBack",function(){b.css("top",0)});$menuimage_container.stop(true).animate({width:"0px",height:"0px",left:"45px"},400,"easeInBack",function(){$(this).css("display","none")})});$(".dashboard-menu").find(".menu-item-container").click(function(){var a=$(this).parents("a").attr("href");direct_to_url(a)});if($(".PAGE_DASHBOARD").length>0){refresh_dashboard_menu()}function refresh_dashboard_menu(){var c=-1;var b=-1;var e=[];var d=-1;$(".dashboard-menu").find(".menu-item-container").each(function(){var g=$(this);if(parseInt(g.offset().top,10)>parseInt(b,10)){b=g.offset().top;c++;e=[]}if(g.hasClass("selected")){d=c}e.push(g);dMenuGroup[c]=e});$(".dashboard-menu").find(".menu-item-container").hide();$(".dashboard-menu").data("page",d);var a=dMenuGroup[d];for(var f in a){a[f].show()}refresh_dashboard_menu_arrow()}function switch_dashboard_menu_page(a){var b;if(a=="next"){b=$(".dashboard-menu").data("page")+1}else{b=$(".dashboard-menu").data("page")-1}$(".dashboard-menu").data("page",b);$(".dashboard-menu-conainer").css("height","45");$(".dashboard-menu").fadeOut(function(){$(".dashboard-menu").find(".menu-item-container").hide();var c=dMenuGroup[b];for(var d in c){c[d].show();$(".dashboard-menu-conainer").css("height","auto")}$(".dashboard-menu").fadeIn()});refresh_dashboard_menu_arrow()}function refresh_dashboard_menu_arrow(){var a=$(".dashboard-menu").data("page");$(".dashboard-menu-container").find(".menu-arrow").show();if(a==0){$(".dashboard-menu-container").find(".menu-arrow.previous").hide()}if(!isTrue(dMenuGroup[a+1])){$(".dashboard-menu-container").find(".menu-arrow.next").hide()}}$(".PAGE_COMMENT .comment").advancedTextArea({smileyList:smileylist,inputName:"comment",height:160,maxHeight:160});function delete_comment(a,c){var b=confirm("Are you sure you want to delete this comment?");if(b){$(a).parents(".manage-controls").remove();$(".comment"+c).html("<em>This comment has been deleted.</em>");$.post("discussion/deletecomment/"+PAGE_COMMENT_categoryid,{topicid:PAGE_COMMENT_topicid,commentid:c})}}function scrollToReply(){if(check_is_login()){$("html, body").animate({scrollTop:$("#commentform").offset().top},0)}}function edit_comment(a){var b=$(".comment"+a).html();$(".PAGE_COMMENT .comment").advancedTextArea("inputText",b);$(".leave-comment-text ").html("Edit your comment");$(".editcomment-button").show();$(".commentid").val(a);$("#commentform").attr("action",$("#commentform").attr("action").replace("submitcomment","editcomment"));scrollToReply()}function cancel_edit_comment(){$(".PAGE_COMMENT .comment").advancedTextArea("clear");$(".leave-comment-text ").html("Leave a comment");$(".editcomment-button").hide();$(".commentid").val("");$("#commentform").attr("action",$("#commentform").attr("action").replace("editcomment","submitcomment"))}window.onbeforeunload=function(){var a=$(".PAGE_COMMENT input[name=comment]").val();if($.trim(a)!==""&&!submitting){return"You have not completed your reply/post."}};if(typeof PAGE_COMMENT_focuscomment!="undefined"&&isTrue(PAGE_COMMENT_focuscomment)){$(window).scrollTo("#comment"+PAGE_COMMENT_focuscomment)}function clear_item_form(){if(!isTrue(PAGE_NEWPOST_AREANAME)){$(".PAGE_NEWPOST").find("input[type=text]").val("");$(".PAGE_NEWPOST").find("textarea").val("");$(".PAGE_NEWPOST").find("select").find("option").removeAttr("selected");$(".PAGE_NEWPOST").find("select").find("option:first").attr("selected","")}}function buysell_change(b){if($(".thumb-loading").length>0){alert("Please wait for your photos being uploaded to switch between buy/sell.");if(b=="sell"){$(".actionbutton").removeClass("selected");$(".buybutton").addClass("selected")}else{$(".actionbutton").removeClass("selected");$(".sellbutton").addClass("selected")}return}if($(".as_values_area").val()!=""){var a=confirm("You need to re-enter your location. Proceed?");if(!a){if(b=="sell"){$(".actionbutton").removeClass("selected");$(".buybutton").addClass("selected")}else{$(".actionbutton").removeClass("selected");$(".sellbutton").addClass("selected")}return}}if(b=="sell"){$(".actionbutton").removeClass("selected");$(".sellbutton").addClass("selected");$("input[name='action']").val(b)}else{$(".actionbutton").removeClass("selected");$(".buybutton").addClass("selected");$("input[name='action']").val(b)}if($(".as_values_area").length>0){input_area.autoSuggest2("clearAll")}buy_sell_difference(false)}function remove_area(a){if(a.data("model")!=undefined){var b=a.data("model").id;var c=a.data("model").result;$("#googlemap").customGmap3("clearMarkerByTag",b+c);$("#googlemap").customGmap3("setZoom",11);$("#googlemap").customGmap3("setCenter",1.54404,103.8252198)}$(".map-advice img").hide();$("input[name=moved_marker]").val(0)}function add_area(b){b=$(b);if(b.data("model")!==undefined){var e=b.data("model").latitude;var f=b.data("model").longitude;var d=false;if(e==undefined){e=1.47269;f=103.755569;d=true}var c=b.data("model").id;var h=b.data("model").result;var g;if($("#action").val()==="sell"){g=71}else{g=9}$("#googlemap").customGmap3("addMarker",{width:50,height:67,bgPositionX:g,bgPositionY:123,tag:c+h,latitude:e,longitude:f,draggable:true,animation:google.maps.Animation.DROP,dragStartCallBack:function(){$(".map-advice img").hide();$("input[name=moved_marker]").val(1)}});if(d){$("#googlemap").customGmap3("fitBounds",{limitZoom:11,latitude:e,longitude:f})}else{$("#googlemap").customGmap3("fitBounds",{limitZoom:15,latitude:e,longitude:f})}var a=$("#action").val();if($("input[name=moved_marker]").val()==0){if(a==="sell"){$(".map-advice img").hide();$(".map-advice .sell-marker").show()}else{$(".map-advice img").hide();$(".map-advice .buy-marker").show()}}if(d){insert_tooltip($("#suggest-container"),"Please take note that as the location you have just entered is not in our list, it will take up to one working day for the item to be learnt and posted provided the location is valid.","top",0)}}}function validate_submit(){$.Watermark.HideAll();var b=$("#action").val();remove_all_error();var e=true;$("."+b).each(function(){var g=false;if($(this).hasClass("features-container")){if($(this).find(".feature-item.selected").length<=0){g=true;$(this).addClass("error");e=false}}else{if($.trim($(this).val())==""){if(isTrue($(this).attr("alternative"))){var f=$(this).attr("alternative");if(!isTrue($("*[name="+f+"]").val())){g=true;$(this).parents(".form-group").addClass("error");e=false}}else{g=true;$(this).parents(".form-group").addClass("error");e=false}}}});if($(".thumb-loading").length>0){e=false}if(!e){var a=$("#inputalert")}error_notification();if(!e){$.Watermark.ShowAll();$("body").scrollTo(a,{offset:-70})}else{var c=$("#googlemap").gmap3({get:"marker"});var d=c.getPosition();$("#coordinates").val(d.lat()+","+d.lng());refresh_features_seperate_unknown();refresh_areas_seperate_unknown();PAGE_NEWPOST_SUBMITTING=true}return e}function error_notification(){if($(".error").length>0){insert_alert($("#inputalert"),"danger","Please fill the fields marked with *")}if($(".thumb-loading").length>0){insert_alert($("#inputalert"),"warning","Please wait for your photos being uploaded.")}}function remove_all_error(){$(".error").removeClass("error");$(".errorlabel").remove();$("#inputalert").html("");$("#inputalert").removeClass();$(".asterisk").remove();if(isTrue($("#action").val())){$("."+$("#action").val()).parents(".form-group").find("label").append('<span class="asterisk"> *</span>');$("."+$("#action").val()).find(".panel-heading").find(".selected-count").before('<span class="asterisk"> *</span>')}}function buy_sell_difference(a){var b=$("#action").val();$.Watermark.HideAll();input_area.trigger("clearAll");if(b=="sell"){input_area.trigger("changeOptions",{forceLimit:1,maxAreaLevel:2});$(".hidden-in-sell").hide();$(".hidden-in-buy").show();$("span[selltext]").each(function(){$(this).html($(this).attr("selltext"))});$(".file-upload-container").show();$(".your-message-container").removeClass("col-sm-12").addClass("col-sm-6");$("input[name=builtup]").attr("mark","Please input exact built-up of your property.");$("input[name=land_area]").attr("mark","Please input exact built-up of your property.");$("input[name=price]").attr("mark","Please input desired price of your property.");$("textarea[name=description]").attr("mark","Input more information about this selling request.");$(".tenure").addClass("single-pick");$(".storey").addClass("single-pick");if($(".tenure:first").find(".selected").length>1){$(".tenure").find(".selected").removeClass("selected")}if($(".storey:first").find(".selected").length>1){$(".storey").find(".selected").removeClass("selected")}$(".pricelabel").html($(".pricelabel").html().replace("Budget","Price"))}else{input_area.trigger("changeOptions",{forceLimit:1,maxAreaLevel:4});$(".hidden-in-sell").show();$(".hidden-in-buy").hide();$("span[buytext]").each(function(){$(this).html($(this).attr("buytext"))});$("input[name=builtup]").attr("mark","Please input approximate built-up of your desired property.");$("input[name=land_area]").attr("mark","Please input approximate built-up of your desired property.");$("input[name=price]").attr("mark","Please input your affordable budget.");$("textarea[name=description]").attr("mark","Input more information about this buying request.");$(".file-upload-container").hide();$(".your-message-container").removeClass("col-sm-6").addClass("col-sm-12");$(".storey").removeClass("single-pick");$(".tenure").removeClass("single-pick");$(".pricelabel").html($(".pricelabel").html().replace("Price","Budget"))}$.Watermark.ShowAll();remove_all_error();sync_features_list()}function itemchange(){if($("#itemname").val()=="Apartment"||$("#itemname").val()=="Flat"||$("#itemname").val()=="Condo"){$(".1storey").parents(".features-list").find("li").removeClass("selected");$(".1storey").addClass("selected")}}function land_area_changed(){var b=$("input[name=land_area_width]").val();var a=$("input[name=land_area_height]").val();if(isNumeric(b)&&isNumeric(a)){$("input[name=land_area]").val(b*a)}else{$("input[name=land_area]").val("")}}function resize_map(){var a=$(".left-container").height();$(".map-container").css("height",a)}if(typeof PAGE_NEWPOST_onpage!="undefined"&&isTrue(PAGE_NEWPOST_onpage)){if(!PAGE_NEWPOST_POSTNOW){clear_item_form()}$(".map-advice img").click(function(){$(this).hide()});$("#googlemap").customGmap3();$(window).resize(function(){resize_map()});resize_map();if(check_is_defined(PAGE_NEWPOST_AREANAME)){preFillArea(PAGE_NEWPOST_AREANAME,PAGE_NEWPOST_AREA_ID_LEVEL_STRING,PAGE_NEWPOST_LATITUDE,PAGE_NEWPOST_LONGITUDE)}if(check_is_defined(PAGE_NEWPOST_FEATURE)){preFillFeature(PAGE_NEWPOST_FEATURE)}var value=$("#action").val();if(value=="sell"){var maxlevel=2}else{var maxlevel=99}var input_area=$("#input_area").autoSuggest2({maxAreaLevel:maxlevel,preFill:preFillAreaIDLevel,preFillExtra:preFillAreas,preFillCoordinates:preFillAreaCoordinates,emptyText:"Area not found.",forceLimit:1,selectionAdded:add_area,selectionRemoved:remove_area,forceLimitMessage:"You can only input one location.",waterMark:"Please input only one location.",areaNotFoundHtml:"The location that you have inserted is not recognized by Askahgong.com. You can suggest to us by posting it. It will take us a short while for the validation process before it will be posted, if valid.",enterSubmit:false});$("#itemname").bind("change",itemchange);remove_all_error();buy_sell_difference(true);$(".otherfacilityinput").keyup(function(){var a=$(this);if(isTrue(a.val())){if(!a.data("tooltipset")){insert_tooltip(a,"Please take note that as the facility you have just entered may not be in our list, it will take up to 1 working day for the item to be learnt and posted.","top",0)}}else{clear_tooltip(a)}});$(".otherfacilityinput").preventNumberInput();$(".otherfacilityinput").focusin(function(){var a=$(this);if(isTrue(a.val())&&a.val()!==a.attr("mark")){if(!a.data("tooltipset")){insert_tooltip(a,"Please take note that as the facility you have just entered may not be in our list, it will take up to 1 working day for the item to be learnt and posted.","top",0)}}});$(".otherfacilityinput").focusout(function(){var a=$(this);clear_tooltip(a)});$(window).on("beforeunload",function(){if(!PAGE_NEWPOST_EDITING&&!PAGE_NEWPOST_SUBMITTING){$.Watermark.HideAll();refresh_features_seperate_unknown();var a=false;$(".PAGE_NEWPOST").find("input[type=text],textarea").each(function(){if(isTrue($(this).val())){a=true;return false}});$.Watermark.ShowAll();if((isTrue(a))||$(".PAGE_NEWPOST").find(".suggest-picked-item").length>0||$(".PAGE_NEWPOST").find(".thumbnail-image").length>0){return"Are you sure you want to cancel your posting submission?"}}})}function get_matched_item(a){$.post("item/get_matched_items/0/"+PAGE_ITEM_item_lastseen+"/"+PAGE_ITEM_processid+"/"+PAGE_ITEM_totalcount+"/"+a,function(b){$(".matched-post").html(b);$(".matched-post").find(".switching").switchImageHover();if($(".matched-post").find(".item-vertical").length<=0){$(".matched-post").addClass("no-matched")}})}function close_landmark_filter(){$btn=$("button.landmark-filter");if($btn.hasClass("selected")){toggle_landmark_filter()}}function toggle_landmark_filter(){$btn=$("button.landmark-filter");if($btn.hasClass("selected")){$btn.unselect();$(".landmark-filter-container").hide();fill_landmark()}else{$btn.select();$(".landmark-filter-container").show()}}function sort_landmark_by_frequency(d){var f={};for(var b=0,e=d.length;b<e;b++){var c=d[b].category;f[c]=(f[c]||0)+1}var a=[];for(c in f){a.push({key:c,freq:f[c]})}a.sort(function(h,j){return h.freq-j.freq});var g=[];for(var b=0;b<=a.length-1;b++){g.push({freq:a[b].freq,list:jQuery.grep(d,function(h){return h.category===a[b].key})})}return g}function fill_landmark(a){if(PAGE_ITEM_landmark_timer){clearTimeout(PAGE_ITEM_landmark_timer);if(PAGE_ITEM_xhr!==null){PAGE_ITEM_xhr.abort()}}PAGE_ITEM_landmark_timer=setTimeout(function(){var b=$("#googlemap").customGmap3("getBoundary");var c=$("input[name=category]:checked").map(function(){return $(this).val()}).get();if(c===""){$("#googlemap").customGmap3("clearMarkerByTag","landmark");return}$(".show-all-tag").hide();$(".getting-tag").show();PAGE_ITEM_xhr=$.post("data_controller/get_landmark/"+b.sw_lat+"/"+b.sw_lng+"/"+b.ne_lat+"/"+b.ne_lng,{landmark_type:c.join()},function(h){var g=$.parseJSON(h);g=sort_landmark_by_frequency(g);$("#googlemap").customGmap3("clearMarkerByTag","landmark");var f=[];var j=2.3;var m=$("#googlemap").customGmap3("getZoom");var e=500;var l=0;var d=0;$(g).each(function(n){if(l+this.freq>e&&!isTrue(a)){d+=this.freq;return true}l+=this.freq;$(this.list).each(function(q){var s="image/map_icon/"+this.category.toLowerCase()+"_small.png";var t=m*1.5;var p=m*1.5;var o="bottom";if(m>=18){s="image/map_icon/"+this.category.toLowerCase()+".png";t=34;p=39;o="bottom"}else{if(m<=15){t=15;p=15}}var r=new google.maps.MarkerImage(s,new google.maps.Size(t,p),new google.maps.Point(0,0),null,new google.maps.Size(t,p));f.push({latLng:[this.latitude,this.longitude],tag:"landmark",id:this.id,data:this.name+"(%2)"+this.category,options:{icon:r,title:this.name,zIndex:10}})})});$("#googlemap").customGmap3("addMarker",{markersObjectArr:f,extendBounds:false,clickedCallBack:function(p,o,n){marker_clicked(p.getPosition().lat(),p.getPosition().lng(),n.data,true,n.id)}});$("#googlemap").customGmap3("hideMarkerByID",PAGE_ITEM_current_landmark_id);$(".getting-tag").hide();if(d>0){$(".show-all-tag").show().children(".count").html(d)}})},250)}function toggle_details_expand_state(b){var a=$(b);if(a.parents(".details-parent").hasClass("expand")){a.parents(".details-parent").removeClass("expand")}else{a.parents(".details-parent").addClass("expand")}}function marker_clicked(c,d,a,e,b){if(!isTrue(e)){e=false}PAGE_ITEM_current_name=a.split("(%2)")[0];PAGE_ITEM_current_category=a.split("(%2)")[1];$("#googlemap").customGmap3("clearMarkerByTag","overlay");$("#googlemap").customGmap3("showAllMarkers");$("#googlemap").customGmap3("hideMarkerByID",b);PAGE_ITEM_current_landmark_id=b;$("#googlemap").customGmap3("addMarker",{width:34,height:39,extendBounds:false,path:"image/map_icon/"+PAGE_ITEM_current_category.toLowerCase()+".png",tag:"overlay",latitude:c,longitude:d,alwaysTop:true,title:PAGE_ITEM_current_name});$("#googlemap").customGmap3("clearObject","directionrenderer");$("#googlemap").customGmap3("directionRender",{originLat:PAGE_ITEM_latitude,originLng:PAGE_ITEM_longitude,destLat:c,destLng:d,preserveViewport:e,callBack:function(f){if(!f){return}show_route_result(f)}})}function show_route_result(d){$(".direction-container").html("");var f=d.routes[0].legs[0].steps;var g=d.routes[0].legs[0].distance.text;var a=d.routes[0].legs[0].duration.text;var b="";b+="<div class='row'>";b+="<div class='col-lg-3 text-center col-md-3 col-xs-3 visible-lg' style='padding-right:0px;'>";b+="<img src='image/map_icon/"+PAGE_ITEM_current_category.toLowerCase()+"_big.png'>";b+="</div>";b+="<div class='col-lg-9 col-xs-12 content-container'>";b+="<div class='row'>";b+="<div class='col-lg-8 col-xs-7 col-sm-8'>";b+="<img class='left small-category-icon hidden-lg' src='image/map_icon/"+PAGE_ITEM_current_category.toLowerCase()+"_small.png'>";b+="<div class='title'>";b+=PAGE_ITEM_current_name;b+="</div>";b+="</div>";b+="<div class='col-lg-4 col-xs-5 col-sm-4'>";b+="<div class='distance'>";b+=a+" / "+g;b+="</div>";b+="</div>";b+="</div>";b+="<div class='row'>";b+="<div class='col-lg-12'>";b+="<div class='category-type'>";b+=PAGE_ITEM_current_category;b+="</div>";b+="</div>";b+="</div>";b+="<div class='row'>";b+="<div class='col-lg-12'>";b+="<div class='direction-instructions'>";b+="";b+="</div>";b+="</div>";b+="</div>";b+="</div>";b+="</div>";var e=$(b);var c=e.find(".direction-instructions");c.append("<div>Directions:</div>");$(f).each(function(h){c.append("<div>"+(h+1)+") "+this.instructions.replace("font-size:0.9em","")+"</div>")});$(".direction-container").append(e);$(".direction-container").fadeIn()}function hide_route_result(){$("#googlemap").gmap3({clear:"directionrenderer"});$(".direction-container").fadeOut(function(){$(".markercategory").fadeIn()})}function range_change(c){PAGE_ITEM_dict=[];var b=$(c).val();var a=$(".range-results").find(".content");$(".range-result-details").html("");if(b==0){a.html("");return}a.html("<img src='image/loading3.gif'>");$(".range-filter").removeClass("expand").addClass("expand");if(PAGE_ITEM_range_xhr!==null){PAGE_ITEM_range_xhr.abort()}PAGE_ITEM_range_xhr=$.post("data_controller/get_landmark_within/"+PAGE_ITEM_latitude+"/"+PAGE_ITEM_longitude+"/"+b,function(h){a.html("");a.append("<div style='margin-bottom:5px;'>The following landmarks are near this location</div>");var g=$.parseJSON(h);g.sort(function(p,q){return p.distance-q.distance});var n;for(n in g){var d=PAGE_ITEM_dict[g[n].category];if(!isTrue(d)){d=[]}d.push(g[n]);PAGE_ITEM_dict[g[n].category]=d}var j=[],e;for(e in PAGE_ITEM_dict){var m=0;var o;for(o in PAGE_ITEM_category_arr){if(e===PAGE_ITEM_category_arr[o]){m=o;break}}j.push({category:e,val:m})}j.sort(function(p,q){return p.val-q.val});if(g.length<=0){a.append("<em>No landmark found within this range.</em>")}var n;for(n in j){var f="",l="";f+="<button data-toggle='tooltip' title='"+PAGE_ITEM_dict[j[n].category].length+" "+j[n].category+" within "+b+" KM' class='show-details btn btn-plain-grey' onclick='show_range_details(this,&apos;"+j[n].category+"&apos;,0)'>";f+="<img class='landmark-icon left' src='image/map_icon/"+j[n].category.toLowerCase()+"_small.png'>";if(PAGE_ITEM_dict[j[n].category].length>99){l="style='font-size:85%'"}if(PAGE_ITEM_dict[j[n].category].length>999){l="style='font-size:65%'"}f+="<span "+l+">"+PAGE_ITEM_dict[j[n].category].length+"</span>";f+="</button>";a.append(f)}})}function show_range_details(c,b,f){if(f===0){$("button.show-details").removeClass("selected");$(c).addClass("selected");$(".range-result-details").html("");$("body").scrollTo(".range-results-container",{duration:"slow",offset:-100})}else{$(c).remove()}var a=PAGE_ITEM_dict[b],d=0,g;for(g=f;g<=a.length-1;g+=1){if(d===5){break}var e="";e+="<div class='row'>";e+="<div class='col-lg-12'>";e+="<div class='result-container'>";e+="<div class='row'>";e+="<div class='col-lg-6 col-md-6 col-sm-6 col-xs-12' style='margin-top:5px'>";e+=a[g].name;e+="</div>";e+="<div class='col-lg-6 col-md-6 col-sm-6 col-xs-12'>";e+="<div class='right'>";e+=a[g].distance+"KM";e+="<button class='btn btn-trans show-on-map' onclick='show_on_map("+a[g].latitude+","+a[g].longitude+",&apos;"+a[g].name+"(%2)"+a[g].category+"&apos;,"+a[g].id+")'>";e+="<span>Show On Map</span>";e+="<i class='icons'></i>";e+="</button>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";d+=1;$(".range-result-details").append(e)}if(g<=a.length-1){var e="";e+="   <div class='row'>";e+="       <div class='col-lg-12 text-center'>";e+="            <a onclick='show_range_details(this,&apos;"+b+"&apos;,"+g+")' class='load-more' href='javascript:void(0);'>Load More Landmarks</a>";e+="       </div>";e+="   </div>";$(".range-result-details").append(e)}$(".range-result-details").slideDown()}function find_nearest(b){$(".nearest-result-details").html("");var c=$("input[name=nearest-category]:checked").map(function(){return $(this).val()}).get();if($.trim(c)===""){var a=$(b);a.tooltip({title:"Please pick a landmark type first"}).tooltip("show");setTimeout(function(){a.tooltip("destroy")},1000);return}if(isTrue(PAGE_ITEM_nearest_xhr)){PAGE_ITEM_nearest_xhr.abort()}PAGE_ITEM_nearest_xhr=$.post("data_controller/get_nearest_landmark/"+PAGE_ITEM_latitude+"/"+PAGE_ITEM_longitude+"/",{landmark_type:c.join()},function(h){var g=$.parseJSON(h);var j=[];for(m in g){var l=0;var n;for(n in PAGE_ITEM_category_arr){if(g[m].category.toLowerCase()===PAGE_ITEM_category_arr[n].toLowerCase()){l=n;break}}j.push({landmark:g[m],val:l})}j.sort(function(o,p){return o.val-p.val});var m;for(m in j){var f=j[m].landmark;var e="";e+="<div class='row'>";e+="<div class='col-lg-12'>";e+="<div class='result-container'>";e+="<div class='row'>";e+="<div class='col-lg-1 col-md-2 col-xs-3 text-center icon-container' style='padding:10px;padding-left:25px;'>";e+="<img class='img-responsive inline-block' src='image/map_icon/"+f.category.toLowerCase()+"_big.png'>";e+="</div>";e+="<div class='col-lg-8 col-md-7 col-xs-9 content-container'>";e+="<span class='text1'>Nearest "+f.category+"</span><br>";e+="<span class='text2'> - "+f.name+" ("+f.distance+"KM)</span>";e+="</div>";e+="<div class='col-lg-3 col-md-3 col-xs-12' style='margin-top:17px;padding-right:30px;'>";e+="<div class='right'>";e+="<button class='btn btn-trans show-on-map' onclick='show_on_map("+f.latitude+","+f.longitude+",&apos;"+f.name+"(%2)"+f.category+"&apos;,"+f.id+")'>";e+="<span>Show On Map</span>";e+="<i class='icons'></i>";e+="</button>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";e+="</div>";$(".nearest-result-details").append(e)}$(".nearest-result-details").slideDown();if(g.length>6){$("body").scrollTo(".nearest-result-details",{duration:"slow",offset:-100})}else{var d=$(".nearest-result-details").find(".result-container:last");$("body").scrollTo(d,{duration:"slow",offset:-100-450})}})}function show_on_map(c,d,a,b){$("body").scrollTo("#googlemap",{duration:"slow",offset:-100});marker_clicked(c,d,a,false,b)}function show_related(a,b){$(a).parent("div").find(".option").removeClass("selected");$(a).addClass("selected");get_more_related(b,0)}function get_more_related(b,a){if(PAGE_ITEM_related_xhr){PAGE_ITEM_related_xhr.abort()}PAGE_ITEM_related_xhr=$.post("item/get_related/"+b+"/"+a+"/"+PAGE_ITEM_id,function(c){if(b.charAt(0)==="s"){if(a===0){$(".similar-sell").find(".result-pane").find(".row").html("")}$(".similar-sell").find(".result-pane").data("count",$("#"+b).html()).find(".row").append(c);$(".similar-sell").find(".result-pane").find(".result").mouseenter(function(){similar_item_mouseenter(this)});$(".similar-sell").find(".result-pane").find(".result").mouseleave(function(){similar_item_mouseleave(this)});$(".similar-sell").find(".switching").switchImageHover();refresh_position("sell",a)}else{if(b.charAt(0)==="b"){if(a===0){$(".similar-buy").find(".result-pane").find(".row").html("")}$(".similar-buy").find(".result-pane").data("count",$("#"+b).html()).find(".row").append(c);$(".similar-buy").find(".result-pane").find(".result").mouseenter(function(){similar_item_mouseenter(this)});$(".similar-buy").find(".result-pane").find(".result").mouseleave(function(){similar_item_mouseleave(this)});$(".similar-buy").find(".switching").switchImageHover();refresh_position("buy",a)}}})}function get_pane_by_type(b){var a;if(b==="sell"){a=$(".similar-sell").find(".result-pane")}else{if(b==="buy"){a=$(".similar-buy").find(".result-pane")}}return a}function refresh_position(d,c){var a=get_pane_by_type(d);if(c===0){var b=0}else{var b=a.find(".result").first().data("left")}a.find(".result").each(function(){$this=$(this);$this.data("left",b);b+=$this.outerWidth()});start_animate(d);refresh_similar_items_button(d)}function start_animate(b){var a=get_pane_by_type(b);a.find(".result").each(function(){$this=$(this);$this.animate({left:$this.data("left")},300,function(){$(this).css("z-index",1)})})}function refresh_similar_items_button(d){var a=get_pane_by_type(d),c=false,b=false;a.find(".result").each(function(){var e=$(this);if(e.data("left")<0){c=true}if(e.data("left")+e.outerWidth()>a.outerWidth()){b=true}if(c&&b){return false}});if(c){a.find(".prev").show()}else{a.find(".prev").hide()}a.data("reach_end",false);if(b){a.find(".next").show()}else{a.find(".next").hide();a.data("reach_end",true)}}function similar_items_move(e,c){var a=get_pane_by_type(e),b=0;if(c==="right"){var d=0;a.find(".result").each(function(){var f=$(this);if(f.data("left")+f.outerWidth()>a.outerWidth()){b=-(f.data("left")-d);return false}d=f.data("left")})}else{if(c==="left"){a.find(".result").each(function(){var f=$(this);if(f.data("left")<0&&f.data("left")+f.outerWidth()>=0){b=(-f.data("left"));return false}})}}a.find(".result").each(function(){$(this).data("left",$(this).data("left")+b)});start_animate(e);refresh_similar_items_button(e);if(a.data("reach_end")&&a.data("count")>a.find(".result").length){var e=a.parents(".similar").find(".option.selected").find("span").attr("id");get_more_related(e,a.find(".result").length);a.find(".next").show()}}function similar_item_mouseenter(b){var a=$(b);a.find(".criteria").stop(true).animate({bottom:-100},300,function(){a.find(".details").each(function(c){$(this).delay(c*100).animate({left:0},200)})})}function similar_item_mouseleave(b){var a=$(b);a.find(".criteria").stop(true).animate({bottom:0},300);a.find(".details").stop(true).css("left",-300)}function initiate_item_page(){var a=[];if($("#s_p").attr("count")>0){a.push("s_p")}if($("#s_a").attr("count")>0){a.push("s_a")}if($("#s_pa").attr("count")>0){a.push("s_pa")}if($("#b_p").attr("count")>0){a.push("b_p")}if($("#b_a").attr("count")>0){a.push("b_a")}if($("#b_pa").attr("count")>0){a.push("b_pa")}$(a).each(function(b){show_related(a[b])})}function photo_clicked(a){var b=$(a).parents(".white-box").index();move_slider_to_position(b)}function move_slider_next_prev(a){var b=$(".white-box.selected").index(),c=$(".img-slider").find(".content").find(".has-pic").length;if(a==="next"){b+=1}else{b-=1}if(b>c-1){b=0}if(b<0){b=c-1}move_slider_to_position(b)}function move_slider_to_position(b){$(".img-slider").find(".white-box").removeClass("selected");var a=$(".img-slider").find(".content").find(".white-box").eq(b);a.addClass("selected");$(".img-container").find(".photo").attr("src",a.find("img").attr("src").replace("thumb/",""));scroll_slider_if_needed(b)}function return_to_item_position(){$("#googlemap").customGmap3("fitBounds",{limitZoom:17,latitude:PAGE_ITEM_latitude,longitude:PAGE_ITEM_longitude})}function scroll_to_similar_items(){$("body").scrollTo($(".similar-items-container"),200,{offset:-60})}function scroll_slider_if_needed(f){var b=$(".img-slider").find(".content").find(".white-box.selected"),g=b.position().left,h=b.outerWidth(),a=$(".img-slider").find(".content").find(".scroll"),c=parseInt(a.css("margin-left").replace("px",""),10),d=a.parents(".content").outerWidth(),e=h+g-d;if(f===0){a.stop(true).animate({"margin-left":0},300);return}if(g+h<d&&g>=0){}else{if(g<0){a.stop(true).animate({"margin-left":c-(g)},300)}else{if(g+h-c>d){a.stop(true).animate({"margin-left":-(-(c)+e)},300)}}}}$(".img-slider").find(".white-box.has-pic").hover(function(){var a=$(this),b=a.find(".preview-pic"),f=-15;if(a.position().left<15){var e=a.position().left;f=-e}var c=$(".img-slider").find(".content").find(".scroll");var d=c.parents(".content").outerWidth();if(a.position().left+a.outerWidth()+15>d){var e=d-a.position().left;f=-(80-e)}b.show();b.stop(true).animate({height:"70px",width:"80px",left:f+"px",top:"-10px"},300,"easeOutBack")},function(){var a=$(this);var b=a.find(".preview-pic");b.stop(true).animate({height:"20px",width:"20px",left:"15px",top:"15px"},300,"easeInBack",function(){b.hide()})});if(typeof PAGE_ITEM_onpage!="undefined"&&isTrue(PAGE_ITEM_onpage)){$(document).click(function(){close_landmark_filter()});if($(".matched-post").length>0){get_matched_item(0)}$(".section-fixed.other").scrollToFixed({marginTop:80,limit:function(){var a=$(".container").offset().top+$(".container").outerHeight()-$(".section-fixed").outerHeight(true)-20;return a},zIndex:30});$(".items-matched").scrollToFixed({marginTop:80});$(".shortlist-button-container").scrollToFixed({marginTop:function(){var b=viewport("height");var a=(b/2)-($(".shortlist-button-container").outerHeight()/2);return a},zIndex:0});$("#googlemap").customGmap3({idleCallBack:fill_landmark,hidePOI:true,scrollWheelDelayTime:700});var markerX;if(PAGE_ITEM_type==0){markerX=71}else{markerX=9}$("#googlemap").customGmap3("addMarker",{width:50,height:67,bgPositionX:markerX,bgPositionY:123,latitude:PAGE_ITEM_latitude,longitude:PAGE_ITEM_longitude,animation:google.maps.Animation.DROP,zIndex:30});return_to_item_position();var focus_cls=window.location.hash.replace("#","");if(isTrue(focus_cls)&&focus_cls=="request"&&PAGE_ITEM_userid!=MY_USERID&&PAGE_ITEM_deleted==false){alert("This item has been takenover by another agent.")}}var diagram_is_animating=false;if($(".PAGE_LANDING").length>0){$(".PAGE_LANDING").find(".slider").soulSlider({onChangePage:stopYoutubeVideo});$(".PAGE_LANDING").find(".featurebuttons").each(function(){$(this).qtip({content:{text:$(this).attr("tip-content")},position:{my:"bottom center",at:"top center",adjust:{y:50}},style:{classes:"featurebuttons-popup"}})});$(window).scroll(function(){if(is_scrolled_into_view($(".diagram .user-a"))&&!diagram_is_animating){start_diagram_animation()}});var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var player;function onYouTubeIframeAPIReady(){player=new YT.Player("player",{videoId:"VSteZzRXaAM",events:{onStateChange:onPlayerStateChange}})}function stopYoutubeVideo(){player.stopVideo()}function onPlayerStateChange(a){if(a.data==YT.PlayerState.PLAYING){$(".PAGE_LANDING").find(".slider").soulSlider("pause")}if(a.data==YT.PlayerState.PAUSED||a.data==YT.PlayerState.ENDED){$(".PAGE_LANDING").find(".slider").soulSlider("unpause")}}}function start_diagram_animation(){$(".diagram-elements").css("opacity",0);$(".start-button").remove();$(".pink-overlap").css("opacity",1);$(".pink-line").css("opacity",1);$(".pinkland").css("opacity",1);$(".greenland").css("opacity",1);$(".orangeland").css("opacity",1);$(".pink-overlap").css("width",405);diagram_is_animating=true;diagram_animate_green();setTimeout(function(){diagram_animate_blue()},18000);setTimeout(function(){diagram_animate_brown()},22000);setTimeout(function(){diagram_animate_orange_partone()},33000);setTimeout(function(){diagram_animate_orange_parttwo()},46000);setTimeout(function(){diagram_animate_pink_partone()},56000);setTimeout(function(){diagram_animate_pink_parttwo()},66000)}function diagram_animate_green(a){$(".part-a").css("opacity",1);$("#target").typeWriter({text:"User-A will like to find a website to buy/sell properties."});$(".user-a").animate({opacity:1},1000,function(){var b=$(".green-line").css("height");$(".green-line").css("height",0).css("opacity",1);setTimeout(function(){$("#target").typeWriter({text:"User-A can post his property requests to Askahgong.com via conventional website posting or SMS."})},3000);$(".green-line").delay(3000).animate({height:b},2000,function(){$(".web-protocol").delay(1200).animate({opacity:1},100);$(".sms-protocol").delay(1800).animate({opacity:1},100)})});setTimeout(function(){move_green_arrow()},11000);setTimeout(function(){move_green_arrow()},14000)}function move_green_arrow(){move_on_path($(".green-arrow.one"),190,164,102,259,20,-30,2500,0.25);move_on_path($(".green-arrow.two"),209,164,147,271,20,-30,2300,0.25);move_on_path($(".green-arrow.three"),232,165,179,239,20,-30,2000,0.25)}function diagram_animate_blue(){$(".part-b").css("opacity",1);$("#target").typeWriter({text:"Ah Gong picks up the message"});var a=$(".blue-line").css("height");$(".blue-line").css("height",0).css("opacity",1);$(".blue-line").animate({height:a},1500,function(){$(".ahgong").animate({opacity:1},500)});setTimeout(function(){move_blue_arrow()},2000);setTimeout(function(){move_blue_arrow()},3500)}function move_blue_arrow(){move_on_path($(".blue-arrow.one"),119,320,256,404,20,-30,1500,0.25);move_on_path($(".blue-arrow.two"),162,324,256,404,20,-30,1500,0.25);move_on_path($(".blue-arrow.three"),186,324,256,404,20,-30,1500,0.25)}function diagram_animate_brown(){$("#target").typeWriter({text:"Ah Gong picks up the message",appendText:" and translates the request into a posting on Askahgong.com."});var a=$(".brown-line").css("width");$(".brown-line").css("width",0).css("opacity",1);$(".brown-line").animate({width:a},2000,function(){$(".internet").animate({opacity:1},100)});setTimeout(function(){move_brown_arrow()},3000);setTimeout(function(){move_brown_arrow()},5000)}function move_brown_arrow(){move_on_path($(".brown-arrow"),287,416,436,432,10,0,2000,0.25)}function diagram_animate_orange_partone(){$(".part-c").css("opacity",1);$("#target").typeWriter({text:"Ah Gong displays the result on Askahgong.com instantly, before sending the notification out via web message or SMS to all who have shown interest within the Askahgong.com community."});var a=238;$(".orange-line").css("width",0).css("opacity",1);$(".orange-line").animate({width:a},2000,function(){$(".result").animate({opacity:1},500);$(".web-notification").delay(2500).animate({opacity:1},500);$(".sms-notification").delay(3100).animate({opacity:1},500)});setTimeout(function(){move_orange_arrow_partone()},7000);setTimeout(function(){move_orange_arrow_partone()},9000)}function move_orange_arrow_partone(){move_on_path($(".orange-arrow.one"),542,435,700,372,10,-20,2000,0.25);move_on_path($(".orange-arrow.two"),542,435,772,384,10,-20,2000,0.25)}function diagram_animate_orange_parttwo(){$("#target").typeWriter({text:"Askahgong.com User-B is alerted instantly via Web or SMS notification and he shortlists it as an option."});var a=356;$(".orange-line").animate({width:a},500,function(){$(".user-b").animate({opacity:1},100)});setTimeout(function(){move_orange_exclaim_parttwo()},1000);setTimeout(function(){move_orange_exclaim_parttwo()},3000)}function move_orange_exclaim_parttwo(){move_on_path($(".orange-exclaim"),854,309,838,206,30,-50,2000,0.25)}function diagram_animate_pink_partone(){$(".part-d").css("opacity",1);$("#target").typeWriter({text:"He speaks to User-A via instant message and arranges a time to meet."});$(".pink-overlap").animate({width:270},2000,function(){$(".messaging").animate({opacity:1},500)});setTimeout(function(){move_pink_comment_partone()},2500);setTimeout(function(){move_pink_comment_partone()},4500)}function move_pink_comment_partone(){move_on_path($(".pink-comment.one"),785,142,668,115,0,0,2000,0.25)}function diagram_animate_pink_parttwo(){$("#target").typeWriter({text:"A week later, User-A gets a good offer from User-B and there are now 2 new friends within the Askahgong.com community."});$(".pink-overlap").animate({width:0},2000,function(){$(".deal").animate({opacity:1},500)});var a=$(".green-line-two").css("width");$(".green-line-two").css("width",0).css("opacity",1);$(".green-line-two").animate({width:a},2000);setTimeout(function(){move_pink_comment_parttwo()},2000);setTimeout(function(){move_pink_comment_parttwo()},4000);$(".replay").show().delay(6600).animate({opacity:1},700)}function move_pink_comment_parttwo(){move_on_path($(".pink-comment.two"),564,101,443,101,0,0,2000,0.25);move_on_path($(".green-comment.one"),253,138,401,100,-15,0,2000,0.25)}function move_on_path(a,j,l,d,e,h,c,f,g){a.css("opacity",1);if(!isTrue(g)){g=0.25}var b={start:{x:j,y:l,angle:h},end:{x:d,y:e,angle:c,length:g}};a.animate({path:new $.path.bezier(b)},f)}function remove_first_zero(a){if(a.length>0){if(a.charAt(0)=="0"){a=a.substring(1)}}return a}function submit_reset(){var c=$("#emailreset").find("input[name=phone]").val(),a=$("#emailreset").find("input[name=countrycode]").val(),b=$("#emailreset").find("input[name=email]").val();c=remove_first_zero(c);if(c===""||b===""){insert_alert($("#resetpasswordalert"),"danger",$.myResourceString("EMPTY_FIELD"))}else{loading($("#emailreset").find(".modal-body"));$.post("user/resetpassword",{phone:c,countrycode:a,email:b},function(e){clear_loading($("#emailreset").find(".modal-body"));var d,f;if(e==="PASSWORD_RESET_OK"){f="success";$("#emailreset").find("input").not(".countrycode").val("")}else{f="danger"}d=$.myResourceString(e);insert_alert($("#resetpasswordalert"),f,d)})}}function login(){var c=$("#remember:checked").val()?"yes":"no";var b=remove_first_zero($("#phone1").val());var a=$("#password1").val();if(a===""||b===""){insert_alert(("#loginalert"),"danger",$.myResourceString("EMPTY_FIELD"));return}loading($("#loginform"));$.post("user/submit_login/"+c,{phone:b,password:a,countrycode:$("#countrycode1").val()},function(e){if(e==="1"){clearStorage();var d=getUrlVars()["login"];if(d===""||d===undefined){d="redirect/login_redirect"}direct_to_url(d)}else{insert_alert($("#loginalert"),"danger",$.myResourceString(e));clear_loading($("#loginform"))}})}function otp_matching(){var c=$("#phone2").val();c=remove_first_zero(c);var a=$("#countrycode2").val(),d=a.replace("+","")+c,b=$("input[name=otp]").val();$(".otpform").hide();$.post("user/check_otp_matched",{phone:d,otp:b},function(e){if(e==="0"){$(".otpform").show();alert($.myResourceString("OTP_NOT_MATCHED"))}else{$("#phone2").val("");$("#password2").val("");$("#retypeuserpassword").val("");$("input[name=otp]").val("");insert_alert(("#registeralert"),"success",$.myResourceString("REGISTER_OK"));clear_loading($("#registerform"))}})}function register(){var d=$("#phone2").val(),c=$("#password2").val(),e=$("#retypeuserpassword").val(),a=$("#countrycode2").val();d=remove_first_zero(d);if(c===""||e===""||d===""){insert_alert(("#registeralert"),"danger",$.myResourceString("EMPTY_FIELD"))}else{if(c===e){var b;if($("#terms").is(":checked")){b=true}else{b=false}if(!b){insert_alert(("#registeralert"),"danger",$.myResourceString("TERMS_NOT_CHECKED"));return false}clear_alert(("#registeralert"));loading($("#registerform"));$.post("user/submit_register",{phone:d,password:c,countrycode:a},function(f){if(f==="REGISTER_OK"){$(".otpform").show()}else{insert_alert(("#registeralert"),"danger",$.myResourceString(f));clear_loading($("#registerform"))}})}else{insert_alert(("#registeralert"),"danger",$.myResourceString("RETYPE_PASSWORD_NOT_MATCHED"))}}}if($(".PAGE_LOGIN").length>0){var loginurl=$_GET("login");if(loginurl!==false){insert_alert(("#loginalert"),"danger","Please login before continue.")}if(window.location.hash=="#resetpassword"){$("body").scrollTo($("a.forgotpassword"),{offset:-70});$("a.forgotpassword").click()}$(".PAGE_LOGIN .customform").not(".resetform").click(function(){if($(this).hasClass("otpform")){$(".customform").removeClass("selected");$("#registerform").addClass("selected")}else{$(".customform").removeClass("selected");$(this).addClass("selected")}})}function switch_tab(a,b){if($(a).hasClass("selected")){return}$(".left-tabs-container").find(".header").removeClass("selected");$(a).addClass("selected");$(".PAGE_MESSAGING .conversation-container").removeClass("selected");$(".PAGE_MESSAGING .contact-container").removeClass("selected");if(b==="conversation"){$(".PAGE_MESSAGING .contacts").hide();$(".PAGE_MESSAGING .conversation-list").show();$(".PAGE_MESSAGING .left-tabs-content").css("height",432)}else{$(".PAGE_MESSAGING .contacts").show();$(".PAGE_MESSAGING .conversation-list").hide();$(".PAGE_MESSAGING .left-tabs-content").css("height",401)}refresh_left_tab()}function refresh_left_tab(){$(".left-tabs-content").data("jsp").reinitialise()}function conversation_selected(d,e,c,b){no_more_msg=false;getting_msg=false;if(viewport("width")<768){var a=$("#messaging-modal").find(".page-messaging-container");$("#messaging-modal").modal("show")}else{var a=$(".PAGE_MESSAGING .non-modal").find(".page-messaging-container")}a.find(".messaging").messagingBox({userid:d,username:e,unreadCount:"",unique:PAGE_MESSAGING_unique});PAGE_MESSAGING_unique++;a.find(".main-username").attr("user-panel-id",d);a.find(".username a").removeClass("force-not-link");a.find(".username a").html(e);a.find(".main-username a").attr("href","activity/id/"+d);a.find(".image-container").find("img").attr("src",b);a.find(".adding-contact-only").removeClass("delete-contact").addClass("add-contact").attr("onclick","handle_contact(this,"+d+",false,event,true,true)").hide();if(c.indexOf("online")>=0){a.find(".user-status").removeClass("offline").addClass("online")}else{a.find(".user-status").removeClass("online").addClass("offline")}a.find(".user-status").attr("userid",d);if(isTrue(PAGE_MESSAGING_getisfriend_xhr)){PAGE_MESSAGING_getisfriend_xhr.abort()}PAGE_MESSAGING_getisfriend_xhr=$.post("contact/check_is_in_contact/"+d,function(f){if(f==="0"){a.find(".add-contact").show().css("display","inline-block")}});update_current_conversation();$("body").scrollTo($(".page-messaging-container"),{offset:-100})}function refresh_conversation_unread(){var a=0;$(".PAGE_MESSAGING .message-new-count").each(function(){if(parseInt($(this).text(),10)!=0){a+=1}});$(".conversation-new-count").html(a);if(a>0){$(".conversation-new-count").show()}else{$(".conversation-new-count").hide()}}function new_message_conversation_respond(f,g,j,d){var a=$(".PAGE_MESSAGING .conversation-container[userid="+g+"]");var b=a.parents(".conversation-parent-container");if(b.length>0){b.find(".message").html(d);b.parents(".conversation-list-container").prepend(b);if(f===g){b.find(".replied-indicator").hide();var e=parseInt(b.find(".message-new-count").html(),10);e+=1;b.find(".message-new-count").html(e).show();refresh_conversation_unread()}else{b.find(".replied-indicator").show()}}else{var h,c;if(f===g){h=f;c="others"}else{h=g;c="own"}$.post("contact/create_new_conversation",{userid:h,message:d,from:c},function(l){$(".PAGE_MESSAGING .conversation-list-container").prepend(l);refresh_left_tab()})}}function message_is_read_conversation_respond(a){$(".PAGE_MESSAGING .conversation-container[userid="+a.userid+"]").find(".message-new-count").hide().html(0);refresh_conversation_unread();update_unread_title()}if(typeof PAGE_MESSAGING_onpage!="undefined"&&isTrue(PAGE_MESSAGING_onpage)){$(".fixed-bottom-bar").removeClass("hidden-xs").hide();var $non_modal_html=$(".non-modal").find(".page-messaging-container").clone();$non_modal_html.find(".header").find(".remove-class-modal").attr("class","");$("#messaging-modal").find(".modal-body").html($non_modal_html);$("#messaging-modal").on("show.bs.modal",function(){var a=viewport("height")-196;$(this).find(".messaging-list").css("height",a)});$(".left-tabs-content").jScrollPane().bind("mousewheel",function(a){a.preventDefault()});$(".left-tabs-container").on("click",".contact-container",function(){conversation_selected($(this).attr("userid"),$(this).find(".username").html(),$(this).find(".user-status").attr("class"),$(this).find(".user-image").attr("src"))});$(".left-tabs-container").on("click",".conversation-container",function(){$(".conversation-container").removeClass("selected");$(this).addClass("selected");conversation_selected($(this).attr("userid"),$(this).find(".username").html(),$(this).find(".user-status").attr("class"),$(this).find(".user-image").attr("src"))});refresh_conversation_unread();new_message_callback.splice(0,0,function(a){if(a.type==="mySentMessage"){new_message_conversation_respond(MY_USERID,a.userid,a.username,a.message)}else{if(a.type==="sendMessage"){new_message_conversation_respond(a.userid,a.userid,a.username,a.message)}}});message_is_read_callback.push(message_is_read_conversation_respond);if(isTrue(PAGE_MESSAGING_targetuserid)){$(document).ready(function(){if($(".conversation-container[userid="+PAGE_MESSAGING_targetuserid+"]").length<=0){$.post("contact/create_new_conversation",{userid:PAGE_MESSAGING_targetuserid,username:PAGE_MESSAGING_targetusername,message:""},function(a){$(".conversation-list-container").prepend(a);$(".conversation-container[userid="+PAGE_MESSAGING_targetuserid+"]").click()})}else{$(".conversation-container[userid="+PAGE_MESSAGING_targetuserid+"]").click()}})}if(window.location.hash.replace("#","")==="contact"){switch_tab($(".contact-header"),"contact")}}$(".PAGE_NEWTOPIC .topictext").advancedTextArea({smileyList:smileylist,inputName:"topictext",height:200,maxHeight:200});function switch_topic_category(b){$("*[category]").hide();var a=$(b).find("option:selected").text();if(a==="Select Category"){a="dummy"}$("*[category='"+a+"']").show()}function validate_new_topic(){var b=$("input[name=topictitle]").val();var c=true;var a=$("select[name=category]").val();clear_alert($("#category-alert"));clear_alert($("#title-alert"));if(!isTrue(a)){insert_alert($("#category-alert"),"danger","Please choose a category.");c=false}if(!isTrue($.trim(b))){insert_alert($("#title-alert"),"danger","Please input a title.");c=false}if(!$(".topictext").advancedTextArea("canSubmit")){c=false}PAGE_NEWTOPIC_submiting=c;if(!c){$("body").scrollTo(".newtopicform",{offset:-90})}return c}function cancel_topic(){direct_to_url("discussion/listing/"+PAGE_NEWTOPIC_currentcategoryid)}if($(".PAGE_NEWTOPIC").length>0){$(window).on("beforeunload",function(a){var d=$("input[name=topictitle]").val(),c=$(".topictext").text(),b=true;if((isTrue($.trim(d))||isTrue((c)))&&PAGE_NEWTOPIC_submiting===false){return"Are you sure you want to cancel your topic submission?"}});if(!(window.mozInnerScreenX==null)){$(".PAGE_NEWTOPIC").find("select").css("padding-top","12px")}switch_topic_category($("select[name=category]"))}function cancel_post_item(){if(confirm($.myResourceString("CONFIRM_DELETE"))){loading($(".pending-item-container"));$.post("pending_item/delete_pending_item",{item_id:PAGE_ITEM_ID},function(a){if(a!="1"){alert("You are not allowed to delete this item.");clear_loading($(".pending-item-container"))}else{direct_to_url("posting/view")}})}}function show_agent_details(a){loading($(".agent-details-container"));$.post("pending_item/get_agent_details/"+a,{item_id:PAGE_ITEM_ID},function(b){clear_loading($(".agent-details-container"));$(".agent-details-container").html(b)})}$(".AGENT_LISTING .list").jScrollPane({contentWidth:"0px",}).bind("mousewheel",function(a){a.preventDefault()});$(".AGENT_LISTING .list").bind("jsp-scroll-y",function(a,d,c,b){if(b){pagination_agents_list(true)}});var agent_findxhr;function pagination_agents_list(d){var a=$(".AGENT_LISTING .list");if(!d){a.data("finish","false")}if(a.data("loading")=="true"||a.data("finish")=="true"){return}var b=a.data("jsp").getContentPane();var e=0;if(d){b.append("<img class='loading' src='image/loading3.gif'>");e=b.find(".agent").length}else{a.data("finish","false")}a.data("loading","true");a.data("jsp").reinitialise();var c=$("input[name='agent_keyword']").val();if(isTrue(agent_findxhr)){agent_findxhr.abort()}agent_findxhr=$.post("pending_item/find_agents",{start:e,keyword:c,item_id:PAGE_ITEM_ID},function(g){if(d){b.find(".loading").remove();b.append(g);var f=$("<div></div>");f.append(g);if(f.find(".agent").length<10){a.data("finish","true")}}else{b.html(g);clear_loading(b)}a.data("jsp").reinitialise();a.data("loading","false")})}function keydown_find_agent(d){var a=$(d);var e=a.data("timer");var b=$(".AGENT_LISTING .list");var c=b.data("jsp").getContentPane();loading(c);if(isTrue(e)){clearTimeout(e)}e=setTimeout(function(){pagination_agents_list(false)},300);a.data("timer",e)}function agent_request(a){if(confirm("Are you sure you want to request this agent to be your representative?")){$.post("pending_item/request_agent",{agent_id:a,item_id:PAGE_ITEM_ID},function(c){if(c=="0"){alert("You have exceeded your limit in terms of agent invites.")}else{var b=parseInt($(".agent-count").text(),10)-1;if(b==1){b=b+" agent"}else{if(b==0){$(".agent-count").parents(".green").hide();$(".full-agent-request").show()}else{b=b+" agents"}}$(".agent-count").html(b);show_agent_details(a);$(".agent[agent_id='"+a+"']").find(".request-sent").show()}})}}function accept_agent_propose(a){if(confirm("Click OK to accept this agent as your property representative")){$.post("pending_item/accept_agent",{targetuserid:a,item_id:PAGE_ITEM_ID},function(b){if(b=="NOT_AGENT"){alert("The specific agent is no longer under agent status.")}else{if(b=="ALREADY_HAD_AGENT"){alert("This property is already represented by an agent")}else{direct_to_url(b)}}})}}function sorting_item(a){$("input[name=sorttype]").val(a);search()}function scroll_to_item(c){var a=$(".result-item[itemid="+c+"]");var b=$(".result-item").index(a);var d=-60;if((b+1)===$(".result-item").length){a=$(".result-item:eq("+(b-1)+")");d=-40}$("body").scrollTo(a,{duration:"slow",offset:d})}function scroll_to_search(){$("body").scrollTo("#searchform",{duration:"slow",offset:-60})}function get_overlap_itemids(e){var d=get_house_kept_item(e),a=0;$(kept_items).each(function(l){if(e==this.item.id){a=l;return false}});var f=0;var g=0;var c;for(c=a+1;c<=kept_items.length-1;c+=1){var b=getDistanceFromLatLonInKm(d.latitude,d.longitude,kept_items[c].item.latitude,kept_items[c].item.longitude);if(b<0.5){if(g==0){g=kept_items[c].itemid}f+=1}}var h=0;var j=0;for(c=a-1;c>=0;c-=1){var b=getDistanceFromLatLonInKm(d.latitude,d.longitude,kept_items[c].item.latitude,kept_items[c].item.longitude);if(b<0.5){if(j==0){j=kept_items[c].itemid}h+=1}}return j+","+g+","+h+","+f}function validate_search(){$.Watermark.HideAll();if(PAGE_SEARCH_skip_validation){return true}var b=$("#pricemin").val().replace(/,/g,""),a=$("#pricemax").val().replace(/,/g,"");if((isTrue(b))&&(isTrue(a))){if((parseInt(b,10)>=parseInt(a,10))||parseInt(a,10)<=0){$.Watermark.ShowAll();alert("Price range is invalid.");return false}}refresh_features();return true}function switch_type(a){if(!isTrue(a)){if($(".buybutton").hasClass("selected")){$("input[name='action']").val("1")}else{$("input[name='action']").val("0")}}else{$(".actionbutton").removeClass("selected");if(a==="buy"){$(".buybutton").addClass("selected");$("input[name='action']").val("1")}else{if(a==="sell"){$(".sellbutton").addClass("selected");$("input[name='action']").val("0")}}}buy_sell_switch_text()}function buy_sell_switch_text(){$.Watermark.HideAll();if($(".buybutton").hasClass("selected")){$("label[buytext]").each(function(){$(this).html($(this).attr("buytext"))});$(".hidden-if-sell").show();$(".hidden-if-buy").hide();$("input[name=builtup]").attr("mark","Approx. Ideal Size");$("input[name=pricemin]").attr("mark","Min. Affordable Price");$("input[name=pricemax]").attr("mark","Max. Affordable Price")}else{if($(".sellbutton").hasClass("selected")){$("label[selltext]").each(function(){$(this).html($(this).attr("selltext"))});$(".hidden-if-sell").hide();$(".hidden-if-buy").show();$("input[name=builtup]").attr("mark","Exact Size");$("input[name=pricemin]").attr("mark","Min. Price");$("input[name=pricemax]").attr("mark","Max. Price")}}$.Watermark.ShowAll()}function search(){PAGE_SEARCH_skip_validation=false;$("#searchform").attr("action","search");$("#searchform").attr("method","get");$("#searchform").submit()}function post_now(){PAGE_SEARCH_skip_validation=true;refresh_features();var b=$("input[name=feature]").val().split(",");var a=[];$("#searchform").find(".Facility").find(".feature-item-inner").each(function(){a.push($(this).attr("value"))});var c=[];var d;for(d in b){if($.inArray(b[d],a)!==-1){c.push(d)}}c.reverse();for(var e in c){b.splice(c[e],1)}$("input[name=feature]").val(b.join(","));$("#searchform").attr("action","posting/newpost");$("#searchform").attr("method","post");$("#searchform").submit()}function map_entered(){var a=$("#map_container");var b=$("#my_map").customGmap3("getCenter");a.css("width",695).css("height",505);if(PAGE_SEARCH_return_timer!==undefined&&PAGE_SEARCH_return_timer!==null){clearTimeout(PAGE_SEARCH_return_timer);PAGE_SEARCH_return_timer=null}$("#my_map").customGmap3("resize");$("#my_map").customGmap3("setCenter",b.lat(),b.lng());control_zoom_text("stop")}function pre_two_way_select(a,b){if(PAGE_SEARCH_current_overlay===b){return}two_way_unselect_item(false);$(kept_items).each(function(d){if(b==this.item.id){var c=null;if(a==="result"){c=google.maps.Animation.BOUNCE}$("#my_map").customGmap3("addMarker",{width:40,height:52,bgPositionX:d*48,bgPositionY:67,tag:"overlay",latitude:this.item.latitude,longitude:this.item.longitude,data:this.itemid,alwaysTop:true,animation:c,stopAnimation:800,clickedCallBack:function(g,f,e){scroll_to_item(e.data)},mouseOverCallBack:function(g,f,e){setTimeout(function(){close_info_window_delay(true,b)},100)},mouseOutCallBack:function(){setTimeout(function(){close_info_window_delay(false,b)},100)}});PAGE_SEARCH_current_overlay=b;$("#my_map").customGmap3("hideMarkerByTag",this.item.id);return false}})}function two_way_item_select(c,e){if(!$(".result-item[itemid="+e+"]").hasClass("selected")){$(".result-item").unselect();$(".result-item[itemid="+e+"]").select()}if(c==="marker"){$(".result-item:not([itemid="+e+"])").find(".loading-dot").removeClass("full")}var f=get_overlap_itemids(e).split(",");var g="";if(parseInt(f[2],10)+parseInt(f[3],10)!=0){g+="<div class='paging'>";g+="     <div class='total'>";if(f[0]!=0){g+="     <a class='prev' data-toggle='tooltip' title='View the previous item which is at same coordinate with this item.' data-placement='bottom' onclick='$(this).tooltip(&apos;destroy&apos;);pre_two_way_select(&apos;marker&apos;,"+f[0]+");two_way_item_select(&apos;marker&apos;,"+f[0]+")'> <<< </a>"}g+=(parseInt(f[2],10)+1)+" Of "+(parseInt(f[2],10)+parseInt(f[3],10)+1)+" Units ";if(f[1]!=0){g+="     <a class='next' data-toggle='tooltip' title='View the next item which is at same coordinate with this item.' data-placement='bottom' onclick='$(this).tooltip(&apos;destroy&apos;);pre_two_way_select(&apos;marker&apos;,"+f[1]+");two_way_item_select(&apos;marker&apos;,"+f[1]+")'> >>> </a>"}g+="     </div>";g+="</div>"}var d=get_house_kept_item(e),a="";a+="<div class='info-window' onmouseenter='close_info_window_delay(true,"+e+")' itemid='"+e+"'>";a+="<i></i>";a+="    <div class='icons scrollto' title='Scroll To This Result Item' onclick='scroll_to_item("+e+")'></div>";a+="    <a href='"+d.url+"' target='_blank'><div class='icons goto' title='View Detail'></div></a>";a+="    <div class='left img-container'>";a+="        <img class='img-responsive' src='"+d.firstFile+"'>";a+="</div>";a+="    <div class='left content-container'>";a+="        <div class='text1'>Price:</div>";a+="        <div class='text2'>"+d.pricetoshow+"</div>";a+="        <div class='text1'>Unit Type:</div>";a+="        <div class='text2'>"+d.nametoshow+"</div>";a+="</div>";a+="     <div class='clear'></div>";a+=g;a+="</div>";var b=true;var h=0;if(c!=="marker"){b=false;h=13}PAGE_SEARCH_can_marker_hover_select=false;$("#my_map").customGmap3("closeAllInfoWindow");close_info_window_delay(true,e);$("#my_map").customGmap3("openInfoWindow",{id:e,disableAutoPan:b,html:a,panToZoom:h,tag:"overlay",mouseOverCallBack:function(){close_info_window_delay(true,e)},mouseLeaveCallBack:function(){close_info_window_delay(false,e)},openedCallBack:function(){PAGE_SEARCH_can_marker_hover_select=true;close_info_window_delay(true,e)}})}function two_way_unselect_item(a){$("#my_map").customGmap3("showAllMarkers");$("#my_map").customGmap3("clearMarkerByTag","overlay");$("#my_map").customGmap3("closeAllInfoWindow");PAGE_SEARCH_can_marker_hover_select=true;PAGE_SEARCH_current_overlay="";if(a){$(".result-item").unselect()}}function close_info_window_delay(b,a,c){if(isTrue(PAGE_SEARCH_infowindow_closetimer)){clearTimeout(PAGE_SEARCH_infowindow_closetimer)}if(b===false){PAGE_SEARCH_infowindow_closetimer=setTimeout(function(){two_way_unselect_item(true)},300)}}function control_zoom_text(a){$zoomtext=$(".zoom-text");if(a==="in"){$zoomtext.find(".inner-text").html("Focusing item");$zoomtext.addClass("flash")}else{if(a==="out"){$zoomtext.find(".inner-text").html("Zooming out");$zoomtext.addClass("flash")}else{$zoomtext.removeClass("flash")}}}function return_to_fit_bounds(){if(!isTrue(PAGE_SEARCH_return_timer)){PAGE_SEARCH_return_timer=setTimeout(function(){$("#my_map").customGmap3("fitBounds",{limitZoom:13});PAGE_SEARCH_return_timer=null;$(".result-item").not(".in").removeClass("selected").find(".loading-dot").removeClass("half").removeClass("full");if($(".result-item.in").length<=0){two_way_unselect_item(true)}control_zoom_text("stop")},750)}}function dot_loading(a){var b;var c=a.data("current-dot")+1;var d=a.attr("itemid");for(c;c<=11;c+=1){pre_two_way_select("result",a.attr("itemid"));a.data("current-dot",c);$dot=a.find(".loading-dot").eq(c-1);if(!$dot.hasClass("full")){$dot.addClass("full")}control_zoom_text("in");a.find(".loading-dot").eq(c-4).removeClass("full");if(c==3){clearTimeout(PAGE_SEARCH_return_timer);PAGE_SEARCH_return_timer="";$("#my_map").customGmap3("getMarkerByTag",{tag:"overlay",callBack:function(f){if(!isTrue(f)){return}$("#my_map").customGmap3("smoothZoomOut",{finalZoom:0,latitude:f.getPosition().lat(),longitude:f.getPosition().lng(),})}})}else{if(c===11){a.data("current-dot",0);var e=a.data("timer");if(e!==null){clearInterval(e)}two_way_item_select("abc",a.attr("itemid"));control_zoom_text("stop")}else{break}}}}if($(".PAGE_SEARCH").length>0){$(document).ready(function(){$("#my_map").customGmap3({delayCallBack:map_entered,mapTypeControl:false});$(kept_items).each(function(a){$("#my_map").customGmap3("addMarker",{width:40,height:46,bgPositionX:a*48,tag:this.itemid,latitude:this.item.latitude,longitude:this.item.longitude,data:this.itemid,zIndex:(10-a),clickedCallBack:function(d,c,b){scroll_to_item(b.data)},mouseOverCallBack:function(d,c,b){if(PAGE_SEARCH_can_marker_hover_select){pre_two_way_select("marker",b.data);two_way_item_select("marker",b.data)}}})});$("#my_map").customGmap3("fitBounds",{limitZoom:13});$(".exact-match:not(.selected)").tooltip({title:"exact match a"});$(".exact-match.selected").tooltip({title:"exact match b"});if(PAGE_SEARCH_itemcount===0){$(".exact-match.selected").tooltip("show")}});$(window).resize(function(){arrange_features()});$(".PAGE_SEARCH .result-item").hover(function(){$(".PAGE_SEARCH .result-item").removeClass("selected").find(".loading-dot").removeClass("half").removeClass("full");$(this).addClass("selected");var a=$(this);var b=setInterval(function(){dot_loading(a)},250);$(this).data("timer",b);$(this).data("current-dot",0);$(this).addClass("in");clearTimeout(PAGE_SEARCH_return_timer);PAGE_SEARCH_return_timer=""},function(){var a=$(this).data("timer");$(this).removeClass("in");if(a!==null){clearInterval(a)}return_to_fit_bounds()});$(".PAGE_SEARCH #map_container").mouseenter(function(){if(PAGE_SEARCH_return_timer!==undefined&&PAGE_SEARCH_return_timer!==null){clearTimeout(PAGE_SEARCH_return_timer);PAGE_SEARCH_return_timer=null}if(isTrue(PAGE_SEARCH_map_minimize_timer)){clearTimeout(PAGE_SEARCH_map_minimize_timer)}});$(".PAGE_SEARCH #map_container").mouseleave(function(){var a=$(this);PAGE_SEARCH_map_minimize_timer=setTimeout(function(){var b=$("#my_map").customGmap3("getCenter");a.css("width",$(".left-bar").width()).css("height","290px");$("#my_map").customGmap3("resize");$("#my_map").customGmap3("setCenter",b.lat(),b.lng());return_to_fit_bounds()},550)});$(window).scroll(function(){var a=$("#searchform").offset().top+$("#searchform").outerHeight();if($(document).scrollTop()<=a){$(".scroll-fix").addClass("position-static")}else{$(".scroll-fix").removeClass("position-static")}});$(".scroll-fix").scrollToFixed({marginTop:70,limit:function(){var a=$(".container").offset().top+$(".container").outerHeight()-$(".scroll-fix").outerHeight(true)-20;return a}});if(isTrue(PAGE_SEARCH_did_search)){$(window).scrollTo("#results",{offset:-70})}switch_type();preFillArea();$("#input_area").autoSuggest2({preFill:preFillAreaIDLevel,preFillExtra:preFillAreas,preFillCoordinates:preFillAreaCoordinates,forceLimit:999,width:"",waterMark:"You can input multiple area.",enterSubmit:true});preFillFeature();arrange_features();$(".exact-match").click(function(){toggle_selected(this);refresh_features();$("#searchform").submit();$(".exact-match").unbind("click")})}function validate_user_search(){$.Watermark.HideAll()}function more_activity(b){$(".load-more").slideUp();var a=$(".activities-listing").find(".activity:last").attr("activityid");if(!isTrue(a)){a=0}if(b===MY_USERID){$.post("activity/get_more_my_acitivity/"+a,function(d){$(".activities-listing").append(d);var c=(d.indexOf("activityid")>-1);if(c){$(".load-more").slideDown()}})}else{$.post("activity/get_more_people_acitivity/"+b+"/"+a,function(d){$(".activities-listing").append(d);var c=(d.indexOf("activityid")>-1);if(c){$(".load-more").slideDown()}})}}function check_has_previous_comment(c,b){var a=$(c);if(!isTrue($.trim(a.parents("form").find("textarea").val()))){alert($.myResourceString("EMPTY_SUBMIT"));return}loading(a.parents(".comment-input-container"));$.post("agent_comment/has_previous_comment",{agent_id:b},function(d){if(d>0){if(confirm($.myResourceString("CONFIRM_OVERWRITE_COMMENT"))){delete_agent_comment_thread(null,b,true,function(){add_new_agent_comment_thread(c,b)})}else{clear_loading(a.parents(".comment-input-container"))}}else{add_new_agent_comment_thread(c,b)}})}function delete_agent_comment_thread(c,a,d,b){if(!isTrue(d)){if(!confirm($.myResourceString("CONFIRM_DELETE"))){return}}$.post("agent_comment/delete_previous_thread",{agent_id:a},function(e){if(isTrue(b)){b()}})}function add_new_agent_comment_thread(d,c){var a=$(d);var b=a.parents("form");$.post(b.attr("action"),b.serialize(),function(e){location.reload()})}function switch_review_page(c,d,b){var a=$(c);$(".review-switch").removeClass("selected");a.addClass("selected");switch_review_pagination(a,"agent_comment/get_agent_comment_threads/"+b+"/"+d)}function switch_review_pagination(b,c){var a=$(".agent-comments-container");loading(a);$.post(c,function(d){a.html(d);$("body").scrollTo(a,{offset:-150,duration:200})})}function show_comment_container(a){if(!isTrue(MY_USERID)){check_is_login();return}if(a=="commend"){$(".commend-container").show();$(".report-container").hide()}else{if(a=="report"){$(".commend-container").hide();$(".report-container").show()}}}$(".SUBPAGE_AGENT_COMMENT").on("click",".ajax",function(){var a=$(this).attr("href");if(!isTrue($(this).attr("link"))){$(this).attr("link",a)}$(this).attr("href","javascript:void(0)");switch_review_pagination(this,$(this).attr("link"))});function focus_comment_thread(b){var a=$(".agent-comment-parent[thread_id="+b+"]");$("body").scrollTo(a,{offset:-150,duration:0})}if($(".SUBPAGE_AGENT_COMMENT").length>0){var focus_cls=window.location.hash.replace("#","");if(isTrue(focus_cls)){focus_comment_thread(focus_cls)}}function switch_notification_page(a){$.post("notification/notification_ajax/"+$(a).val(),function(b){$(".history-notification-container").html(b)})}function switch_notification_pagination(a){$.post(a,function(b){$(".history-notification-container").html(b);$("body").scrollTo($(".history-notification-container"),{offset:-60})})}if($(".SUBPAGE_NOTIFICATIONS").length>0){$(".SUBPAGE_NOTIFICATIONS").on("click",".ajax",function(){var a=$(this).attr("href");if(!isTrue($(this).attr("link"))){$(this).attr("link",a)}$(this).attr("href","javascript:void(0)");switch_notification_pagination($(this).attr("link"))});var hash=window.location.hash;if(hash==="#showitem"){$(".SUBPAGE_NOTIFICATIONS .btn-show-history").click();$("body").scrollTo(".notification-history",{offset:-60});$(".SUBPAGE_NOTIFICATIONS .notification-type").val("newItem");switch_notification_page($(".SUBPAGE_NOTIFICATIONS .notification-type"))}else{if(hash==="#showall"){$(".SUBPAGE_NOTIFICATIONS .btn-show-history").click();$("body").scrollTo(".notification-history",{offset:-60})}}}function switch_pending_item_pagination(c,d){var b=$(c);var a=b.parents(".result-items-container");loading(a);$.post(d,function(e){a.html(e);$("body").scrollTo(a,{offset:-150,duration:200})})}$(".SUBPAGE_PENDING").on("click",".ajax",function(){var a=$(this).attr("href");if(!isTrue($(this).attr("link"))){$(this).attr("link",a)}$(this).attr("href","javascript:void(0)");switch_pending_item_pagination(this,$(this).attr("link"))});function sorting_posting(a){window.location=SUBPAGE_POSTING_dashboard_page+"/view/"+SUBPAGE_POSTING_posting_userid+"/"+SUBPAGE_POSTING_filter+"/"+a+"/0/"+location.search}$(".SUBPAGE_POSTING .details-container").append("<img class='left-shadow hidden-xs' src='image/left_shadow.png'>");$(".SUBPAGE_POSTING .img-container").append("<div class='img-door hidden-object' onclick='resize_result_item(event,this)'><div class='icons transition arrow'></div></div>");function resize_result_item(b,a){SUBPAGE_POSTING_resizing=true;if($(a).parents(".result-item").hasClass("stretched")){var c=$(a).parents(".result-item").removeClass("stretched").attr("addedwidth");$(a).parents(".result-item").animate({width:"-="+c},250,function(){arrange_features();setTimeout(function(){SUBPAGE_POSTING_resizing=false},250)});return}var c=290;$(a).parents(".result-item").attr("addedwidth",c).addClass("stretched");$(a).parents(".result-item").animate({width:"+="+(c)},250,function(){arrange_features();setTimeout(function(){SUBPAGE_POSTING_resizing=false},250)})}function reset_all_result_item(){$(".result-item").each(function(){var b=$(this).outerWidth(),a=$(this).attr("addedwidth");if(a!==""){$(this).css("width","");$(this).removeAttr("addedwidth").removeClass("stretched")}})}if($(".SUBPAGE_POSTING").length>0){arrange_features();$(window).resize(function(){if(!SUBPAGE_POSTING_resizing){reset_all_result_item()}arrange_features()})}function role_changed(){var a=$("select[name=roleid] option:selected").text();if(a.toLowerCase()==="agent"){$(".agency").show()}else{$(".agency").hide()}}function validate_update_profile(){$.Watermark.HideAll();var b=true;var a=$("input[name=email]").val();if(a.trim()!==""){if(!validateEmail(a)){insert_alert($("#profileerror"),"danger","Your email is not valid.");b=false}}$(".required").each(function(){if($(this).attr("id")==="agency"){if($("#roleid").find("option:selected").html()==="Agent"){if($(this).val().trim()===""){b=false;insert_alert($("#profileerror"),"danger","Please fill in all the required field marked with *");return false}}else{return true}}if($(this).val().trim()===""){b=false;insert_alert($("#profileerror"),"danger","Please fill in all the required field marked with *");return false}});if(!b){$.scrollTo("#profileerror",{offset:-80});$.Watermark.ShowAll()}return b}if(typeof SUBPAGE_PROFILE_success!="undefined"&&isTrue(SUBPAGE_PROFILE_success)){insert_alert($("#profilealert"),"success","Your profile has been updated successfully.");$("body").scrollTo($("#profilealert"),{offset:-140})}if($(".SUBPAGE_PROFILE").length>0){if($("#username").val().match(/^user\d+$/)){$("#username").val("")}role_changed();$("#fileinput").pluploader({width:200,height:160,fileAddedCallBack:function(a){loading($(".image-box"))},fileUploadedCallBack:function(a,c){clear_loading($(".image-box"));var b=$.parseJSON(c.response);$(".image-box").find("img").attr("src","upload/"+b.result);$.post("profile/set_profile_picture",{filename:"upload/"+b.result},function(d){})}})}$(".SUBPAGE_SETTINGS #input_area").autoSuggest2({forceLimit:1,forceLimitMessage:"You can only input one location.",waterMark:"Please input only one location."});function notification_type_changed(a){if($(a).val()=="1"){$(".time-container").show()}else{$(".time-container").hide();$("#time").val("1")}}function item_type_changed(a){if($(a).val()=="2"){$(".criteria").show()}else{$(".criteria").hide()}}function delete_notification_settings(a,b){var c=confirm($.myResourceString("NOTIFICATION_SETTINGS_DELETING"));if(c){$.post("notification/delete_notification_setting",{id:b},function(d){});insert_alert($("#notification-alert"),"warning",$.myResourceString("NOTIFICATION_SETTINGS_DELETED"));$(a).tooltip("destroy");$(a).parents("tr").remove()}}function save_notification(b){$.Watermark.HideAll();$(".notf-settings-container").show();$(".never-insert").hide();loading($(".notification-settings-form"));var a=$(b).parents("form");$.post("notification/save_notification_setting",$(a).serialize(),function(c){$(".notf-settings-container").find("tbody").append(c);$(".criteria").hide();a.find("select").each(function(){var d=$(this);d.find("option").removeAttr("selected");d.find("option:first").attr("selected","")});a.find("input").each(function(){var d=$(this);d.val("")});$(".SUBPAGE_SETTINGS #input_area").autoSuggest2("clearAll");clear_loading($(".notification-settings-form"));insert_alert($("#notification-alert"),"success",$.myResourceString("NOTIFICATION_SETTINGS_ADDED"));$("body").scrollTo($("#notification-alert"),{offset:-70})});$.Watermark.ShowAll()}function settings_buy_sell_difference(){var a=$("#type").val();$.Watermark.HideAll();if(a==0){$(".pricelabel").each(function(){$(this).html($(this).html().replace("Budget","Price"))});$(".hidden-if-sell").hide();$(".hidden-if-buy").show();$("input[name=pricemin]").attr("mark","Input min. price of your desired property.");$("input[name=pricemax]").attr("mark","Input max. price of your desired property.")}else{$(".pricelabel").each(function(){$(this).html($(this).html().replace("Price","Budget"))});$(".hidden-if-sell").show();$(".hidden-if-buy").hide();$("input[name=pricemin]").attr("mark","Input min. budget of the buying request.");$("input[name=pricemax]").attr("mark","Input max. budget of the buying request.")}$.Watermark.ShowAll()}function submit_password(){var b="";var c="";var d="";var a="";b=document.getElementById("useroriginalpassword").value;c=document.getElementById("userpassword").value;d=document.getElementById("retypeuserpassword").value;a="change-password-alert";if(c!=d){insert_alert($("#"+a),"danger",$.myResourceString("RETYPE_PASSWORD_NOT_MATCHED"));return}else{if(c==d){if(c==""||d==""){insert_alert($("#"+a),"danger",$.myResourceString("EMPTY_FIELD"));return}}}loading($("#changepassword"));$.ajax({url:"settings/changepassword",dataType:"html",type:"post",data:{password:c,originalpassword:b},success:function(e){if(e==="CHANGE_PASSWORD_OK"){insert_alert($("#"+a),"success",$.myResourceString(e));$("#useroriginalpassword").val("");$("#userpassword").val("");$("#retypeuserpassword").val("")}else{insert_alert($("#"+a),"danger",$.myResourceString(e))}clear_loading($("#changepassword"))}})}if($(".SUBPAGE_SETTINGS").length>0){settings_buy_sell_difference()}function report_thread(b,c){if(confirm($.myResourceString("CONFIRM_SEND_REPORT"))){var a=$(b);a.parents(".controls").find(".report").show();a.hide();$.post("agent_comment/report_agent_thread",{thread_id:c},function(d){})}}function get_all_agent_comment_replies(b,d){var a=$(b);var c=a.parents(".agent-comment-container").find(".reply-container:first").attr("reply_id");loading(a.parents(".agent-comment-container"));$.post("agent_comment/get_all_agent_comment_replies",{thread_id:d,max_id:c},function(e){a.parents(".agent-comment-container").find(".replies-container").prepend(e);clear_loading(a.parents(".agent-comment-container"));a.remove()})}function focus_agent_comment_reply_textarea(b){var a=$(b).parents(".agent-comment-container").find(".write-reply").find("textarea");$("body").scrollTo(a,{offset:-300});a.focus()}function submit_agent_comment_reply(c,d,f){var b=d.keyCode||d.which;if(b==13){d.preventDefault();var a=$(c);if(!isTrue(a.val())){a.val("");return}loading(a.parents(".agent-comment-container"));$.post("agent_comment/submit_agent_comment_reply",{content:a.val(),thread_id:f},function(e){a.parents(".agent-comment-container").find(".replies-container").append(e);a.val("");clear_loading(a.parents(".agent-comment-container"))})}}$(".LAYOUT_CONTACT_LISTING").on("click",".contact-container",function(a){$(".contact-container").removeClass("selected");$(this).addClass("selected")});$(".LAYOUT_DASHBOARD_DETAILS .user-details-container").on({mouseenter:function(){if(viewport("width")>=768){$(".hidden-details-box").show();$(".show-hidden-details").removeClass("shown").removeClass("not-shown").addClass("shown")}},mouseleave:function(){$(".hidden-details-box").hide();$(".show-hidden-details").removeClass("shown").removeClass("not-shown").addClass("not-shown")}},".details");function show_all_details(){$(".user-details-container-small").removeClass("visible-xs").hide();$(".user-details-container").removeClass("hidden-xs").show();$(".hidden-details-control").remove();$(".hidden-details").removeClass("hidden-object");$(".show-hidden-details-anchor").remove();$(".show-all").remove();$(".user-message").html($(".user-message").attr("title"))}function update_description(b){$.Watermark.HideAll();var a=$(b).find("*[name=description]").val();$.post("profile/updatedescription",{description:a},function(){location.reload()});$.Watermark.ShowAll()}function clear_search_contact(b){var a=$(b);a.find("input[name=keyword]").val("");search_contacts(b)}function search_contacts(c){var d=$(c).find("input[name=keyword]").val(),a,b;b=$("."+CONTROL_CONTACT_SEARCHBOX_container_class).data("jsp");a=b.getContentPane();if(isTrue(d)){a.find("."+CONTROL_CONTACT_SEARCHBOX_container_child).find(".contact-list-search").show();a.find("."+CONTROL_CONTACT_SEARCHBOX_container_child).find(".contact-list-self").hide();$(c).find(".back-button").show()}else{a.find("."+CONTROL_CONTACT_SEARCHBOX_container_child).find(".contact-list-search").hide();a.find("."+CONTROL_CONTACT_SEARCHBOX_container_child).find(".contact-list-self").show();$(c).find(".back-button").hide()}if(isTrue(CONTROL_CONTACT_SEARCHBOX_container_child)){a=a.find("."+CONTROL_CONTACT_SEARCHBOX_container_child).find(".contact-list-search")}a.html("<img class='padding-equal' src='image/loading3.gif'>");b.reinitialise();if(CONTROL_CONTACT_SEARCHBOX_xhr){CONTROL_CONTACT_SEARCHBOX_xhr.abort()}CONTROL_CONTACT_SEARCHBOX_xhr=$.post("contact/find_contacts",{keyword:d},function(e){a.html(e);b.reinitialise();attach_contact_tooltip();bind_timeago_to_contacts()})}function delete_image(a,d){if($(a).hasClass("disabled")){return}if($("#"+d).find(".thumbnail-image").attr("type")=="temp"){try{CONTROL_CONTACT_FILE_UPLOADER_uploader.removeFile(CONTROL_CONTACT_FILE_UPLOADER_uploader.getFile(d))}catch(b){}edit_input()}else{if($("#"+d).find(".thumbnail-image").attr("type")=="saved"){var c=$("#"+d).find(".thumbnail-image").attr("filename");c=c.replace(/\//g,"%21%21");$.post("data_controller/delete_file/"+c)}}$("#"+d).remove();handle_sample_photo()}function edit_input(){var a="";$(".thumbnail-image").each(function(b,c){if($(this).attr("type")=="temp"){if($(this).attr("filename")!=""){a+=$(this).attr("filename")+","}}});$("#real_file_name").val(a)}function generate_thumbnail(b,d,a){var c="";c+='<div class="left position-relative" type="temp" class="thumbnail-parent" id="'+b+'" style="padding-right:8px;margin-top:8px;">';c+='	<div class="thumbnail">';if(d=="saved"){c+='    	<img class="thumbnail-image" type="saved" filename="'+a+'" src="'+a+'" alt="">'}else{if(d=="temp"){c+='      <div class="thumb-img-container thumb-loading text-center"><div class="progress-text" style="margin-top:28px;">Pending.</div></div> ';c+='    	<img class="thumbnail-image" type="temp" filename="" src="" alt="">'}}c+='    	<div class="caption" align="center">';c+='      	 <a class="deletebutton btn btn-xs btn-grey" onclick="delete_image(this,&apos;'+b+'&apos;)">Delete</a> ';c+="      </div>";c+="   </div>";c+="</div>	";return c}function handle_sample_photo(a){if($("#filelist").find("div").length>0||isTrue(a)){$("#sample-photo").hide()}else{$("#sample-photo").show()}};
